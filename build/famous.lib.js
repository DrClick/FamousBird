/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**
* @preserve Copyright 2012 Twitter, Inc.
* @license http://www.apache.org/licenses/LICENSE-2.0.txt
*/

!function(t,i){if("function"==typeof define&&define.amd)define(i);else if("object"==typeof window){var e;window.addEventListener("load",function(){t.Famous=i(),e&&t.Famous(e)}),t.Famous=function(t){e=t}}else t.Famous=i()}(this,function(){var requirejs,require,define;!function(t){function i(t,i){return g.call(t,i)}function e(t,i){var e,s,o,n,r,a,u,h,c,p,l=i&&i.split("/"),f=m.map,d=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(i){for(l=l.slice(0,l.length-1),t=l.concat(t.split("/")),h=0;h<t.length;h+=1)if(p=t[h],"."===p)t.splice(h,1),h-=1;else if(".."===p){if(1===h&&(".."===t[2]||".."===t[0]))break;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((l||d)&&f){for(e=t.split("/"),h=e.length;h>0;h-=1){if(s=e.slice(0,h).join("/"),l)for(c=l.length;c>0;c-=1)if(o=f[l.slice(0,c).join("/")],o&&(o=o[s])){n=o,r=h;break}if(n)break;!a&&d&&d[s]&&(a=d[s],u=h)}!n&&a&&(n=a,r=u),n&&(e.splice(0,r,n),t=e.join("/"))}return t}function s(i,e){return function(){return c.apply(t,y.call(arguments,0).concat([i,e]))}}function o(t){return function(i){return e(i,t)}}function n(t){return function(i){f[t]=i}}function r(e){if(i(d,e)){var s=d[e];delete d[e],v[e]=!0,h.apply(t,s)}if(!i(f,e)&&!i(v,e))throw new Error("No "+e);return f[e]}function a(t){var i,e=t?t.indexOf("!"):-1;return e>-1&&(i=t.substring(0,e),t=t.substring(e+1,t.length)),[i,t]}function u(t){return function(){return m&&m.config&&m.config[t]||{}}}var h,c,p,l,f={},d={},m={},v={},g=Object.prototype.hasOwnProperty,y=[].slice;p=function(t,i){var s,n=a(t),u=n[0];return t=n[1],u&&(u=e(u,i),s=r(u)),u?t=s&&s.normalize?s.normalize(t,o(i)):e(t,i):(t=e(t,i),n=a(t),u=n[0],t=n[1],u&&(s=r(u))),{f:u?u+"!"+t:t,n:t,pr:u,p:s}},l={require:function(t){return s(t)},exports:function(t){var i=f[t];return"undefined"!=typeof i?i:f[t]={}},module:function(t){return{id:t,uri:"",exports:f[t],config:u(t)}}},h=function(e,o,a,u){var h,c,m,g,y,S,b=[];if(u=u||e,"function"==typeof a){for(o=!o.length&&a.length?["require","exports","module"]:o,y=0;y<o.length;y+=1)if(g=p(o[y],u),c=g.f,"require"===c)b[y]=l.require(e);else if("exports"===c)b[y]=l.exports(e),S=!0;else if("module"===c)h=b[y]=l.module(e);else if(i(f,c)||i(d,c)||i(v,c))b[y]=r(c);else{if(!g.p)throw new Error(e+" missing "+c);g.p.load(g.n,s(u,!0),n(c),{}),b[y]=f[c]}m=a.apply(f[e],b),e&&(h&&h.exports!==t&&h.exports!==f[e]?f[e]=h.exports:m===t&&S||(f[e]=m))}else e&&(f[e]=a)},requirejs=require=c=function(i,e,s,o,n){return"string"==typeof i?l[i]?l[i](e):r(p(i,e).f):(i.splice||(m=i,e.splice?(i=e,e=s,s=null):i=t),e=e||function(){},"function"==typeof s&&(s=o,o=n),o?h(t,i,e,s):setTimeout(function(){h(t,i,e,s)},4),c)},c.config=function(t){return m=t,m.deps&&c(m.deps,m.callback),c},requirejs._defined=f,define=function(t,e,s){e.splice||(s=e,e=[]),i(f,t)||i(d,t)||(d[t]=[t,e,s])},define.amd={jQuery:!0}}(),define("lib/almond",function(){}),"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){var i="classList",e="prototype",s=(t.HTMLElement||t.Element)[e],o=Object,n=String[e].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[e].indexOf||function(t){for(var i=0,e=this.length;e>i;i++)if(i in this&&this[i]===t)return i;return-1},a=function(t,i){this.name=t,this.code=DOMException[t],this.message=i},u=function(t,i){if(""===i)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(i))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,i)},h=function(t){for(var i=n.call(t.className),e=i?i.split(/\s+/):[],s=0,o=e.length;o>s;s++)this.push(e[s]);this._updateClassName=function(){t.className=this.toString()}},c=h[e]=[],p=function(){return new h(this)};if(a[e]=Error[e],c.item=function(t){return this[t]||null},c.contains=function(t){return t+="",-1!==u(this,t)},c.add=function(t){t+="",-1===u(this,t)&&(this.push(t),this._updateClassName())},c.remove=function(t){t+="";var i=u(this,t);-1!==i&&(this.splice(i,1),this._updateClassName())},c.toggle=function(t){t+="",-1===u(this,t)?this.add(t):this.remove(t)},c.toString=function(){return this.join(" ")},o.defineProperty){var l={get:p,enumerable:!0,configurable:!0};try{o.defineProperty(s,i,l)}catch(f){-2146823252===f.number&&(l.enumerable=!1,o.defineProperty(s,i,l))}}else o[e].__defineGetter__&&s.__defineGetter__(i,p)}(self),define("lib/classList",function(){}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=Array.prototype.slice.call(arguments,1),e=this,s=function(){},o=function(){return e.apply(this instanceof s&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,o.prototype=new s,o}),define("lib/functionPrototypeBind",function(){}),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t(+new Date)},1e3/60)}),define("lib/requestAnimationFrame",function(){}),define("lib/text",["module"],function(t){var i,e,s,o,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,h="undefined"!=typeof location&&location.href,c=h&&location.protocol&&location.protocol.replace(/\:/,""),p=h&&location.hostname,l=h&&(location.port||void 0),f={},d=t.config&&t.config()||{};return i={version:"2.0.10",strip:function(t){if(t){t=t.replace(a,"");var i=t.match(u);i&&(t=i[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,i,e;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){e=r[i];try{t=new ActiveXObject(e)}catch(s){}if(t){r=[e];break}}return t},parseName:function(t){var i,e,s,o=!1,n=t.indexOf("."),r=0===t.indexOf("./")||0===t.indexOf("../");return-1!==n&&(!r||n>1)?(i=t.substring(0,n),e=t.substring(n+1,t.length)):i=t,s=e||i,n=s.indexOf("!"),-1!==n&&(o="strip"===s.substring(n+1),s=s.substring(0,n),e?e=s:i=s),{moduleName:i,ext:e,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,s,o){var n,r,a,u=i.xdRegExp.exec(t);return u?(n=u[2],r=u[3],r=r.split(":"),a=r[1],r=r[0],!(n&&n!==e||r&&r.toLowerCase()!==s.toLowerCase()||(a||r)&&a!==o)):!0},finishLoad:function(t,e,s,o){s=e?i.strip(s):s,d.isBuild&&(f[t]=s),o(s)},load:function(t,e,s,o){if(o.isBuild&&!o.inlineText)return void s();d.isBuild=o.isBuild;var n=i.parseName(t),r=n.moduleName+(n.ext?"."+n.ext:""),a=e.toUrl(r),u=d.useXhr||i.useXhr;return 0===a.indexOf("empty:")?void s():void(!h||u(a,c,p,l)?i.get(a,function(e){i.finishLoad(t,n.strip,e,s)},function(t){s.error&&s.error(t)}):e([r],function(t){i.finishLoad(n.moduleName+"."+n.ext,n.strip,t,s)}))},write:function(t,e,s){if(f.hasOwnProperty(e)){var o=i.jsEscape(f[e]);s.asModule(t+"!"+e,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,e,s,o,n){var r=i.parseName(e),a=r.ext?"."+r.ext:"",u=r.moduleName+a,h=s.toUrl(r.moduleName+a)+".js";i.load(u,s,function(){var e=function(t){return o(h,t)};e.asModule=function(t,i){return o.asModule(t,h,i)},i.write(t,u,e,n)},n)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(e=require.nodeRequire("fs"),i.get=function(t,i,s){try{var o=e.readFileSync(t,"utf8");0===o.indexOf("ï»¿")&&(o=o.substring(1)),i(o)}catch(n){s(n)}}):"xhr"===d.env||!d.env&&i.createXhr()?i.get=function(t,e,s,o){var n,r=i.createXhr();if(r.open("GET",t,!0),o)for(n in o)o.hasOwnProperty(n)&&r.setRequestHeader(n.toLowerCase(),o[n]);d.onXhr&&d.onXhr(r,t),r.onreadystatechange=function(){var i,o;4===r.readyState&&(i=r.status,i>399&&600>i?(o=new Error(t+" HTTP status: "+i),o.xhr=r,s(o)):e(r.responseText),d.onXhrComplete&&d.onXhrComplete(r,t))},r.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(t,i){var e,s,o="utf-8",n=new java.io.File(t),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),o)),u="";try{for(e=new java.lang.StringBuffer,s=a.readLine(),s&&s.length()&&65279===s.charAt(0)&&(s=s.substring(1)),null!==s&&e.append(s);null!==(s=a.readLine());)e.append(r),e.append(s);u=String(e.toString())}finally{a.close()}i(u)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),n="@mozilla.org/windows-registry-key;1"in s,i.get=function(t,i){var e,r,a,u={};n&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{e=s["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),e.init(a,1,0,!1),r=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(e,"utf-8",e.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(e.available(),u),r.close(),e.close(),i(u.value)}catch(h){throw new Error((a&&a.path||"")+": "+h)}}),i});var Hogan={};return function(t,i){function e(t){return String(null===t||void 0===t?"":t)}function s(t){return t=e(t),h.test(t)?t.replace(o,"&amp;").replace(n,"&lt;").replace(r,"&gt;").replace(a,"&#39;").replace(u,"&quot;"):t}t.Template=function(t,e,s,o){this.r=t||this.r,this.c=s,this.options=o,this.text=e||"",this.buf=i?[]:""},t.Template.prototype={r:function(){return""},v:s,t:e,render:function(t,i,e){return this.ri([t],i||{},e)},ri:function(t,i,e){return this.r(t,i,e)},rp:function(t,i,e,s){var o=e[t];return o?(this.c&&"string"==typeof o&&(o=this.c.compile(o,this.options)),o.ri(i,e,s)):""},rs:function(t,i,e){var s=t[t.length-1];if(!c(s))return void e(t,i,this);for(var o=0;o<s.length;o++)t.push(s[o]),e(t,i,this),t.pop()},s:function(t,i,e,s,o,n,r){var a;return c(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ls(t,i,e,s,o,n,r)),a=""===t||!!t,!s&&a&&i&&i.push("object"==typeof t?t:i[i.length-1]),a)},d:function(t,i,e,s){var o=t.split("."),n=this.f(o[0],i,e,s),r=null;if("."===t&&c(i[i.length-2]))return i[i.length-1];for(var a=1;a<o.length;a++)n&&"object"==typeof n&&o[a]in n?(r=n,n=n[o[a]]):n="";return s&&!n?!1:(!s&&"function"==typeof n&&(i.push(r),n=this.lv(n,i,e),i.pop()),n)},f:function(t,i,e,s){for(var o=!1,n=null,r=!1,a=i.length-1;a>=0;a--)if(n=i[a],n&&"object"==typeof n&&t in n){o=n[t],r=!0;break}return r?(!s&&"function"==typeof o&&(o=this.lv(o,i,e)),o):s?!1:""},ho:function(t,i,e,s,o){var n=this.c,r=this.options;r.delimiters=o;var s=t.call(i,s);return s=null==s?String(s):s.toString(),this.b(n.compile(s,r).render(i,e)),!1},b:i?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:i?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ls:function(t,i,e,s,o,n,r){var a=i[i.length-1],u=null;if(!s&&this.c&&t.length>0)return this.ho(t,a,e,this.text.substring(o,n),r);if(u=t.call(a),"function"==typeof u){if(s)return!0;if(this.c)return this.ho(u,a,e,this.text.substring(o,n),r)}return u},lv:function(t,i,s){var o=i[i.length-1],n=t.call(o);return"function"==typeof n&&(n=e(n.call(o)),this.c&&~n.indexOf("{{"))?this.c.compile(n,this.options).render(o,s):e(n)}};var o=/&/g,n=/</g,r=/>/g,a=/\'/g,u=/\"/g,h=/[&<>\"\']/,c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function i(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function e(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function s(t,i,e){if(i.charAt(e)!=t.charAt(0))return!1;for(var s=1,o=t.length;o>s;s++)if(i.charAt(e+s)!=t.charAt(s))return!1;return!0}function o(t,i,e,s){for(var a=[],u=null,h=null;t.length>0;)if(h=t.shift(),"#"==h.tag||"^"==h.tag||n(h,s))e.push(h),h.nodes=o(t,h.tag,e,s),a.push(h);else{if("/"==h.tag){if(0===e.length)throw new Error("Closing tag without opener: /"+h.n);if(u=e.pop(),h.n!=u.n&&!r(h.n,u.n,s))throw new Error("Nesting error: "+u.n+" vs. "+h.n);return u.end=h.i,a}a.push(h)}if(e.length>0)throw new Error("missing closing tag: "+e.pop().n);return a}function n(t,i){for(var e=0,s=i.length;s>e;e++)if(i[e].o==t.n)return t.tag="#",!0}function r(t,i,e){for(var s=0,o=e.length;o>s;s++)if(e[s].c==t&&e[s].o==i)return!0}function a(t){return t.replace(b,"\\\\").replace(g,'\\"').replace(y,"\\n").replace(S,"\\r")}function u(t){return~t.indexOf(".")?"d":"f"}function h(t){for(var i="",e=0,s=t.length;s>e;e++){var o=t[e].tag;"#"==o?i+=c(t[e].nodes,t[e].n,u(t[e].n),t[e].i,t[e].end,t[e].otag+" "+t[e].ctag):"^"==o?i+=p(t[e].nodes,t[e].n,u(t[e].n)):"<"==o||">"==o?i+=l(t[e]):"{"==o||"&"==o?i+=f(t[e].n,u(t[e].n)):"\n"==o?i+=m('"\\n"'+(t.length-1==e?"":" + i")):"_v"==o?i+=d(t[e].n,u(t[e].n)):void 0===o&&(i+=m('"'+a(t[e])+'"'))}return i}function c(t,i,e,s,o,n){return"if(_.s(_."+e+'("'+a(i)+'",c,p,1),c,p,0,'+s+","+o+',"'+n+'")){_.rs(c,p,function(c,p,_){'+h(t)+"});c.pop();}"}function p(t,i,e){return"if(!_.s(_."+e+'("'+a(i)+'",c,p,1),c,p,1,0,0,"")){'+h(t)+"};"}function l(t){return'_.b(_.rp("'+a(t.n)+'",c,p,"'+(t.indent||"")+'"));'}function f(t,i){return"_.b(_.t(_."+i+'("'+a(t)+'",c,p,0)));'}function d(t,i){return"_.b(_.v(_."+i+'("'+a(t)+'",c,p,0)));'}function m(t){return"_.b("+t+");"}var v=/\S/,g=/\"/g,y=/\n/g,S=/\r/g,b=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};t.scan=function(t,o){function n(){g.length>0&&(y.push(new String(g)),g="")}function r(){for(var t=!0,i=T;i<y.length;i++)if(t=y[i].tag&&w[y[i].tag]<w._v||!y[i].tag&&null===y[i].match(v),!t)return!1;return t}function a(t,i){if(n(),t&&r())for(var e,s=T;s<y.length;s++)y[s].tag||((e=y[s+1])&&">"==e.tag&&(e.indent=y[s].toString()),y.splice(s,1));else i||y.push({tag:"\n"});S=!1,T=y.length}function u(t,i){var s="="+x,o=t.indexOf(s,i),n=e(t.substring(t.indexOf("=",i)+1,o)).split(" ");return _=n[0],x=n[1],o+s.length-1}var h=t.length,c=0,p=1,l=2,f=c,d=null,m=null,g="",y=[],S=!1,b=0,T=0,_="{{",x="}}";for(o&&(o=o.split(" "),_=o[0],x=o[1]),b=0;h>b;b++)f==c?s(_,t,b)?(--b,n(),f=p):"\n"==t.charAt(b)?a(S):g+=t.charAt(b):f==p?(b+=_.length-1,m=w[t.charAt(b+1)],d=m?t.charAt(b+1):"_v","="==d?(b=u(t,b),f=c):(m&&b++,f=l),S=b):s(x,t,b)?(y.push({tag:d,n:e(g),otag:_,ctag:x,i:"/"==d?S-x.length:b+_.length}),g="",b+=x.length-1,f=c,"{"==d&&("}}"==x?b++:i(y[y.length-1]))):g+=t.charAt(b);return a(S,!0),y},t.generate=function(i,e,s){var o='var _=this;_.b(i=i||"");'+h(i)+"return _.fl();";return s.asString?"function(c,p,i){"+o+";}":new t.Template(new Function("c","p","i",o),e,t,s)},t.parse=function(t,i,e){return e=e||{},o(t,"",[],e.sectionTags||[])},t.cache={},t.compile=function(t,i){i=i||{};var e=t+"||"+!!i.asString,s=this.cache[e];return s?s:(s=this.generate(this.parse(this.scan(t,i.delimiters),t,i),t,i),this.cache[e]=s)}}("undefined"!=typeof exports?exports:Hogan),"function"==typeof define&&define.amd&&define("lib/Hogan",Hogan),define("famous/Entity",["require","exports","module"],function(t,i,e){function s(t){var i=a.length;return r(i,t),i}function o(t){r(t,null)}function n(t){return a[t]}function r(t,i){a[t]=i}var a=[];e.exports={register:s,unregister:o,get:n,set:r}}),define("famous/EventHandler",["require","exports","module"],function(t,i,e){function s(){this.listeners={},this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={},this.owner=this}function o(t,i){for(var e=!1,s=0;s<this.downstream.length;s++)e=this.downstream[s].emit(t,i)||e;for(var s=0;s<this.downstreamFn.length;s++)e=this.downstreamFn[s](t,i)||e;return e}s.prototype.emit=function(t,i){i||(i={});var e=this.listeners[t],s=!1;if(e)for(var n=0;n<e.length;n++)e[n].call(this.owner,i)&&(s=!0);return o.call(this,t,i)||s},s.prototype.on=function(t,i){if(!(t in this.listeners)){this.listeners[t]=[];var e=this.emit.bind(this,t);this.upstreamListeners[t]=e;for(var s=0;s<this.upstream.length;s++)this.upstream[s].on(t,e)}var o=this.listeners[t].indexOf(i);return 0>o&&this.listeners[t].push(i),this},s.prototype.unbind=function(t,i){var e=this.listeners[t].indexOf(i);e>=0&&this.listeners[t].splice(e,1)},s.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,e=i.indexOf(t);return 0>e&&i.push(t),t instanceof Function?t("pipe"):t.emit&&t.emit("pipe"),t},s.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,e=i.indexOf(t);return e>=0?(i.splice(e,1),t instanceof Function?t("unpipe"):t.emit&&t.emit("unpipe"),t):!1},s.prototype.subscribe=function(t){var i=this.upstream.indexOf(t);if(0>i){this.upstream.push(t);for(var e in this.upstreamListeners)t.on(e,this.upstreamListeners[e])}return this},s.prototype.unsubscribe=function(t){var i=this.upstream.indexOf(t);if(i>=0){this.upstream.splice(i,1);for(var e in this.upstreamListeners)t.unbind(e,this.upstreamListeners[e])}return this},s.prototype.bindThis=function(t){this.owner=t},s.setInputHandler=function(t,i){t.emit=i.emit.bind(i),i.subscribe&&i.unsubscribe&&(t.subscribe=i.subscribe.bind(i),t.unsubscribe=i.unsubscribe.bind(i))},s.setOutputHandler=function(t,i){i instanceof s&&i.bindThis(t),t.pipe=i.pipe.bind(i),t.unpipe=i.unpipe.bind(i),t.on=i.on.bind(i),t.unbind=i.unbind.bind(i)},e.exports=s}),define("famous/Transform",["require","exports","module"],function(t,i,e){function s(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function o(t){return Math.sqrt(s(t))}function n(t){return 0>t?-1:1}var r={};r.precision=1e-6,r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.multiply4x4=function a(t,i){var e=[t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15]];return arguments.length<=2?e:a.apply(null,[e].concat(Array.prototype.slice.call(arguments,2)))},r.multiply=function u(t,i){if(!t||!i)return t||i;var e=[t[0]*i[0]+t[4]*i[1]+t[8]*i[2],t[1]*i[0]+t[5]*i[1]+t[9]*i[2],t[2]*i[0]+t[6]*i[1]+t[10]*i[2],0,t[0]*i[4]+t[4]*i[5]+t[8]*i[6],t[1]*i[4]+t[5]*i[5]+t[9]*i[6],t[2]*i[4]+t[6]*i[5]+t[10]*i[6],0,t[0]*i[8]+t[4]*i[9]+t[8]*i[10],t[1]*i[8]+t[5]*i[9]+t[9]*i[10],t[2]*i[8]+t[6]*i[9]+t[10]*i[10],0,t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14],1];return arguments.length<=2?e:u.apply(null,[e].concat(Array.prototype.slice.call(arguments,2)))},r.move=function(t,i){return i[2]||(i[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+i[0],t[13]+i[1],t[14]+i[2],1]},r.moveThen=function(t,i){t[2]||(t[2]=0);var e=t[0]*i[0]+t[1]*i[4]+t[2]*i[8],s=t[0]*i[1]+t[1]*i[5]+t[2]*i[9],o=t[0]*i[2]+t[1]*i[6]+t[2]*i[10];return r.move(i,[e,s,o])},r.translate=function(t,i,e){return void 0===e&&(e=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,i,e,1]},r.scale=function(t,i,e){return void 0===e&&(e=1),[t,0,0,0,0,i,0,0,0,0,e,0,0,0,0,1]},r.rotateX=function(t){var i=Math.cos(t),e=Math.sin(t);return[1,0,0,0,0,i,e,0,0,-e,i,0,0,0,0,1]},r.rotateY=function(t){var i=Math.cos(t),e=Math.sin(t);return[i,0,-e,0,0,1,0,0,e,0,i,0,0,0,0,1]},r.rotateZ=function(t){var i=Math.cos(t),e=Math.sin(t);return[i,e,0,0,-e,i,0,0,0,0,1,0,0,0,0,1]},r.rotate=function(t,i,e){var s=Math.cos(t),o=Math.sin(t),n=Math.cos(i),r=Math.sin(i),a=Math.cos(e),u=Math.sin(e),h=[n*a,s*u+o*r*a,o*u-s*r*a,0,-n*u,s*a-o*r*u,o*a+s*r*u,0,r,-o*n,s*n,0,0,0,0,1];return h},r.rotateAxis=function(t,i){var e=Math.sin(i),s=Math.cos(i),o=1-s,n=t[0]*t[0]*o,r=t[0]*t[1]*o,a=t[0]*t[2]*o,u=t[1]*t[1]*o,h=t[1]*t[2]*o,c=t[2]*t[2]*o,p=t[0]*e,l=t[1]*e,f=t[2]*e,d=[n+s,r+f,a-l,0,r-f,u+s,h+p,0,a+l,h-p,c+s,0,0,0,0,1];return d},r.aboutOrigin=function(t,i){var e=t[0]-(t[0]*i[0]+t[1]*i[4]+t[2]*i[8]),s=t[1]-(t[0]*i[1]+t[1]*i[5]+t[2]*i[9]),o=t[2]-(t[0]*i[2]+t[1]*i[6]+t[2]*i[10]);return r.move(i,[e,s,o])},r.formatCSS=function(t){for(var i="matrix3d(",e=0;15>e;e++)i+=t[e]<1e-6&&t[e]>-1e-6?"0,":t[e]+",";return i+=t[15]+")"},r.skew=function(t,i,e){return[1,0,0,0,Math.tan(e),1,0,0,Math.tan(i),Math.tan(t),1,0,0,0,0,1]},r.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},r.getTranslate=function(t){return[t[12],t[13],t[14]]},r.inverse=function(t){var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],e=t[5]*t[10]-t[6]*t[9],s=t[4]*t[10]-t[6]*t[8],o=t[4]*t[9]-t[5]*t[8],n=t[1]*t[10]-t[2]*t[9],r=t[0]*t[10]-t[2]*t[8],a=t[0]*t[9]-t[1]*t[8],u=t[1]*t[6]-t[2]*t[5],h=t[0]*t[6]-t[2]*t[4],c=t[0]*t[5]-t[1]*t[4],p=t[0]*e-t[1]*s+t[2]*o,l=1/p,i=[l*e,-l*n,l*u,0,-l*s,l*r,-l*h,0,l*o,-l*a,l*c,0,0,0,0,1];return i[12]=-t[12]*i[0]-t[13]*i[4]-t[14]*i[8],i[13]=-t[12]*i[1]-t[13]*i[5]-t[14]*i[9],i[14]=-t[12]*i[2]-t[13]*i[6]-t[14]*i[10],i},r.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},r.interpret=function(t){var i=[t[0],t[1],t[2]],e=n(i[0]),a=o(i),u=[i[0]+e*a,i[1],i[2]],h=2/s(u);if(h>=1/0)return{translate:r.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];c[0]=1-h*u[0]*u[0],c[5]=1-h*u[1]*u[1],c[10]=1-h*u[2]*u[2],c[1]=-h*u[0]*u[1],c[2]=-h*u[0]*u[2],c[6]=-h*u[1]*u[2],c[4]=c[1],c[8]=c[2],c[9]=c[6];var p=r.multiply(c,t),l=[p[5],p[6]],f=n(l[0]),d=o(l),m=[l[0]+f*d,l[1]],v=2/s(m),g=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];g[5]=1-v*m[0]*m[0],g[10]=1-v*m[1]*m[1],g[6]=-v*m[0]*m[1],g[9]=g[6];var y=r.multiply(g,c),S=r.multiply(y,t),b=r.scale(S[0]<0?-1:1,S[5]<0?-1:1,S[10]<0?-1:1);S=r.multiply(S,b),y=r.multiply(b,y);var w={};return w.translate=r.getTranslate(t),w.rotate=[Math.atan2(-y[6],y[10]),Math.asin(y[2]),Math.atan2(-y[1],y[0])],w.rotate[0]||(w.rotate[0]=0,w.rotate[2]=Math.atan2(y[4],y[5])),w.scale=[S[0],S[5],S[10]],w.skew=[Math.atan2(S[9],w.scale[2]),Math.atan2(S[8],w.scale[2]),Math.atan2(S[4],w.scale[0])],Math.abs(w.rotate[0])+Math.abs(w.rotate[2])>1.5*Math.PI&&(w.rotate[1]=Math.PI-w.rotate[1],w.rotate[1]>Math.PI&&(w.rotate[1]-=2*Math.PI),w.rotate[1]<-Math.PI&&(w.rotate[1]+=2*Math.PI),w.rotate[0]<0?w.rotate[0]+=Math.PI:w.rotate[0]-=Math.PI,w.rotate[2]<0?w.rotate[2]+=Math.PI:w.rotate[2]-=Math.PI),w},r.average=function(t,i,e){e=void 0===e?.5:e;for(var s=r.interpret(t),o=r.interpret(i),n={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)n.translate[a]=(1-e)*s.translate[a]+e*o.translate[a],n.rotate[a]=(1-e)*s.rotate[a]+e*o.rotate[a],n.scale[a]=(1-e)*s.scale[a]+e*o.scale[a],n.skew[a]=(1-e)*s.skew[a]+e*o.skew[a];return r.build(n)},r.build=function(t){var i=r.scale(t.scale[0],t.scale[1],t.scale[2]),e=r.skew(t.skew[0],t.skew[1],t.skew[2]),s=r.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return r.move(r.multiply(s,e,i),t.translate)},r.equals=function(t,i){return!r.notEquals(t,i)},r.notEquals=function(t,i){return t===i?!1:t&&i?!(t&&i)||t[12]!==i[12]||t[13]!==i[13]||t[14]!==i[14]||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]:!0},r.normalizeRotation=function(t){var i=t.slice(0);for((i[0]==Math.PI/2||i[0]==-Math.PI/2)&&(i[0]=-i[0],i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]>Math.PI/2&&(i[0]=i[0]-Math.PI,i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]<-Math.PI/2&&(i[0]=i[0]+Math.PI,i[1]=-Math.PI-i[1],i[2]-=Math.PI);i[1]<-Math.PI;)i[1]+=2*Math.PI;for(;i[1]>=Math.PI;)i[1]-=2*Math.PI;for(;i[2]<-Math.PI;)i[2]+=2*Math.PI;for(;i[2]>=Math.PI;)i[2]-=2*Math.PI;return i},e.exports=r}),define("famous/Surface",["require","exports","module","./Entity","./EventHandler","./Transform"],function(t,i,e){function s(t){this.options={},this.properties={},this.content="",this.classList=[],this.size=void 0,this._classesDirty=!0,this._stylesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._dirtyClasses=[],this._matrix=void 0,this._opacity=1,this._origin=void 0,this._size=void 0,this.eventForwarder=function(t){this.emit(t.type,t)}.bind(this),this.eventHandler=new l,this.eventHandler.bindThis(this),this.id=p.register(this),t&&this.setOptions(t),this._currTarget=void 0}function o(t){for(var i in this.eventHandler.listeners)t.addEventListener(i,this.eventForwarder)}function n(t){for(var i in this.eventHandler.listeners)t.removeEventListener(i,this.eventForwarder)}function r(t){for(var i=0;i<this._dirtyClasses.length;i++)t.classList.remove(this._dirtyClasses[i]);this._dirtyClasses=[]}function a(t){for(var i in this.properties)t.style[i]=this.properties[i]}function u(t){for(var i in this.properties)t.style[i]=""}function h(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}function c(t){return(100*t[0]).toFixed(6)+"% "+(100*t[1]).toFixed(6)+"%"}var p=t("./Entity"),l=t("./EventHandler"),f=t("./Transform"),d=void 0!==document.body.style.webkitTransform;s.prototype.elementType="div",s.prototype.elementClass="famous-surface",s.prototype.on=function(t,i){this._currTarget&&this._currTarget.addEventListener(t,this.eventForwarder),this.eventHandler.on(t,i)},s.prototype.unbind=function(t,i){this.eventHandler.unbind(t,i)},s.prototype.emit=function(t,i){i&&!i.origin&&(i.origin=this);var e=this.eventHandler.emit(t,i);return e&&i.stopPropagation&&i.stopPropagation(),e},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},s.prototype.render=function(){return this.id},s.prototype.setProperties=function(t){for(var i in t)this.properties[i]=t[i];this._stylesDirty=!0},s.prototype.getProperties=function(){return this.properties},s.prototype.addClass=function(t){this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0)},s.prototype.removeClass=function(t){var i=this.classList.indexOf(t);i>=0&&(this._dirtyClasses.push(this.classList.splice(i,1)[0]),this._classesDirty=!0)},s.prototype.setClasses=function(t){for(var i=[],e=0;e<this.classList.length;e++)t.indexOf(this.classList[e])<0&&i.push(this.classList[e]);for(var e=0;e<i.length;e++)this.removeClass(i[e]);for(var e=0;e<t.length;e++)this.addClass(t[e])},s.prototype.getClassList=function(){return this.classList},s.prototype.setContent=function(t){this.content!=t&&(this.content=t,this._contentDirty=!0)},s.prototype.getContent=function(){return this.content},s.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.content&&this.setContent(t.content)};var m,v,g;m=d?function(t,i){t.style.webkitTransform=f.formatCSS(i)}:function(t,i){t.style.transform=f.formatCSS(i)},v=d?function(t,i){t.style.webkitTransformOrigin=c(i)}:function(t,i){t.style.transformOrigin=c(i)},g=d?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,1)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,1)",t.style.opacity=0},s.prototype.setup=function(t){var i=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var e=0;e<this.elementClass.length;e++)i.classList.add(this.elementClass[e]);else i.classList.add(this.elementClass);o.call(this,i),v(i,[0,0]),this._currTarget=i,this._stylesDirty=!0,this._classesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._matrix=void 0,this._opacity=void 0,this._origin=void 0,this._size=void 0},s.prototype.commit=function(t){this._currTarget||this.setup(t.allocator);var i=this._currTarget,e=t.transform,s=t.opacity,o=t.origin,n=t.size;if(this.size){var u=n;n=[this.size[0],this.size[1]],void 0===n[0]&&u[0]&&(n[0]=u[0]),void 0===n[1]&&u[1]&&(n[1]=u[1])}if(h(this._size,n)&&(this._size=[n[0],n[1]],this._sizeDirty=!0),!e&&this._matrix)return this._matrix=void 0,this._opacity=0,void g(i);if(this._opacity!==s&&(this._opacity=s,i.style.opacity=Math.min(s,.999999)),h(this._origin,o)||f.notEquals(this._matrix,e)){e||(e=f.identity),o||(o=[0,0]),this._origin=[o[0],o[1]],this._matrix=e;var c=e;o&&(c=f.moveThen([-this._size[0]*o[0],-this._size[1]*o[1]],e)),m(i,c)}if(this._classesDirty||this._stylesDirty||this._sizeDirty||this._contentDirty){if(this._classesDirty){r.call(this,i);for(var p=this.getClassList(),l=0;l<p.length;l++)i.classList.add(p[l]);this._classesDirty=!1}this._stylesDirty&&(a.call(this,i),this._stylesDirty=!1),this._sizeDirty&&(this._size&&(i.style.width=this._size[0]!==!0?this._size[0]+"px":"",i.style.height=this._size[1]!==!0?this._size[1]+"px":""),this._sizeDirty=!1),this._contentDirty&&(this.deploy(i),this.eventHandler.emit("deploy"),this._contentDirty=!1)}},s.prototype.cleanup=function(t){var i=this._currTarget;this.eventHandler.emit("recall"),this.recall(i),i.style.width="",i.style.height="",this._size=void 0,u.call(this,i);var e=this.getClassList();r.call(this,i);for(var s=0;s<e.length;s++)i.classList.remove(e[s]);if(this.elementClass)if(this.elementClass instanceof Array)for(var s=0;s<this.elementClass.length;s++)i.classList.remove(this.elementClass[s]);else i.classList.remove(this.elementClass);n.call(this,i),this._currTarget=void 0,t.deallocate(i),g(i)},s.prototype.deploy=function(t){var i=this.getContent();if(i instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}else t.innerHTML=i},s.prototype.recall=function(t){for(var i=document.createDocumentFragment();t.hasChildNodes();)i.appendChild(t.firstChild);this.setContent(i)},s.prototype.getSize=function(t){return t?this._size:this.size||this._size},s.prototype.setSize=function(t){this.size=t?[t[0],t[1]]:void 0,this._sizeDirty=!0},e.exports=s}),define("famous-utilities/Utility",["require","exports","module"],function(t,i,e){var s={};s.Curve={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},s.Direction={X:0,Y:1,Z:2},s.Origin={tl:[0,0],t:[.5,0],tr:[1,0],l:[0,.5],c:[.5,.5],r:[1,.5],bl:[0,1],b:[.5,1],br:[1,1]},s.after=function(t,i){var e=t;return function(){e--,0===e&&i.apply(this,arguments)}},s.loadURL=function(t,i){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&i&&i(this.responseText)},e.open("GET",t),e.send()},s.transformInFrontMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,1],s.transformInFront={modify:function(t){return{transform:s.transformInFrontMatrix,target:t}}},s.transformBehindMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-1,1],s.transformBehind={modify:function(t){return{transform:s.transformBehindMatrix,target:t}}},s.customizeComponent=function(t,i,e){var s=function(s){t.call(this,i),s&&this.setOptions(s),e&&e.call(this)};return s.prototype=Object.create(t.prototype),s},s.createDocumentFragmentFromHTML=function(t){var i=document.createElement("div");i.innerHTML=t;for(var e=document.createDocumentFragment();i.hasChildNodes();)e.appendChild(i.firstChild);return e},s.rad2deg=function(t){return 57.2957795*t},s.deg2rad=function(t){return.0174532925*t},s.distance=function(t,i,e,s){var o=e-t,n=s-i;return Math.sqrt(o*o+n*n)},s.distance3D=function(t,i,e,s,o,n){var r=s-t,a=o-i,u=n-e;return Math.sqrt(r*r+a*a+u*u)},s.map=function(t,i,e,s,o,n){var r=(t-i)/(e-i)*(o-s)+s;return n&&(o>s?r>o?r=o:s>r&&(r=s):o>r?r=o:r>s&&(r=s)),r},s.perspective=function(t,i,e,s){var o=1/Math.tan(t/2),n=1/(e-s);return[o/i,0,0,0,0,o,0,0,0,0,(s+e)*n,-1,0,0,2*s*e*n,0]},s.ortho=function(t,i,e,s,o,n){var r=-(i+t)/(i-t),a=-(s+e)/(s-e),u=-(n+o)/(n-o);
return[2/(i-t),0,0,0,0,2/(s-e),0,0,0,0,-2/(n-o),-1,r,a,u,1]},s.normalFromFM=function(t,i){var e=i[0],s=i[1],o=i[2],n=i[3],r=i[4],a=i[5],u=i[6],h=i[7],c=i[8],p=i[9],l=i[10],f=i[11],d=i[12],m=i[13],v=i[14],g=i[15],y=e*a-s*r,S=e*u-o*r,b=e*h-n*r,w=s*u-o*a,T=s*h-n*a,_=o*h-n*u,x=c*m-p*d,O=c*v-l*d,C=c*g-f*d,P=p*v-l*m,M=p*g-f*m,E=l*g-f*v,z=y*E-S*M+b*P+w*C-T*O+_*x;return z?(z=1/z,t[0]=(a*E-u*M+h*P)*z,t[1]=(u*C-r*E-h*O)*z,t[2]=(r*M-a*C+h*x)*z,t[3]=(o*M-s*E-n*P)*z,t[4]=(e*E-o*C+n*O)*z,t[5]=(s*C-e*M-n*x)*z,t[6]=(m*_-v*T+g*w)*z,t[7]=(v*b-d*_-g*S)*z,t[8]=(d*T-m*b+g*y)*z,t):null},s.clamp=function(t,i,e){return Math.max(Math.min(t,e),i)},s.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)},s.extend=function(t,i){for(var e in i)t[e]=i[e];return t},s.getDevicePixelRatio=function(){return window.devicePixelRatio?window.devicePixelRatio:1},s.supportsWebGL=function(){return/Android|Chrome|Mozilla/i.test(navigator.appCodeName)&&!!window.WebGLRenderingContext&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)},s.getSurfacePosition=function(t){function i(t){var s=o(t);if(""!==s&&void 0!==s){var n=e(s);r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}t.parentElement!==document.body&&i(t.parentNode)}function e(t){var i=[];t=s(t),i[0]=parseInt(t[12].replace(" ","")),i[1]=parseInt(t[13].replace(" ","")),i[2]=parseInt(t[14].replace(" ",""));for(var e=0;e<i.length;e++)"undefined"==typeof i[e]&&(i[e]=0);return i}function s(t){return t=t.replace("matrix3d(",""),t=t.replace(")",""),t.split(",")}function o(t){var i=t.style.webkitTransform||t.style.transform;return i}var n=t._currTarget,r=[0,0,0];return n?(i(n),r):void 0},s.hasUserMedia=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},s.getUserMedia=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia},s.isWebkit=function(){return!!window.webkitURL},s.isAndroid=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("android")>-1},s.hasLocalStorage=function(){return!!window.localStorage},s.timeSince=function(t){var i=Date.now(),e=i-t,s=6e4,o=60*s,n=24*o;if(s>e)return"Just Now";if(o>e){var r=~~(e/s);return r+"m"}if(n>e){var a=~~(e/o);return a+"h"}var u=~~(e/n);return u+"d"},e.exports=s}),define("famous-transitions/MultipleTransition",["require","exports","module","famous-utilities/Utility"],function(t,i,e){function s(t){this.method=t,this._instances=[],this.state=[]}var o=t("famous-utilities/Utility");s.SUPPORTS_MULTIPLE=!0,s.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},s.prototype.set=function(t,i,e){for(var s=o.after(t.length,e),n=0;n<t.length;n++)this._instances[n]||(this._instances[n]=new this.method),this._instances[n].set(t[n],i,s)},s.prototype.reset=function(t){for(var i=0;i<t.length;i++)this._instances[i]||(this._instances[i]=new this.method),this._instances[i].reset(t[i])},e.exports=s}),define("famous-transitions/TweenTransition",["require","exports","module","famous-utilities/Utility"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function o(t,i,e){return(1-e)*t+e*i}function n(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function r(t,i){var e={curve:i.curve};return i.duration&&(e.duration=i.duration),i.speed&&(e.speed=i.speed),t instanceof Object&&(void 0!==t.duration&&(e.duration=t.duration),t.curve&&(e.curve=t.curve),t.speed&&(e.speed=t.speed)),"string"==typeof e.curve&&(e.curve=s.getCurve(e.curve)),e}function a(t,i,e,s,o){var n,r=1e-7,a=(e(o)-e(o-r))/r;if(t instanceof Array){n=[];for(var u=0;u<t.length;u++)n[u]=a*(t[u]-i[u])/s}else n=a*(t-i)/s;return n}function u(t,i,e){var s;if(t instanceof Array){s=[];for(var n=0;n<t.length;n++)s[n]=o(t[n],i[n],e)}else s=o(t,i,e);return s}var h=t("famous-utilities/Utility");s.SUPPORTS_MULTIPLE=!0,s.DEFAULT_OPTIONS={curve:h.Curve.linear,duration:500,speed:0};var c={};s.registerCurve=function(t,i){return c[t]?!1:(c[t]=i,!0)},s.unregisterCurve=function(t){return c[t]?(delete c[t],!0):!1},s.getCurve=function(t){return c[t]},s.getCurves=function(){return c},s.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},s.prototype.set=function(t,i,e){if(!i)return this.reset(t),void(e&&e());if(this._startValue=n(this.get()),i=r(i,this.options),i.speed){var s=this._startValue;if(s instanceof Object){var o=0;for(var a in s)o+=(t[a]-s[a])*(t[a]-s[a]);i.duration=Math.sqrt(o)/i.speed}else i.duration=Math.abs(t-s)/i.speed}this._startTime=Date.now(),this._endValue=n(t),this._startVelocity=n(i.velocity),this._duration=i.duration,this._curve=i.curve,this._active=!0,this._callback=e},s.prototype.reset=function(t,i){if(this._callback){var e=this._callback;this._callback=void 0,e()}this.state=n(t),this.velocity=n(i),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},s.prototype.getVelocity=function(){return this.velocity},s.prototype.get=function(t){return this.update(t),this.state},s.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var i=t-this._startTime;if(i>=this._duration)this.state=this._endValue,this.velocity=a(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(0>i)this.state=this._startValue,this.velocity=this._startVelocity;else{var e=i/this._duration;this.state=u(this._startValue,this._endValue,this._curve(e)),this.velocity=a(this.state,this._startValue,this._curve,this._duration,e)}}}else if(this._callback){var s=this._callback;this._callback=void 0,s()}},s.prototype.isActive=function(){return this._active},s.prototype.halt=function(){this.reset(this.get())},s.registerCurve("linear",h.Curve.linear),s.registerCurve("easeIn",h.Curve.easeIn),s.registerCurve("easeOut",h.Curve.easeOut),s.registerCurve("easeInOut",h.Curve.easeInOut),s.registerCurve("easeOutBounce",h.Curve.easeOutBounce),s.registerCurve("spring",h.Curve.spring),s.customCurve=function(t,i){return t=t||0,i=i||0,function(e){return t*e+(-2*t-i+3)*e*e+(t+i-2)*e*e*e}},e.exports=s}),define("famous-transitions/Transitionable",["require","exports","module","./MultipleTransition","./TweenTransition"],function(t,i,e){function s(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function o(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var i=null,e=this.currentAction[0],s=this.currentAction[1];s instanceof Object&&s.method?(i=s.method,"string"==typeof i&&(i=a[i])):i=r,this._currentMethod!==i&&(this._engineInstance=!(e instanceof Object)||i.SUPPORTS_MULTIPLE===!0||e.length<=i.SUPPORTS_MULTIPLE?new i:new n(i),this._currentMethod=i),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(s.velocity=this.velocity),this._engineInstance.set(e,s,o.bind(this))}var n=t("./MultipleTransition"),r=t("./TweenTransition"),a={};s.registerMethod=function(t,i){return t in a?!1:(a[t]=i,!0)},s.unregisterMethod=function(t){return t in a?(delete a[t],!0):!1},s.prototype.set=function(t,i,e){if(!i)return this.reset(t),e&&e(),this;var s=[t,i];return this.actionQueue.push(s),this.callbackQueue.push(e),this.currentAction||o.call(this),this},s.prototype.reset=function(t,i){this._currentMethod=null,this._engineInstance=null,this.state=t,this.velocity=i,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},s.prototype.delay=function(t,i){this.set(this._engineInstance.get(),{duration:t,curve:function(){return 0}},i)},s.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},s.prototype.isActive=function(){return!!this.currentAction},s.prototype.halt=function(){this.set(this.get())},e.exports=s}),define("famous/Modifier",["require","exports","module","./Transform","famous-transitions/Transitionable","famous-utilities/Utility"],function(t,i,e){function s(t){var i=o.identity,e=1,s=void 0,r=void 0;arguments.length>1||arguments[0]instanceof Array?(void 0!==arguments[0]&&(i=arguments[0]),void 0!==arguments[1]&&(e=arguments[1]),s=arguments[2],r=arguments[3]):t&&(t.transform&&(i=t.transform),void 0!==t.opacity&&(e=t.opacity),t.origin&&(s=t.origin),t.size&&(r=t.size)),this.transformTranslateState=new n([0,0,0]),this.transformRotateState=new n([0,0,0]),this.transformSkewState=new n([0,0,0]),this.transformScaleState=new n([1,1,1]),this.opacityState=new n(e),this.originState=new n([0,0]),this.sizeState=new n([0,0]),this._originEnabled=!1,this._sizeEnabled=!1,this.setTransform(i),this.setOpacity(e),this.setOrigin(s),this.setSize(r)}var o=t("./Transform"),n=t("famous-transitions/Transitionable"),r=t("famous-utilities/Utility");s.prototype.getTransform=function(){return this.isActive()?o.build({translate:this.transformTranslateState.get(),rotate:this.transformRotateState.get(),skew:this.transformSkewState.get(),scale:this.transformScaleState.get()}):this.getFinalTransform()},s.prototype.getFinalTransform=function(){return this._finalTransform},s.prototype.setTransform=function(t,i,e){var s=e?r.after(4,e):void 0;if(i){if(this._transformDirty){var n=o.interpret(this.getFinalTransform());this.transformTranslateState.set(n.translate),this.transformRotateState.set(n.rotate),this.transformSkewState.set(n.skew),this.transformScaleState.set(n.scale),this._transformDirty=!1}var a=o.interpret(t);this.transformTranslateState.set(a.translate,i,s),this.transformRotateState.set(a.rotate,i,s),this.transformSkewState.set(a.skew,i,s),this.transformScaleState.set(a.scale,i,s)}else this.transformTranslateState.halt(),this.transformRotateState.halt(),this.transformSkewState.halt(),this.transformScaleState.halt(),this._transformDirty=!0;this._finalTransform=t},s.prototype.getOpacity=function(){return this.opacityState.get()},s.prototype.setOpacity=function(t,i,e){this.opacityState.set(t,i,e)},s.prototype.getOrigin=function(){return this._originEnabled?this.originState.get():void 0},s.prototype.setOrigin=function(t,i,e){this._originEnabled=!!t,t||(t=[0,0]),t instanceof Array||(t=r.origins[t]),this.originState.set(t,i,e)},s.prototype.getSize=function(){return this._sizeEnabled?this.sizeState.get():void 0},s.prototype.setSize=function(t,i,e){this._sizeEnabled=!!t,t||(t=[0,0]),this.sizeState.set(t,i,e)},s.prototype.setDefaultTransition=function(t){this.transformTranslateState.setDefault(t),this.transformRotateState.setDefault(t),this.transformSkewState.setDefault(t),this.transformScaleState.setDefault(t),this.opacityState.setDefault(t),this.originState.setDefault(t),this.sizeState.setDefault(t)},s.prototype.halt=function(){this.transformTranslateState.halt(),this.transformRotateState.halt(),this.transformSkewState.halt(),this.transformScaleState.halt(),this.opacityState.halt(),this.originState.halt(),this.sizeState.halt()},s.prototype.isActive=function(){return this.transformTranslateState.isActive()||this.transformRotateState.isActive()||this.transformSkewState.isActive()||this.transformScaleState.isActive()},s.prototype.modify=function(t){return{transform:this.getTransform(),opacity:this.getOpacity(),origin:this.getOrigin(),size:this.getSize(),target:t}},e.exports=s}),define("famous/OptionsManager",["require","exports","module","./EventHandler"],function(t,i,e){function s(t){this._value=t,this.eventOutput=null}function o(){this.eventOutput=new n,this.eventOutput.bindThis(this),n.setOutputHandler(this,this.eventOutput)}var n=t("./EventHandler");s.patch=function(t){for(var i=new s(t),e=1;e<arguments.length;e++)i.patch(arguments[e]);return t},s.prototype.patch=function(){for(var t=this._value,i=0;i<arguments.length;i++){var e=arguments[i];for(var s in e)s in t&&e[s].constructor===Object&&t[s].constructor===Object?(t.hasOwnProperty(s)||(t[s]=Object.create(t[s])),this.key(s).patch(e[s]),this.eventOutput&&this.eventOutput.emit("change",{id:s,value:this.key(s).value()})):this.set(s,e[s])}return this},s.prototype.setOptions=s.prototype.patch,s.prototype.key=function(t){var i=new s(this._value[t]);return(!(i._value instanceof Object)||i._value instanceof Array)&&(i._value={}),i},s.prototype.get=function(t){return this._value[t]},s.prototype.getOptions=s.prototype.get,s.prototype.set=function(t,i){var e=this.get(t);return this._value[t]=i,this.eventOutput&&i!==e&&this.eventOutput.emit("change",{id:t,value:i}),this},s.prototype.value=function(){return this._value},s.prototype.on=function(){return o.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return o.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return o.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return o.call(this),this.unpipe.apply(this,arguments)},e.exports=s}),define("famous/SpecParser",["require","exports","module","./Transform"],function(t,i,e){function s(){this.reset()}function o(t,i){return[t[0]*i[0]+t[1]*i[4]+t[2]*i[8],t[0]*i[1]+t[1]*i[5]+t[2]*i[9],t[0]*i[2]+t[1]*i[6]+t[2]*i[10]]}var n=t("./Transform");s.parse=function(t,i,e){var o=new s,r=o.parse(t,i,n.identity);return e?void e(r):r},s.prototype.parse=function(t,i){return this.reset(),this._parseSpec(t,i,n.identity),this.result},s.prototype.reset=function(){this.result={}};var r=[0,0];s.prototype._parseSpec=function(t,i,e){if(void 0===t);else if("number"==typeof t){var s=t,a=i.transform;if(i.size&&i.origin&&(i.origin[0]||i.origin[1])){var u=[i.origin[0]*i.size[0],i.origin[1]*i.size[1],0];a=n.move(a,o(u,e))}this.result[s]={transform:a,opacity:i.opacity,origin:i.origin||r,size:i.size}}else if(t instanceof Array)for(var h=0;h<t.length;h++)this._parseSpec(t[h],i,e);else if(void 0!==t.target){var c=t.target,a=i.transform,p=i.opacity,l=i.origin,f=i.size;if(void 0!==t.opacity&&(p=i.opacity*t.opacity),t.transform&&(a=n.multiply(i.transform,t.transform)),t.origin&&(l=t.origin),t.size){var d=i.size;f=[t.size[0]||d[0],t.size[1]||d[1]],d&&l&&(l[0]||l[1])&&(a=n.move(a,o([l[0]*d[0],l[1]*d[1],0],e)),a=n.moveThen([-l[0]*f[0],-l[1]*f[1],0],a)),l=null}this._parseSpec(c,{transform:a,opacity:p,origin:l,size:f},i.transform)}},e.exports=s}),define("famous/RenderNode",["require","exports","module","./Entity","./SpecParser"],function(t,i,e){function s(t){this._object=t?t:null,this._child=null,this._hasCached=!1,this._resultCache={},this._prevResults={},this._childResult=null}function o(t,i,e){var s=r.parse(t,i);for(var a in s){var u=n.get(a),h=s[a];h.allocator=i.allocator;var c=u.commit(h);c?o(c,i,e):e[a]=h}}var n=t("./Entity"),r=t("./SpecParser");s.prototype.add=function(t){var i=t instanceof s?t:new s(t);return this._child instanceof Array?this._child.push(i):this._child?(this._child=[this._child,i],this._childResult=[]):this._child=i,i},s.prototype.get=function(){return this._child instanceof Array?void 0:this._object||this._child.get()},s.prototype.getSize=function(){var t=this.get();return t&&t.getSize?t.getSize():this._child&&this._child.getSize?this._child.getSize():null},s.prototype.commit=function(t){var i=this.render(void 0,this._hasCached);if(i!==!0){for(var e in this._prevResults)if(!(e in this._resultCache)){var s=n.get(e);s.cleanup&&s.cleanup(t.allocator)}this._prevResults=this._resultCache,this._resultCache={},o(i,t,this._resultCache),this._hasCached=!0}},s.prototype.render=function(){if(this._object&&this._object.render)return this._object.render();var t={};if(this._child instanceof Array){t=this._childResult;for(var i=this._child,e=0;e<i.length;e++)t[e]=i[e].render()}else this._child&&(t=this._child.render());return this._object&&this._object.modify&&(t=this._object.modify(t)),t},e.exports=s}),define("famous/View",["require","exports","module","./EventHandler","./OptionsManager","./RenderNode"],function(t,i,e){function s(t){this._node=new r,this._eventInput=new o,this._eventOutput=new o,o.setInputHandler(this,this._eventInput),o.setOutputHandler(this,this._eventOutput),this.options=Object.create(this.constructor.DEFAULT_OPTIONS||s.DEFAULT_OPTIONS),this._optionsManager=new n(this.options),t&&this.setOptions(t)}var o=t("./EventHandler"),n=t("./OptionsManager"),r=t("./RenderNode");s.DEFAULT_OPTIONS={},s.prototype.getOptions=function(){return this._optionsManager.value()},s.prototype.setOptions=function(t){this._optionsManager.patch(t)},s.prototype._add=function(){return this._node.add.apply(this._node,arguments)},s.prototype.render=function(){return this._node.render.apply(this._node,arguments)},s.prototype.getSize=function(){return this._node&&this._node.getSize?this._node.getSize.apply(this._node,arguments)||this.options.size:this.options.size},e.exports=s}),define("famous-math/Vector",["require","exports","module"],function(t,i,e){function s(t,i,e){return 1===arguments.length?this.set(t):(this.x=t||0,this.y=i||0,this.z=e||0),this}var o=new s(0,0,0);s.prototype.add=function(t){return o.setXYZ(this.x+(t.x||0),this.y+(t.y||0),this.z+(t.z||0))},s.prototype.sub=function(t){return o.setXYZ(this.x-t.x,this.y-t.y,this.z-t.z)},s.prototype.mult=function(t){return o.setXYZ(t*this.x,t*this.y,t*this.z)},s.prototype.div=function(t){return this.mult(1/t)},s.prototype.cross=function(t){var i=this.x,e=this.y,s=this.z,n=t.x,r=t.y,a=t.z;return o.setXYZ(s*r-e*a,i*a-s*n,e*n-i*r)},s.prototype.equals=function(t){return t.x==this.x&&t.y==this.y&&t.z==this.z},s.prototype.rotateX=function(t){var i=this.x,e=this.y,s=this.z,n=Math.cos(t),r=Math.sin(t);return o.setXYZ(i,e*n-s*r,e*r+s*n)},s.prototype.rotateY=function(t,i){i=i||o;var e=this.x,s=this.y,n=this.z,r=Math.cos(t),a=Math.sin(t);return i.setXYZ(n*a+e*r,s,n*r-e*a)},s.prototype.rotateZ=function(t){var i=this.x,e=this.y,s=this.z,n=Math.cos(t),r=Math.sin(t);return o.setXYZ(i*n-e*r,i*r+e*n,s)},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},s.prototype.normSquared=function(){return this.dot(this)},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.normalize=function(t){t=void 0!==t?t:1;var i=1e-7,e=this.norm();return Math.abs(e)>i?o.set(this.mult(t/e)):o.setXYZ(t,0,0)},s.prototype.clone=function(){return new s(this)},s.prototype.isZero=function(){return!(this.x||this.y||this.z)},s.prototype.setFromArray=function(t){return this.x=t[0],this.y=t[1],this.z=t[2]||0,this},s.prototype.set=function(t){return t instanceof Array&&this.setFromArray(t),t instanceof s&&(this.x=t.x,this.y=t.y,this.z=t.z),"number"==typeof t&&(this.x=t,this.y=0,this.z=0),this!==o&&o.clear(),this},s.prototype.put=function(t){t.set(o)},s.prototype.setXYZ=function(t,i,e){return o.clear(),this.x=t,this.y=i,this.z=e,this},s.prototype.clear=function(){this.x=0,this.y=0,this.z=0},s.prototype.cap=function(t){if(1/0===t)return o.set(this);var i=this.norm();return o.set(i>t?this.mult(t/i):this)},s.prototype.project=function(t){return t.mult(this.dot(t))},s.prototype.reflectAcross=function(t){return t.set(t.normalize()),o.set(this.sub(this.project(t).mult(2)))},s.prototype.toArray=function(){return[this.x,this.y,this.z]},s.prototype.get=function(){return this.toArray()},e.exports=s}),define("famous-physics/bodies/Particle",["require","exports","module","famous/RenderNode","famous-math/Vector","famous/Transform"],function(t,i,e){function s(t){t=t||{},this.p=t.p?new n(t.p):new n(0,0,0),this.v=t.v?new n(t.v):new n(0,0,0),this.f=t.f?new n(t.f):new n(0,0,0),this.m=void 0!==t.m?t.m:1,this.restitution=void 0!==t.restitution?t.restitution:.5,this.dissipation=void 0!==t.dissipation?t.dissipation:0,this.axis=void 0!==t.axis?t.axis:void 0,this.setImmunity(t.immunity||s.IMMUNITIES.NONE),this.mInv=1/this.m,this.size=[0,0,0],this.node=void 0,this.spec={size:[!1,!1],target:{origin:[.5,.5],transform:void 0,target:void 0}}}var o=t("famous/RenderNode"),n=t("famous-math/Vector"),r=t("famous/Transform");s.AXIS={X:1,Y:2,Z:4},s.IMMUNITIES={NONE:0,POSITION:1,VELOCITY:2,ROTATION:4,AGENTS:8,UPDATE:16};for(var a in s.IMMUNITIES)s.IMMUNITIES.ALL|=s.IMMUNITIES[a];s.prototype.setPos=function(t){this.p.set(t)},s.prototype.getPos=function(){return this.p.get()},s.prototype.setVel=function(t){this.hasImmunity(s.IMMUNITIES.VELOCITY)||this.v.set(t)},s.prototype.getVel=function(){return this.v.get()},s.prototype.setMass=function(t){this.m=t,this.mInv=1/t},s.prototype.getMass=function(){return this.m},s.prototype.setRestitution=function(t){this.restitution=t},s.prototype.getRestitution=function(){return this.restitution},s.prototype.setDissipation=function(t){this.dissipation=t},s.prototype.getDissipation=function(){return this.dissipation},s.prototype.addImmunity=function(t){"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.immunity|=t},s.prototype.removeImmunity=function(t){"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.immunity&=~t},s.prototype.setImmunity=function(t){"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.immunity=t},s.prototype.hasImmunity=function(t){return"string"==typeof t&&(t=s.IMMUNITIES[t.toUpperCase()]),this.getImmunity()&t},s.prototype.getImmunity=function(){return this.immunity},s.prototype.reset=function(t,i){t=t||[0,0,0],i=i||[0,0,0],this.setPos(t),this.setVel(i)},s.prototype.applyForce=function(t){this.hasImmunity(s.IMMUNITIES.AGENTS)||this.f.set(this.f.add(t))},s.prototype.applyImpulse=function(t){this.hasImmunity(s.IMMUNITIES.AGENTS)||this.setVel(this.v.add(t.mult(this.mInv)))},s.prototype.getEnergy=function(){return.5*this.m*this.v.normSquared()},s.prototype.getTransform=function(){var t=this.p,i=this.axis;return void 0!==i&&(i&~s.AXIS.X&&(t.x=0),i&~s.AXIS.Y&&(t.y=0),i&~s.AXIS.Z&&(t.z=0)),r.translate(t.x,t.y,t.z)},s.prototype.link=function(t){return this.node||(this.node=new o),this.node.link(t)},s.prototype.add=function(t){return this.node||(this.node=new o),this.node.add(t)},s.prototype.replace=function(t){this.node.object=t},s.prototype.render=function(t){return t=void 0!==t?t:this.node.render(),this.spec.target.transform=this.getTransform(),this.spec.target.target=t,this.spec},e.exports=s}),define("famous-math/Quaternion",["require","exports","module"],function(t,i,e){function s(t,i,e,s){return 1===arguments.length?this.set(t):(this.w=void 0!==t?t:1,this.x=void 0!==i?i:0,this.y=void 0!==e?e:0,this.z=void 0!==s?s:0),this}var o=new s(1,0,0,0);s.prototype.add=function(t){return o.setWXYZ(this.w+t.w,this.x+t.x,this.y+t.y,this.z+t.z)},s.prototype.sub=function(t){return o.setWXYZ(this.w-t.w,this.x-t.x,this.y-t.y,this.z-t.z)},s.prototype.scalarDivide=function(t){return this.scalarMultiply(1/t)},s.prototype.scalarMultiply=function(t){return o.setWXYZ(this.w*t,this.x*t,this.y*t,this.z*t)},s.prototype.multiply=function(t){var i=this.x,e=this.y,s=this.z,n=this.w,r=t.x,a=t.y,u=t.z,h=t.w||0;return o.setWXYZ(n*h-i*r-e*a-s*u,i*h+r*n+a*s-e*u,e*h+a*n+i*u-r*s,s*h+u*n+r*e-i*a)};var n=new s(1,0,0,0);s.prototype.rotateVector=function(t){return n.set(this.conj()),o.set(this.multiply(t).multiply(n))},s.prototype.inverse=function(){return o.set(this.conj().scalarDivide(this.normSquared()))},s.prototype.negate=function(){return this.scalarMultiply(-1)},s.prototype.conj=function(){return o.setWXYZ(this.w,-this.x,-this.y,-this.z)},s.prototype.normalize=function(t){return t=void 0===t?1:t,this.scalarDivide(t*this.norm())},s.prototype.makeFromAngleAndAxis=function(t,i){var e=i.normalize(),s=.5*t,o=-Math.sin(s);return this.x=o*e.x,this.y=o*e.y,this.z=o*e.z,this.w=Math.cos(s),this},s.prototype.setWXYZ=function(t,i,e,s){return o.clear(),this.w=t,this.x=i,this.y=e,this.z=s,this},s.prototype.set=function(t){return t instanceof Array?(this.w=t[0],this.x=t[1],this.y=t[2],this.z=t[3]):(this.w=t.w,this.x=t.x,this.y=t.y,this.z=t.z),this!==o&&o.clear(),this},s.prototype.put=function(t){t.set(o)},s.prototype.clone=function(){return new s(this)},s.prototype.clear=function(){return this.w=1,this.x=0,this.y=0,this.z=0,this},s.prototype.isEqual=function(t){return t.w==this.w&&t.x==this.x&&t.y==this.y&&t.z==this.z},s.prototype.dot=function(t){return this.w*t.w+this.x*t.x+this.y*t.y+this.z*t.z},s.prototype.normSquared=function(){return this.dot(this)},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.isZero=function(){return!(this.x||this.y||this.z)},s.prototype.getMatrix=function(){var t=this.normalize(1),i=t.x,e=t.y,s=t.z,o=t.w;return[1-2*e*e-2*s*s,2*i*e-2*s*o,2*i*s+2*e*o,0,2*i*e+2*s*o,1-2*i*i-2*s*s,2*e*s-2*i*o,0,2*i*s-2*e*o,2*e*s+2*i*o,1-2*i*i-2*e*e,0,0,0,0,1]},s.prototype.getMatrix3x3=function(){var t=this.normalize(1),i=t.x,e=t.y,s=t.z,o=t.w;return[[1-2*e*e-2*s*s,2*i*e+2*s*o,2*i*s-2*e*o],[2*i*e-2*s*o,1-2*i*i-2*s*s,2*e*s+2*i*o],[2*i*s+2*e*o,2*e*s-2*i*o,1-2*i*i-2*e*e]]};var r=1e-5;s.prototype.slerp=function(t,i){var e,s,n,a,u;return s=this.dot(t),1-s>r?(e=Math.acos(s),n=Math.sin(e),a=Math.sin((1-i)*e)/n,u=Math.sin(i*e)/n):(a=1-i,u=i),o.set(this.scalarMultiply(a/u).add(t).multiply(u))},e.exports=s}),define("famous-physics/bodies/Body",["require","exports","module","./Particle","famous-math/Vector","famous-math/Quaternion","famous/Transform"],function(t,i,e){function s(t){o.call(this,t),t=t||{},this.q=t.q?new r(t.q):new r,this.w=t.w?new n(t.w):new n,this.L=t.L?new n(t.L):new n,this.t=t.t?new n(t.t):new n,this.I=[1,0,0,1,0,0,1,0,0],this.Iinv=[1,0,0,1,0,0,1,0,0],this.w.w=0,this.pWorld=new n}var o=t("./Particle"),n=t("famous-math/Vector"),r=t("famous-math/Quaternion"),a=t("famous/Transform");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.IMMUNITIES=o.IMMUNITIES,s.prototype.updateAngularVelocity=function(){var t=this.Iinv,i=this.L,e=i.x,s=i.y,o=i.z,n=t[0],r=t[1],a=t[2];this.w.setXYZ(n[0]*e+n[1]*s+n[2]*o,r[0]*e+r[1]*s+r[2]*o,a[0]*e+a[1]*s+a[2]*o)},s.prototype.toWorldCoordinates=function(t){var i=this.q;return t.w=0,this.pWorld.set(i.inverse().multiply(t).multiply(i))},s.prototype.getEnergy=function(){var t=this.w,i=this.I,e=t.x,s=t.y,o=t.z,n=this.I[0],r=i[1],a=i[2];return.5*(this.m*this.v.normSquared()+n[0]*e*e+n[1]*e*s+n[2]*e*o+r[0]*s*e+r[1]*s*s+r[2]*s*o+a[0]*o*e+a[1]*o*s+a[2]*o*o)},s.prototype.reset=function(t,i,e,s){this.setPos(t||[0,0,0]),this.setVel(i||[0,0,0]),this.w.clear(),this.setOrientation(e||[1,0,0,0]),this.setAngularMomentum(s||[0,0,0])},s.prototype.setOrientation=function(t){this.q.set(t)},s.prototype.setAngularMomentum=function(t){this.L.set(t)},s.prototype.applyForce=function(t,i){this.hasImmunity(s.IMMUNITIES.AGENTS)||(this.f.set(this.f.add(t)),void 0!==i&&this.applyTorque(i.cross(t)))},s.prototype.applyTorque=function(t){this.hasImmunity(s.IMMUNITIES.ROTATION)||this.t.set(this.t.add(t))},s.prototype.getTransform=function(){return a.move(this.q.getMatrix(),this.p.get())},e.exports=s}),define("famous-physics/bodies/Circle",["require","exports","module","./Body"],function(t,i,e){function s(t){o.call(this,t),t=t||{},this.r=t.r||0,this.size=[2*this.r,2*this.r];var i=this.r,e=this.m;this.I=[[.25*e*i*i,0,0],[0,.25*e*i*i,0],[0,0,.5*e*i*i]],this.Iinv=[[4/(e*i*i),0,0],[0,4/(e*i*i),0],[0,0,2/(e*i*i)]]}var o=t("./Body");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.IMMUNITIES=o.IMMUNITIES,e.exports=s}),define("famous-physics/bodies/Rectangle",["require","exports","module","./Body"],function(t,i,e){function s(t){o.call(this,t),t=t||{},this.size=t.size||[0,0];var i=this.size[0],e=this.size[1];this.I=[[e*e/12,0,0],[0,i*i/12,0],[0,0,(i*i+e*e)/12]],this.Iinv=[[12/(e*e),0,0],[0,12/(i*i),0],[0,0,12/(i*i+e*e)]]}var o=t("./Body");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.IMMUNITIES=o.IMMUNITIES,e.exports=s}),define("famous-physics/forces/Force",["require","exports","module","famous-math/Vector"],function(t,i,e){function s(t){this.force=new o(t)}var o=t("famous-math/Vector");s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyForce=function(t){t.applyForce(this.force)},s.prototype.setupSlider=function(t,i){i=i||t.opts.name,t.setOpts({value:this.opts[i]}),t.init&&t.init(),t.on("change",function(t){this.opts[i]=t.value}.bind(this))},s.prototype.getEnergy=function(){return 0},e.exports=s}),define("famous-physics/constraints/Constraint",["require","exports","module"],function(t,i,e){function s(){}s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(){},s.prototype.setupSlider=function(t,i){i=i||t.opts.name,t.setOpts({value:this.opts[i]}),t.init&&t.init(),t.on("change",function(t){this.opts[i]=t.value}.bind(this))},e.exports=s}),define("famous-physics/integrator/SymplecticEuler",["require","exports","module"],function(t,i,e){function s(t){this.opts={velocityCap:1/0,angularVelocityCap:1/0},t&&this.setOpts(t)}s.prototype.integrateVelocity=function(t,i){var e=t.v,s=t.m,o=t.f;o.isZero()||(t.setVel(e.add(o.mult(i/s))),o.clear())},s.prototype.integratePosition=function(t,i){var e=t.p,s=t.v;s.isZero()||(s.set(s.cap(this.opts.velocityCap)),t.setPos(e.add(s.mult(i))))},s.prototype.integrateAngularMomentum=function(t,i){var e=t.L,s=t.t;s.isZero()||(s.set(s.cap(this.opts.angularVelocityCap)),e.add(s.mult(i)).put(e),s.clear())},s.prototype.integrateOrientation=function(t,i){var e=t.q,s=t.w;s.isZero()||(e.set(e.add(e.multiply(s).scalarMultiply(.5*i))),e.set(e.normalize()))},s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},e.exports=s}),define("famous-physics/PhysicsEngine",["require","exports","module","famous-physics/bodies/Particle","famous-physics/bodies/Body","famous-physics/bodies/Circle","famous-physics/bodies/Rectangle","famous-physics/forces/Force","famous-physics/constraints/Constraint","famous-physics/integrator/SymplecticEuler"],function(t,i,e){function s(t){this.opts={speed:1,steps:1,velocityCap:1/0,angularVelocityCap:1/0,constraintSteps:1,constraintTolerance:1e-4},t&&this.setOpts(t),this._particles=[],this._agents={},this._forces=[],this._constraints=[],this._playing=!0,this._buffer=0,this._timestep=1e3/60/this.opts.steps,this._prevTime=void 0,this._currTime=void 0,this._integrator=new E({velocityCap:this.opts.velocityCap,angularVelocityCap:this.opts.angularVelocityCap}),this._currAgentId=0,this.BODIES=s.BODIES}function o(){return Date.now()}function n(t,i,e){return void 0===i&&(i=this.getParticles()),i instanceof Array||(i=[i]),this._agents[this._currAgentId]={agent:t,targets:i,source:e},r.call(this,t).push(this._currAgentId),this._currAgentId++}function r(t){return t instanceof P?this._forces:t instanceof M?this._constraints:void 0}function a(t){return this._agents[t]}function u(t){var i=a.call(this,this._forces[t]);i.agent.applyForce(i.targets,i.source)}function h(t,i){var e=this._agents[this._constraints[t]];return e.agent.applyConstraint(e.targets,e.source,i)}function c(){for(var t=this._forces.length-1;t>-1;t--)u.call(this,t)}function p(t){var i=1/0,e=0;for(this.opts.constraintTolerance;e<this.opts.constraintSteps;){i=0;for(var s=this._constraints.length-1;s>-1;s--)i+=h.call(this,s,t);e++}}function l(t,i){t.hasImmunity(_.IMMUNITIES.UPDATE)||this._integrator.integrateVelocity(t,i)}function f(t){t.hasImmunity(_.IMMUNITIES.ROTATION)||t instanceof x&&t.updateAngularVelocity()}function d(t,i){t.hasImmunity(_.IMMUNITIES.ROTATION)||t instanceof x&&this._integrator.integrateAngularMomentum(t,i)}function m(t,i){t.hasImmunity(_.IMMUNITIES.UPDATE)||this._integrator.integratePosition(t,i)}function v(t,i){t.hasImmunity(_.IMMUNITIES.ROTATION)||t instanceof x&&this._integrator.integrateOrientation(t,i)}function g(t){this.forEachParticle(l,t)}function y(t){this.forEachParticle(m,t)
}function S(){this.forEachParticle(f)}function b(t){this.forEachParticle(d,t)}function w(t){this.forEachParticle(v,t)}function T(t){c.call(this),g.call(this,t),b.call(this,t),S.call(this,t),p.call(this,t),y.call(this,t),w.call(this,t)}var _=t("famous-physics/bodies/Particle"),x=t("famous-physics/bodies/Body"),O=t("famous-physics/bodies/Circle"),C=t("famous-physics/bodies/Rectangle"),P=t("famous-physics/forces/Force"),M=t("famous-physics/constraints/Constraint"),E=t("famous-physics/integrator/SymplecticEuler");s.BODIES={POINT:_,BODY:x,CIRCLE:O,RECTANGLE:C},s.IMMUNITIES=_.IMMUNITIES,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]&&(this.opts[i]=t[i])},s.prototype.addBody=function(t){return this._particles.push(t),t},s.prototype.createParticle=function(t){return this.addBody(new _(t))},s.prototype.createBody=function(t){var i=t.shape||s.BODIES.POINT;return this.addBody(new i(t))},s.prototype.remove=function(t){var i=this._particles.indexOf(t);if(i>-1){for(var e=0;e<Object.keys(this._agents);e++)this.detachFrom(e,t);this._particles.splice(i,1)}},s.prototype.attach=function(t,i,e){if(t instanceof Array){for(var s=[],o=0;o<t.length;o++)s[o]=n.call(this,t[o],i,e);return s}return n.call(this,t,i,e)},s.prototype.attachTo=function(t,i){a.call(this,t).targets.push(i)},s.prototype.detach=function(t){var i=this.getAgent(t),e=r.call(this,i),s=e.indexOf(t);e.splice(s,1),delete this._agents[t]},s.prototype.detachFrom=function(t,i){var e=a.call(this,t);if(e.source===i)this.detach(t);else{var s=e.targets,o=s.indexOf(i);o>-1&&s.splice(o,1)}},s.prototype.detachAll=function(){this._agents={},this._forces=[],this._constraints=[],this._currAgentId=0},s.prototype.getAgent=function(t){return a.call(this,t).agent},s.prototype.getParticles=function(){return this._particles},s.prototype.getParticlesExcept=function(t){var i=[];return this.forEachParticle(function(e){-1===t.indexOf(e)&&i.push(e)}),i},s.prototype.getPos=function(t){return(t||this._particles[0]).getPos()},s.prototype.getVel=function(t){return(t||this._particles[0]).getVel()},s.prototype.getTransform=function(t){return(t||this._particles[0]).getTransform()},s.prototype.setPos=function(t,i){(i||this._particles[0]).setPos(t)},s.prototype.setVel=function(t,i){(i||this._particles[0]).setVel(t)},s.prototype.forEachParticle=function(t,i){for(var e=this.getParticles(),s=0,o=e.length;o>s;s++)t.call(this,e[s],i)},s.prototype.step=function(){if(this._playing){this._prevTime||(this._prevTime=o()),this._currTime=o();var t=this._currTime-this._prevTime;this._prevTime=this._currTime,0!=t&&T.call(this,this.opts.speed*this._timestep)}},s.prototype.render=function(t){this.step();var i=[];return this.forEachParticle(function(e){i.push(e.render(t))}),i},s.prototype.play=function(){this._prevTime=o(),this._playing=!0},s.prototype.pause=function(){this._playing=!1},s.prototype.toggle=function(){this._playing?this.pause():this.play()},s.prototype.reverseTime=function(){this.opts.speed*=-1},s.prototype.reverseVelocities=function(){this.forEachParticle(function(t){t.v.mult(-1,t.v)})},e.exports=s}),define("famous-physics/forces/Drag",["require","exports","module","famous-physics/forces/Force"],function(t,i,e){function s(t){this.opts={strength:.01,forceFunction:s.FORCE_FUNCTIONS.LINEAR},t&&this.setOpts(t),o.call(this)}var o=t("famous-physics/forces/Force");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.FORCE_FUNCTIONS={LINEAR:function(t){return t},QUADRATIC:function(t){return t.mult(t.norm())}},s.prototype.applyForce=function(t){for(var i=this.opts.strength,e=this.opts.forceFunction,s=this.force,o=0;o<t.length;o++){var n=t[o];e(n.v).mult(-i).put(s),n.applyForce(s)}},s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},e.exports=s}),define("famous-physics/forces/Spring",["require","exports","module","famous-physics/forces/Force","famous-math/Vector","famous/EventHandler"],function(t,i,e){function s(t){this.opts={period:300,dampingRatio:.1,length:0,lMin:0,lMax:1/0,anchor:void 0,forceFunction:s.FORCE_FUNCTIONS.HOOK,restTolerance:1e-5},t&&this.setOpts(t),this.eventOutput=void 0,this._atRest=!1,this.init(),c.call(this),this.disp=new p(0,0,0)}function o(t){this.forceFunction=t}function n(){var t=this.opts;t.stiffness=Math.pow(2*Math.PI/t.period,2)}function r(){var t=this.opts;t.damping=4*Math.PI*t.dampingRatio/t.period}function a(t,i){return.5*t*i*i}function u(t,i){t<this.opts.restTolerance?(this._atRest||this.eventOutput.emit("atRest",{particle:i}),this._atRest=!0):this._atRest=!1}function h(){this.eventOutput=new l,this.eventOutput.bindThis(this),l.setOutputHandler(this,this.eventOutput)}var c=t("famous-physics/forces/Force"),p=t("famous-math/Vector"),l=t("famous/EventHandler");s.prototype=Object.create(c.prototype),s.prototype.constructor=c,s.FORCE_FUNCTIONS={FENE:function(t,i){var e=.99*i,s=Math.max(Math.min(t,e),-e);return s/(1-s*s/(i*i))},HOOK:function(t){return t}},s.prototype.init=function(){o.call(this,this.opts.forceFunction),n.call(this),r.call(this)},s.prototype.applyForce=function(t,i){for(var e=this.force,s=this.disp,o=this.opts,n=o.stiffness,r=o.damping,h=o.length,c=o.lMax,p=o.anchor||i.p,l=0;l<t.length;l++){var f=t[l];s.set(p.sub(f.p));var d=s.norm()-h;if(0==d)return;var m=f.m;if(n*=m,r*=m,e.set(s.normalize(n*this.forceFunction(d,c))),r&&e.set(i?e.add(f.v.sub(i.v).mult(-r)):e.add(f.v.mult(-r))),f.applyForce(e),i&&i.applyForce(e.mult(-1)),this.eventOutput){var v=f.getEnergy()+a(n,d);u.call(this,v,f)}}},s.prototype.getEnergy=function(t,i){var e=this.opts,s=e.length,o=e.anchor||i.p,n=e.stiffness,r=o.sub(t.p).norm()-s;return.5*n*r*r},s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof p&&(this.opts.anchor=t.anchor.p),t.anchor instanceof p&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new p(t.anchor))),void 0!==t.period&&(this.opts.period=t.period),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.lMin&&(this.opts.lMin=t.lMin),void 0!==t.lMax&&(this.opts.lMax=t.lMax),void 0!==t.forceFunction&&(this.opts.forceFunction=t.forceFunction),void 0!==t.restTolerance&&(this.opts.restTolerance=t.restTolerance),this.init()},s.prototype.setAnchor=function(t){void 0===this.opts.anchor&&(this.opts.anchor=new p),this.opts.anchor.set(t)},s.prototype.on=function(){return h.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return h.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return h.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return h.call(this),this.unpipe.apply(this,arguments)},e.exports=s}),define("famous-sync/TouchTracker",["require","exports","module","famous/EventHandler"],function(t,i,e){function s(t){this.selective=t,this.touchHistory={},this.eventInput=new h,this.eventOutput=new h,h.setInputHandler(this,this.eventInput),h.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",n.bind(this)),this.eventInput.on("touchmove",r.bind(this)),this.eventInput.on("touchend",a.bind(this)),this.eventInput.on("touchcancel",a.bind(this)),this.eventInput.on("unpipe",u.bind(this))}function o(t,i,e,s){var o={};for(var n in t)o[n]=t[n];return{touch:o,origin:i,timestamp:Date.now(),count:s,history:e}}function n(t){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i],s=o(e,t.origin,void 0,t.touches.length);this.eventOutput.emit("trackstart",s),this.selective||this.touchHistory[e.identifier]||this.track(s)}}function r(t){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i],s=this.touchHistory[e.identifier];if(s){var n=o(e,t.origin,s,t.touches.length);this.touchHistory[e.identifier].push(n),this.eventOutput.emit("trackmove",n)}}}function a(t){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i],s=this.touchHistory[e.identifier];if(s){var n=o(e,t.origin,s,t.touches.length);this.eventOutput.emit("trackend",n),delete this.touchHistory[e.identifier]}}}function u(){for(var t in this.touchHistory){var i=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:i[i.length-1].touch,timestamp:Date.now(),count:0,history:i}),delete this.touchHistory[t]}}var h=t("famous/EventHandler");s.prototype.track=function(t){this.touchHistory[t.touch.identifier]=[t]},e.exports=s}),define("famous-sync/TouchSync",["require","exports","module","./TouchTracker","famous/EventHandler"],function(t,i,e){function s(t,i){this.targetGet=t,this.output=new u,this.touchTracker=new a,this.options={direction:void 0,rails:!1,scale:1},this.setOptions(i?i:this.options),u.setOutputHandler(this,this.output),u.setInputHandler(this,this.touchTracker),this.touchTracker.on("trackstart",o.bind(this)),this.touchTracker.on("trackmove",n.bind(this)),this.touchTracker.on("trackend",r.bind(this))}function o(t){this.output.emit("start",{count:t.count,touch:t.touch.identifier})}function n(t){var i=t.history,e=i[i.length-2].timestamp,o=i[i.length-1].timestamp,n=i[i.length-2].touch,r=i[i.length-1].touch,a=r.pageX-n.pageX,u=r.pageY-n.pageY;this.options.rails&&(Math.abs(a)>Math.abs(u)?u=0:a=0);var h=Math.max(o-e,8),c=a/h,p=u/h;if(i.length>2)var l=i[i.length-3].touch,f=(r.pageX-2*n.pageX+l.pageX)/(h*h),d=(r.pageY-2*n.pageY+l.pageY)/(h*h);else var f=0,d=0;var m,v,g,y=this.targetGet(),S=this.options.scale;this.options.direction==s.DIRECTION_X?(m=y+S*a,v=S*c,g=S*p):this.options.direction==s.DIRECTION_Y?(m=y+S*u,v=S*p,g=S*d):(m=[y[0]+S*a,y[1]+S*u],v=[S*c,S*p],g=[S*f,S*d]),this.output.emit("update",{p:m,v:v,a:g,touch:t.touch.identifier})}function r(t){var i=void 0!==this.options.direction?0:[0,0],e=t.history,o=t.count,n=this.targetGet();if(e.length>1){var r=e[e.length-2].timestamp,a=e[e.length-1].timestamp,u=e[e.length-2].touch,h=e[e.length-1].touch,c=h.pageX-u.pageX,p=h.pageY-u.pageY;this.options.rails&&(Math.abs(c)>Math.abs(p)?p=0:c=0);var i,l=Math.max(a-r,1),f=c/l,d=p/l,m=this.options.scale;i=this.options.direction==s.DIRECTION_X?m*f:this.options.direction==s.DIRECTION_Y?m*d:[m*f,m*d]}this.output.emit("end",{p:n,v:i,count:o,touch:t.touch.identifier})}var a=t("./TouchTracker"),u=t("famous/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale)},s.prototype.getOptions=function(){return this.options},e.exports=s}),define("famous/ElementAllocator",["require","exports","module"],function(t,i,e){function s(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}s.prototype.migrate=function(t){var i=this.container;if(t!==i){if(i instanceof DocumentFragment)t.appendChild(i);else for(;i.hasChildNodes();)t.appendChild(i.removeChild(i.firstChild));this.container=t}},s.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var i,e=this.detachedNodes[t];return e.length>0?i=e.pop():(i=document.createElement(t),this.container.appendChild(i)),this.nodeCount++,i},s.prototype.deallocate=function(t){var i=t.nodeName.toLowerCase(),e=this.detachedNodes[i];e.push(t),this.nodeCount--},s.prototype.getNodeCount=function(){return this.nodeCount},e.exports=s}),define("famous/Context",["require","exports","module","./RenderNode","./EventHandler","./SpecParser","./ElementAllocator","./Transform","famous-transitions/Transitionable"],function(t,i,e){function s(t){this.container=t,this.allocator=new a(t),this.srcNode=new n,this.eventHandler=new r,this._size=o(this.container),this.perspectiveState=new h(0),this._perspective=void 0,this.eventHandler.on("resize",function(){this._size=o(this.container)}.bind(this))}function o(t){return[t.clientWidth,t.clientHeight]}var n=t("./RenderNode"),r=t("./EventHandler"),a=(t("./SpecParser"),t("./ElementAllocator")),u=t("./Transform"),h=t("famous-transitions/Transitionable");s.prototype.getAllocator=function(){return this.allocator},s.prototype.add=function(t){return this.srcNode.add(t)},s.prototype.migrate=function(t){t!==this.container&&(this.container=t,this.allocator.migrate(t))},s.prototype.getSize=function(){return this._size},s.prototype.setSize=function(t){t||(t=o(this.container)),this._size=t},s.prototype.update=function(){var t=this.perspectiveState.get();t!==this._perspective&&(this.container.style.perspective=t?t.toFixed()+"px":"",this.container.style.webkitPerspective=t?t.toFixed():"",this._perspective=t),this.srcNode&&this.srcNode.commit({allocator:this.getAllocator(),transform:u.identity,opacity:1,origin:[0,0],size:this._size})},s.prototype.getPerspective=function(){return this.perspectiveState.get()},s.prototype.setPerspective=function(t,i,e){return this.perspectiveState.set(t,i,e)},s.prototype.emit=function(t,i){return this.eventHandler.emit(t,i)},s.prototype.on=function(t,i){return this.eventHandler.on(t,i)},s.prototype.unbind=function(t,i){return this.eventHandler.unbind(t,i)},s.prototype.pipe=function(t){return this.eventHandler.pipe(t)},s.prototype.unpipe=function(t){return this.eventHandler.unpipe(t)},e.exports=s}),define("famous/Engine",["require","exports","module","./Context","./EventHandler","./OptionsManager"],function(t,i,e){function s(){y.runLoop?(u.step(),requestAnimationFrame(s)):m=!1}function o(t){if(document.activeElement&&"INPUT"==document.activeElement.nodeName)return void document.activeElement.addEventListener("blur",function e(){this.removeEventListener("blur",e),o(t)});window.scrollTo(0,0);for(var i=0;i<h.length;i++)h[i].emit("resize");g.emit("resize")}var n=t("./Context"),r=t("./EventHandler"),a=t("./OptionsManager"),u={},h=[],c=[],p=[],l=Date.now(),f=void 0,d=void 0,m=!0,v={},g=new r,y={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0},S=new a(y);S.on("change",function(t){"fpsCap"===t.id?setFPSCap(t.value):"runLoop"===t.id&&!m&&t.value&&(m=!0,requestAnimationFrame(s))});var b=10;u.step=function(){var t=Date.now();if(!(d&&d>t-l)){f=t-l,l=t,g.emit("prerender");for(var i=0;i<c.length;i++)c[i].call(this);for(c.splice(0);p.length&&Date.now()-t<b;)p.shift().call(this);for(var i=0;i<h.length;i++)h[i].update();g.emit("postrender")}},requestAnimationFrame(s),window.addEventListener("resize",o,!1),o(),window.addEventListener("touchmove",function(t){t.preventDefault()},!1),u.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(u):g.pipe(t)},u.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(u):g.unpipe(t)},u.on=function(t,i){return t in v||(v[t]=g.emit.bind(g,t),document.body.addEventListener(t,v[t])),g.on(t,i)},u.emit=function(t,i){return g.emit(t,i)},u.unbind=function(t,i){return g.unbind(t,i)},u.getFPS=function(){return 1e3/f},u.setFPSCap=function(t){d=Math.floor(1e3/t)},u.getOptions=function(){return S.getOptions.apply(S,arguments)},u.setOptions=function(){return S.setOptions.apply(S,arguments)},u.createContext=function(t){void 0===t?(t=document.createElement(y.containerType),t.classList.add(y.containerClass),document.body.appendChild(t)):t instanceof Element||(t=document.createElement(y.containerType),console.warn("Tried to create context on non-existent element"));var i=new n(t);return u.registerContext(i),i},u.registerContext=function(t){return h.push(t),t},u.nextTick=function(t){c.push(t)},u.defer=function(t){p.push(t)},e.exports=u}),define("famous-sync/ScrollSync",["require","exports","module","famous/EventHandler","famous/Engine"],function(t,i,e){function s(t,i){this.targetGet=t,this.options={direction:void 0,minimumEndSpeed:1/0,rails:!1,scale:1,stallTime:50,lineHeight:40},this.setOptions(i?i:this.options),this.input=new r,this.output=new r,r.setInputHandler(this,this.input),r.setOutputHandler(this,this.output),this._prevTime=void 0,this._prevVel=void 0,this.input.on("mousewheel",n.bind(this)),this.input.on("wheel",n.bind(this)),this.inProgress=!1,this._loopBound=!1}function o(){var t=Date.now();if(this.inProgress&&t-this._prevTime>this.options.stallTime){var i=this.targetGet();this.inProgress=!1;var e=0;Math.abs(this._prevVel)>=this.options.minimumEndSpeed&&(e=this._prevVel),this.output.emit("end",{p:i,v:e,slip:!0})}}function n(t){t.preventDefault(),this.inProgress||(this.inProgress=!0,this.output.emit("start",{slip:!0}),this._loopBound||(a.on("prerender",o.bind(this)),this._loopBound=!0));var i=this._prevTime,e=void 0!==t.wheelDeltaX?t.wheelDeltaX:-t.deltaX,n=void 0!==t.wheelDeltaY?t.wheelDeltaY:-t.deltaY;1===t.deltaMode&&(e*=this.options.lineHeight,n*=this.options.lineHeight);var r=Date.now();this.options.rails&&(Math.abs(e)>Math.abs(n)?n=0:e=0);var u,h,c=Math.max(r-i,8),p=e/c,l=n/c,f=this.targetGet(),d=this.options.scale;this.options.direction==s.DIRECTION_X?(u=f+d*e,h=d*p):this.options.direction==s.DIRECTION_Y?(u=f+d*n,h=d*l):(u=[f[0]+d*e,f[1]+d*n],h=[d*p,d*l]),this.output.emit("update",{p:u,v:h,slip:!0}),this._prevTime=r,this._prevVel=h}var r=t("famous/EventHandler"),a=t("famous/Engine");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.minimumEndSpeed&&(this.options.minimumEndSpeed=t.minimumEndSpeed),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.stallTime&&(this.options.stallTime=t.stallTime)},e.exports=s}),define("famous-sync/GenericSync",["require","exports","module","famous/EventHandler","./TouchSync","./ScrollSync"],function(t,i,e){function s(t,i){this.targetGet=t,this.eventInput=new n,n.setInputHandler(this,this.eventInput),this.eventOutput=new n,n.setOutputHandler(this,this.eventOutput),this._handlers=void 0,this.options={syncClasses:u},this._handlerOptions=this.options,i&&this.setOptions(i),this._handlers||o.call(this)}function o(){if(this._handlers)for(var t=0;t<this._handlers.length;t++)this.eventInput.unpipe(this._handlers[t]),this._handlers[t].unpipe(this.eventOutput);this._handlers=[];for(var t=0;t<this.options.syncClasses.length;t++){var i=this.options.syncClasses[t];this._handlers[t]=new i(this.targetGet,this._handlerOptions),this.eventInput.pipe(this._handlers[t]),this._handlers[t].pipe(this.eventOutput)}}var n=t("famous/EventHandler"),r=t("./TouchSync"),a=t("./ScrollSync"),u=[r,a];s.register=function(t){u.indexOf(t)<0&&u.push(t)},s.DIRECTION_X=0,s.DIRECTION_Y=1,s.DIRECTION_Z=2,s.prototype.setOptions=function(t){if(this._handlerOptions=t,t.syncClasses&&(this.options.syncClasses=t.syncClasses,o.call(this)),this._handlers)for(var i=0;i<this._handlers.length;i++)this._handlers[i].setOptions(this._handlerOptions)},e.exports=s}),define("famous/ViewSequence",["require","exports","module"],function(t,i,e){function s(t,i,e){this.array=t||[],this.index=i||0,this.loop=e||!1,this._prev=null,this._prevIndex=void 0,this._next=null,this._nextIndex=void 0}function o(t){for(var i=this.index,e=this;e&&i<this.array.length;)e.index+=t,void 0!==e._prevIndex&&(e._prevIndex+=t),void 0!==e._nextIndex&&(e._nextIndex+=t),e=e._next}s.prototype._createPrevious=function(){var t=new this.constructor(this.array,this._prevIndex,this.loop);return t._next=this,t._nextIndex=this.index,t},s.prototype._createNext=function(){var t=new this.constructor(this.array,this._nextIndex,this.loop);return t._prev=this,t._prevIndex=this.index,t},s.prototype.getPrevious=function(){var t=this.index-1;if(0==this.index){if(!this.loop)return null;t=this.array.length-1}return this._prev&&this._prevIndex==t||(this._prevIndex=t,this._prev=this._createPrevious()),this._prev},s.prototype.getNext=function(){var t=this.index+1;if(t>=this.array.length){if(!this.loop)return null;t=0}return this._next&&this._nextIndex==t||(this._nextIndex=t,this._next=this._createNext()),this._next},s.prototype.toString=function(){return this.index},s.prototype.unshift=function(){if(this._prev&&0!==this.index)this._prev.unshift.apply(this._prev,arguments);else{var t=arguments.length;this.array.unshift.apply(this.array,arguments),o.call(this,t)}},s.prototype.push=function(){this.array.push.apply(this.array,arguments)},s.prototype.splice=function(t,i){if(this._prev&&this.index!==t)this._prev.splice.apply(this._prev,arguments);else{var e=this.index>=t?arguments.length-2-i:0;this.array.splice.apply(this.array,arguments),e&&o.call(this,e)}},s.prototype.get=function(){return this.array[this.index]},s.prototype.getSize=function(){var t=this.get();if(t)return t.getSize?t.getSize.apply(t,arguments):null},s.prototype.render=function(){var t=this.get();if(t)return t.render.apply(t,arguments)},e.exports=s}),define("famous/Group",["require","exports","module","./Context","./Transform","./Surface"],function(t,i,e){function s(t){r.call(this,t),this._shouldRecalculateSize=!1,this._container=document.createDocumentFragment(),this.context=new o(this._container),this.setContent(this._container),this._groupSize=[void 0,void 0],this._origin=void 0,this._originTransfer={render:function(t){return{origin:this._origin,target:t}}.bind(this)}}var o=t("./Context"),n=t("./Transform"),r=t("./Surface");s.SIZE_ZERO=[0,0],s.prototype=Object.create(r.prototype),s.prototype.elementType="div",s.prototype.elementClass="famous-group",s.prototype.add=function(){var t=this.context.add(this._originTransfer);return t.add.apply(t,arguments)},s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.render=function(){return r.prototype.render.call(this)},s.prototype.deploy=function(t){this.context.migrate(t)},s.prototype.recall=function(){this._container=document.createDocumentFragment(),this.context.migrate(this._container)},s.prototype.commit=function(t){var i=t.transform,e=t.opacity,o=t.origin,a=t.size;i=n.moveThen([-o[0]*a[0],-o[1]*a[1],0],i);var u=r.prototype.commit.call(this,t,i,e,o,s.SIZE_ZERO);return this._origin=o,(a[0]!=this._groupSize[0]||a[1]!=this._groupSize[1])&&(this.context.setSize(a),this._groupSize[0]=a[0],this._groupSize[1]=a[1]),this.context.update(),u},e.exports=s}),define("famous-views/Scrollview",["require","exports","module","famous-utilities/Utility","famous-physics/PhysicsEngine","famous-physics/bodies/Particle","famous-physics/forces/Drag","famous-physics/forces/Spring","famous/Transform","famous/EventHandler","famous-sync/GenericSync","famous/ViewSequence","famous/Group","famous/Entity"],function(t,i,e){function s(t){this.options={direction:b.Direction.Y,rails:!0,itemSpacing:0,clipSize:void 0,margin:void 0,friction:.001,drag:1e-4,edgeGrip:.5,edgePeriod:300,edgeDamp:1,paginated:!1,pagePeriod:500,pageDamp:.8,pageStopSpeed:1/0,pageSwitchSpeed:1,speedLimit:10},this.node=null,this.physicsEngine=new w,this.particle=new T,this.physicsEngine.addBody(this.particle),this.spring=new x({anchor:[0,0,0]}),this.drag=new _({forceFunction:_.FORCE_FUNCTIONS.QUADRATIC}),this.friction=new _({forceFunction:_.FORCE_FUNCTIONS.LINEAR}),this.sync=new P(function(){return-this.getPosition()}.bind(this),{direction:this.options.direction==b.Direction.X?P.DIRECTION_X:P.DIRECTION_Y}),this.eventInput=new C,this.eventOutput=new C,this.rawInput=new C,this.rawInput.pipe(this.sync),this.sync.pipe(this.eventInput),this.sync.pipe(this.eventOutput),this.rawInput.pipe(this.eventInput),C.setInputHandler(this,this.rawInput),C.setOutputHandler(this,this.eventOutput),this._outputFunction=null,this._masterOutputFunction=null,this.setOutputFunction(),this.touchCount=0,this._springAttached=!1,this._onEdge=0,this._springPosition=0,this._touchVelocity=void 0,this._earlyEnd=!1,this._masterOffset=0,this._offsetDifferential=0,this._lastFrameNode=null,this.setOptions(t?t:{}),a.call(this),this.group=new E,this.group.add({render:S.bind(this)}),this._entityId=z.register(this),this._contextSize=[window.innerWidth,window.innerHeight],this._size=[this._contextSize[0],this._contextSize[1]],this._offsets={}}function o(t){this.touchCount=t.count,void 0===t.count&&(this.touchCount=1),h.call(this),this.setVelocity(0),this._touchVelocity=0,this._earlyEnd=!1}function n(t){var i=-t.p,e=-t.v;this._onEdge&&t.slip&&(0>e&&this._onEdge<0||e>0&&this._onEdge>0?this._earlyEnd||(r.call(this,t),this._earlyEnd=!0):this._earlyEnd&&Math.abs(e)>Math.abs(this.particle.getVel()[0])&&o.call(this,t)),this._earlyEnd||(this._touchVelocity=e,t.slip?this.setVelocity(e):this.setPosition(i))}function r(t){if(this.touchCount=t.count||0,!this.touchCount){h.call(this),this._onEdge&&(this._springAttached=!0),u.call(this);var i=-t.v,e=this.options.speedLimit;t.slip&&(e*=this.options.edgeGrip),-e>i?i=-e:i>e&&(i=e),this.setVelocity(i),this._touchVelocity=void 0}}function a(){this.eventInput.on("start",o.bind(this)),this.eventInput.on("update",n.bind(this)),this.eventInput.on("end",r.bind(this))}function u(){this._springAttached?this.physicsEngine.attach([this.spring],this.particle):this.physicsEngine.attach([this.drag,this.friction],this.particle)}function h(){this._springAttached=!1,this.physicsEngine.detachAll()}function c(t){t||(t=this._contextSize);var i=this.options.direction===b.Direction.X?0:1;return void 0===t[i]?this._contextSize[i]:t[i]}function p(t){this._springPosition+=t,this._offsetDifferential-=t,this.setPosition(this.getPosition()+t),this.spring.setOpts({anchor:[this._springPosition,0,0]})}function l(){for(var t=!1;!t&&this.getPosition()<0;){var i=this.node.getPrevious?this.node.getPrevious():null;if(i){var e=i.getSize?i.getSize():this._contextSize,s=c.call(this,e)+this.options.itemSpacing;p.call(this,s),this._masterOffset-=s,this.node=i}else t=!0}for(var o=this.node&&this.node.getSize?this.node.getSize():this._contextSize;!t&&this.getPosition()>=c.call(this,o)+this.options.itemSpacing;){var n=this.node.getNext?this.node.getNext():null;if(n){var s=c.call(this,o)+this.options.itemSpacing;p.call(this,-s),this._masterOffset+=s,this.node=n,o=this.node.getSize?this.node.getSize():this._contextSize}else t=!0}Math.abs(this._masterOffset)>y.call(this)+this.options.margin&&(this._masterOffset=0)}function f(t){!this._onEdge&&t?(this.sync.setOptions({scale:this.options.edgeGrip}),this.touchCount||this._springAttached||(this._springAttached=!0,this.physicsEngine.attach([this.spring],this.particle))):this._onEdge&&!t&&(this.sync.setOptions({scale:1}),this._springAttached&&Math.abs(this.getVelocity())<.001&&(this.setVelocity(0),this.setPosition(this._springPosition),h.call(this),u.call(this))),this._onEdge=t}function d(){if(0==this.touchCount&&!this._springAttached&&!this._onEdge&&this.options.paginated&&Math.abs(this.getVelocity())<this.options.pageStopSpeed){var t=this.node.getSize?this.node.getSize():this._contextSize,i=Math.abs(this.getVelocity())>this.options.pageSwitchSpeed,e=this.getVelocity()>0,s=this.getPosition()>.5*c.call(this,t);i&&e||!i&&s?this.goToNextPage():m.call(this)}}function m(){v.call(this,0,{period:this.options.pagePeriod,damp:this.options.pageDamp}),this._springAttached||(this._springAttached=!0,this.physicsEngine.attach([this.spring],this.particle))}function v(t,i){this._springPosition=t,this.spring.setOpts({anchor:[this._springPosition,0,0],period:i?i.period:this.options.edgePeriod,dampingRatio:i?i.damp:this.options.edgeDamp})}function g(t,i,e){var s=t.getSize?t.getSize():this._contextSize,o=this._outputFunction(i);return e.push({transform:o,target:t.render()}),c.call(this,s)}function y(){return this.options.clipSize?this.options.clipSize:c.call(this,this._contextSize)}function S(){var t={},i=this.getPosition(),e=[],s=0,o=0,n=this.node;for(t[n]=0;n&&o-i<y.call(this)+this.options.margin;)o+=g.call(this,n,o+this._masterOffset,e)+this.options.itemSpacing,n=n.getNext?n.getNext():null,t[n]=o,!n&&o-i-this.options.itemSpacing<=y.call(this)&&(this._onEdge||v.call(this,o-y.call(this)-this.options.itemSpacing),s=1);if(n=this.node&&this.node.getPrevious?this.node.getPrevious():null,o=0,n){var r=n.getSize?n.getSize():this._contextSize;o-=c.call(this,r)+this.options.itemSpacing}else 0>=i&&(this._onEdge||v.call(this,0),s=-1);for(;n&&o-i>-(y.call(this)+this.options.margin);)if(t[n]=o,g.call(this,n,o+this._masterOffset,e),n=n.getPrevious?n.getPrevious():null){var r=n.getSize?n.getSize():this._contextSize;o-=c.call(this,r)+this.options.itemSpacing}return this._offsetDifferential=0,this._offsets=t,f.call(this,s),d.call(this),this.options.paginated&&this._lastFrameNode!==this.node&&(this.eventOutput.emit("pageChange"),this._lastFrameNode=this.node),e}var b=t("famous-utilities/Utility"),w=t("famous-physics/PhysicsEngine"),T=t("famous-physics/bodies/Particle"),_=t("famous-physics/forces/Drag"),x=t("famous-physics/forces/Spring"),O=t("famous/Transform"),C=t("famous/EventHandler"),P=t("famous-sync/GenericSync"),M=t("famous/ViewSequence"),E=t("famous/Group"),z=t("famous/Entity");s.prototype.getPosition=function(t){var i=this.particle.getPos()[0];if(void 0===t)return i;var e=this._offsets[t];return void 0!==e?i-e+this._offsetDifferential:void 0},s.prototype.setPosition=function(t){this.particle.setPos([t,0,0])},s.prototype.getVelocity=function(){return this.touchCount?this._touchVelocity:this.particle.getVel()[0]},s.prototype.setVelocity=function(t){this.particle.setVel([t,0,0])},s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction,"x"===this.options.direction?this.options.direction=b.Direction.X:"y"===this.options.direction&&(this.options.direction=b.Direction.Y)),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.itemSpacing&&(this.options.itemSpacing=t.itemSpacing),void 0!==t.clipSize&&(t.clipSize!==this.options.clipSize&&(this._onEdge=0),this.options.clipSize=t.clipSize),void 0!==t.margin&&(this.options.margin=t.margin),void 0!==t.drag&&(this.options.drag=t.drag),void 0!==t.friction&&(this.options.friction=t.friction),void 0!==t.edgeGrip&&(this.options.edgeGrip=t.edgeGrip),void 0!==t.edgePeriod&&(this.options.edgePeriod=t.edgePeriod),void 0!==t.edgeDamp&&(this.options.edgeDamp=t.edgeDamp),void 0!==t.paginated&&(this.options.paginated=t.paginated),void 0!==t.pageStopSpeed&&(this.options.pageStopSpeed=t.pageStopSpeed),void 0!==t.pageSwitchSpeed&&(this.options.pageSwitchSpeed=t.pageSwitchSpeed),void 0!==t.pagePeriod&&(this.options.pagePeriod=t.pagePeriod),void 0!==t.pageDamp&&(this.options.pageDamp=t.pageDamp),void 0!==t.speedLimit&&(this.options.speedLimit=t.speedLimit),void 0===this.options.margin&&(this.options.margin=.5*Math.max(window.innerWidth,window.innerHeight)),this.drag.setOpts({strength:this.options.drag}),this.friction.setOpts({strength:this.options.friction}),this.spring.setOpts({period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}),this.sync.setOptions({rails:this.options.rails,direction:this.options.direction==b.Direction.X?P.DIRECTION_X:P.DIRECTION_Y})},s.prototype.setOutputFunction=function(t,i){t||(t=function(t){return this.options.direction==b.Direction.X?O.translate(t,0):O.translate(0,t)}.bind(this),i||(i=t)),this._outputFunction=t,this._masterOutputFunction=i?i:function(i){return O.inverse(t(-i))}},s.prototype.goToPreviousPage=function(){if(this.node){var t=this.node.getPrevious?this.node.getPrevious():null;if(t){var i=c.call(this,this.node.getSize())+this.options.itemSpacing;this.node=t,this._springPosition-=i,p.call(this,i),m.call(this)}return t}},s.prototype.goToNextPage=function(){if(this.node){var t=this.node.getNext?this.node.getNext():null;if(t){var i=c.call(this,this.node.getSize())+this.options.itemSpacing;this.node=t,this._springPosition+=i,p.call(this,-i),m.call(this)}return t}},s.prototype.getCurrentNode=function(){return this.node},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new M(t)),this.node=t,this._lastFrameNode=t},s.prototype.getSize=function(){return this._size},s.prototype.render=function(){return this.node?(this.physicsEngine.step(),this._entityId):void 0},s.prototype.commit=function(t){var i=t.transform,e=t.opacity,s=t.origin,o=t.size;this.options.clipSize||o[0]===this._contextSize[0]&&o[1]===this._contextSize[1]||(this._onEdge=0,this._contextSize=o,this.options.direction===b.Direction.X?(this._size[0]=y.call(this),this._size[1]=void 0):(this._size[0]=void 0,this._size[1]=y.call(this))),l.call(this);
var n=this.getPosition(),r=this._masterOutputFunction(-(n+this._masterOffset));return{transform:O.moveThen([-s[0]*o[0],-s[1]*o[1],0],i),opacity:e,origin:s,size:o,target:{transform:r,origin:s,target:this.group.render()}}},e.exports=s}),define("Text",["module"],function(t){var i,e,s,o,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,h="undefined"!=typeof location&&location.href,c=h&&location.protocol&&location.protocol.replace(/\:/,""),p=h&&location.hostname,l=h&&(location.port||void 0),f={},d=t.config&&t.config()||{};return i={version:"2.0.10",strip:function(t){if(t){t=t.replace(a,"");var i=t.match(u);i&&(t=i[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,i,e;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){e=r[i];try{t=new ActiveXObject(e)}catch(s){}if(t){r=[e];break}}return t},parseName:function(t){var i,e,s,o=!1,n=t.indexOf("."),r=0===t.indexOf("./")||0===t.indexOf("../");return-1!==n&&(!r||n>1)?(i=t.substring(0,n),e=t.substring(n+1,t.length)):i=t,s=e||i,n=s.indexOf("!"),-1!==n&&(o="strip"===s.substring(n+1),s=s.substring(0,n),e?e=s:i=s),{moduleName:i,ext:e,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,s,o){var n,r,a,u=i.xdRegExp.exec(t);return u?(n=u[2],r=u[3],r=r.split(":"),a=r[1],r=r[0],!(n&&n!==e||r&&r.toLowerCase()!==s.toLowerCase()||(a||r)&&a!==o)):!0},finishLoad:function(t,e,s,o){s=e?i.strip(s):s,d.isBuild&&(f[t]=s),o(s)},load:function(t,e,s,o){if(o.isBuild&&!o.inlineText)return void s();d.isBuild=o.isBuild;var n=i.parseName(t),r=n.moduleName+(n.ext?"."+n.ext:""),a=e.toUrl(r),u=d.useXhr||i.useXhr;return 0===a.indexOf("empty:")?void s():void(!h||u(a,c,p,l)?i.get(a,function(e){i.finishLoad(t,n.strip,e,s)},function(t){s.error&&s.error(t)}):e([r],function(t){i.finishLoad(n.moduleName+"."+n.ext,n.strip,t,s)}))},write:function(t,e,s){if(f.hasOwnProperty(e)){var o=i.jsEscape(f[e]);s.asModule(t+"!"+e,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,e,s,o,n){var r=i.parseName(e),a=r.ext?"."+r.ext:"",u=r.moduleName+a,h=s.toUrl(r.moduleName+a)+".js";i.load(u,s,function(){var e=function(t){return o(h,t)};e.asModule=function(t,i){return o.asModule(t,h,i)},i.write(t,u,e,n)},n)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(e=require.nodeRequire("fs"),i.get=function(t,i,s){try{var o=e.readFileSync(t,"utf8");0===o.indexOf("ï»¿")&&(o=o.substring(1)),i(o)}catch(n){s(n)}}):"xhr"===d.env||!d.env&&i.createXhr()?i.get=function(t,e,s,o){var n,r=i.createXhr();if(r.open("GET",t,!0),o)for(n in o)o.hasOwnProperty(n)&&r.setRequestHeader(n.toLowerCase(),o[n]);d.onXhr&&d.onXhr(r,t),r.onreadystatechange=function(){var i,o;4===r.readyState&&(i=r.status,i>399&&600>i?(o=new Error(t+" HTTP status: "+i),o.xhr=r,s(o)):e(r.responseText),d.onXhrComplete&&d.onXhrComplete(r,t))},r.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(t,i){var e,s,o="utf-8",n=new java.io.File(t),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),o)),u="";try{for(e=new java.lang.StringBuffer,s=a.readLine(),s&&s.length()&&65279===s.charAt(0)&&(s=s.substring(1)),null!==s&&e.append(s);null!==(s=a.readLine());)e.append(r),e.append(s);u=String(e.toString())}finally{a.close()}i(u)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),n="@mozilla.org/windows-registry-key;1"in s,i.get=function(t,i){var e,r,a,u={};n&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{e=s["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),e.init(a,1,0,!1),r=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(e,"utf-8",e.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(e.available(),u),r.close(),e.close(),i(u.value)}catch(h){throw new Error((a&&a.path||"")+": "+h)}}),i}),define("app/Util",["require","exports","module","Text","lib/Hogan","famous/Transform"],function(t,i,e){var s=(t("Text"),t("lib/Hogan")),o=t("famous/Transform"),n={playSound:function(t){t.currentTime=.01,t.Play?t.Play():t.play&&t.play()},pulse:function(t){var i=t;i.setTransform(o.scale(1.05,1.05,1),{duration:300},function(){i.setTransform(o.scale(1,1,1),{duration:100})})},loadFragment:function(i,e,o){t(["text!"+i],function(t){var i=s.compile(t).render(e);o(i)})}};e.exports=n}),define("app/views/Boring",["require","exports","module","famous/Surface","famous/Modifier","famous/Transform","famous/View","famous-views/Scrollview","app/Util"],function(t,i,e){function s(){u.apply(this,arguments);o.call(this)}function o(){c.loadFragment("fragments/boring.html",{},function(t){this.surface=new n({size:[640,4e3],properties:{boxShadow:"0 0 20px rgba(0,0,0,0.5)"},content:t,classes:["boring"]}),this.modifier=new r({transform:a.translate(0,0,0),size:[640,960],origin:[.5,0]}),this.boringScrollView=new h({direction:"y",margin:4e3}),this.boringScrollView.sequenceFrom(this.surface),this._add(this.modifier).add(this.boringScrollView),this.surface.pipe(this.eventOutput),this.surface.pipe(this.boringScrollView)}.bind(this))}var n=t("famous/Surface"),r=t("famous/Modifier"),a=t("famous/Transform"),u=t("famous/View"),h=t("famous-views/Scrollview"),c=t("app/Util");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={},e.exports=s}),define("famous-surfaces/ContainerSurface",["require","exports","module","famous/Surface","famous/Context"],function(t,i,e){function s(t){o.call(this,t),this._container=document.createElement("div"),this._container.classList.add("famous-group"),this._container.style.width="100%",this._container.style.height="100%",this._container.style.position="relative",this._shouldRecalculateSize=!1,this.context=new n(this._container),this.setContent(this._container)}var o=t("famous/Surface"),n=t("famous/Context");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.elementType="div",s.prototype.elementClass="famous-surface",s.prototype.link=function(){return this.context.link.apply(this.context,arguments)},s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.mod=function(){return this.context.mod.apply(this.context,arguments)},s.prototype.render=function(){return this._sizeDirty&&(this._shouldRecalculateSize=!0),o.prototype.render.apply(this,arguments)},s.prototype.deploy=function(){return this._shouldRecalculateSize=!0,o.prototype.deploy.apply(this,arguments)},s.prototype.commit=function(){var t=this._size?[this._size[0],this._size[1]]:null,i=o.prototype.commit.apply(this,arguments);return(this._shouldRecalculateSize||t&&(this._size[0]!==t[0]||this._size[1]!==t[1]))&&(this.context.setSize(),this._shouldRecalculateSize=!1),this.context.update(),i},e.exports=s}),define("famous-utils/Time",["require","exports","module","famous/Engine"],function(t,i,e){function s(t,i){var e=Date.now(),s=function(){var s=Date.now();s-e>=i&&(t(),e=Date.now())};return u.on("prerender",s),s}function o(t){u.unbind("prerender",t)}function n(t,i,e){var s=Date.now(),o=function(){var n=Date.now(),r=(n-s)/t;return n-s>=t?(i(1),u.unbind("prerender",o),void(e&&e())):void i(r)};u.on("prerender",o)}function r(t,i){var e=Date.now(),s=function(){var o=Date.now();return o-e>=i?(u.unbind("prerender",s),void t()):void 0};return u.on("prerender",s),s}function a(t){u.unbind("prerender",t)}var u=t("famous/Engine");e.exports={setInterval:s,removeInterval:o,executeOver:n,setTimeout:r,removeTimeout:a}}),define("famous-physics/forces/VectorField",["require","exports","module","famous-physics/forces/Force","famous-math/Vector"],function(t,i,e){function s(t){this.opts={strength:1,field:s.FIELDS.CONSTANT},t&&this.setOpts(t),this.setFieldOptions(this.opts.field),this.timeDependent=3==this.opts.field.length,this.tOrig=void 0,this.register=new n(0,0,0),o.call(this)}var o=t("famous-physics/forces/Force"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.FIELDS={CONSTANT:function(t,i){return t.set(i.direction)},LINEAR:function(t,i){return t.set(t.mult(i.k))},RADIAL_GRAVITY:function(t){return t.set(t.mult(-1,t))},SPHERE_ATTRACTOR:function(t,i){return t.set(t.mult((i.radius-t.norm())/t.norm()))},POINT_ATTRACTOR:function(t,i){return t.set(i.p.sub(t))}},s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.evaluate=function(t,i){return this.register.set(t),this.opts.field(this.register,this.opts,i)},s.prototype.applyForce=function(t){var i,e=this.force;this.timeDependent?(this.tOrig&&(this.tOrig=Date.now()),i=.001*(Date.now()-this.tOrig)):i=void 0;for(var s=0;s<t.length;s++){var o=t[s];e.set(this.evaluate(o.p,i).mult(o.m*this.opts.strength)),o.applyForce(e)}},s.prototype.setFieldOptions=function(t){var i=s.FIELDS;switch(t){case i.CONSTANT:this.opts.direction||(this.opts.direction=new n(0,1,0));break;case i.POINT_ATTRACTOR:this.opts.p||(this.opts.p=new n(0,0,0));break;case i.SPHERE_ATTRACTOR:this.opts.radius||(this.opts.radius=1);break;case i.LINEAR:this.opts.k||(this.opts.k=1)}},e.exports=s}),define("app/Overlap",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector","famous/EventHandler","famous-physics/bodies/Circle","famous-physics/bodies/Rectangle"],function(t,i,e){function s(t){this.opts={},t&&this.setOpts(t),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this.displacement=new n,this.normal=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector"),r=t("famous/EventHandler"),a=t("famous-physics/bodies/Circle"),u=t("famous-physics/bodies/Rectangle"),h=a.prototype.constructor.name,c=u.prototype.constructor.name;s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i){if(void 0!==i){var e=i.p,s=i.r,o=i.constructor.name;o==c&&(s=Math.sqrt(Math.pow(i.size[0]/2,2)+Math.pow(i.size[1]/2,2)));for(var n=this.displacement,r=0;r<t.length;r++){var a=t[r];if(i!=a){var u=a.p,h=a.r,l=a.constructor.name;l==c&&(h=Math.sqrt(Math.pow(a.size[0]/2,2)+Math.pow(a.size[1]/2,2))),n.set(e.sub(u));var f=n.norm(),d=s+h-f;if(d>0){var m=!0;if((l==c||o==c)&&(m=p(i,a)),m){this.normal.set(n.normalize());var v={target:a,source:i,overlap:d,normal:this.normal};this.eventOutput.emit("hit",v)}}}}}};var p=function(t,i){var e=t.constructor.name==h?t:i,s=t.constructor.name==c?t:i,o={x:e.p.x,y:e.p.y,r:e.r},n={x:s.p.x,y:s.p.y,width:s.size[0],height:s.size[1]},r={};return r.x=Math.abs(o.x-n.x),r.y=Math.abs(o.y-n.y),r.x>n.width/2+o.r?!1:r.y>n.height/2+o.r?!1:r.x<=n.width/2?!0:r.y<=n.height/2?!0:Math.pow(r.x-n.width/2,2)+Math.pow(r.y-n.height/2,2)<=Math.pow(o.r,2)?!0:!1};e.exports=s}),define("famous-physics/constraints/Wall",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector","famous/EventHandler"],function(t,i,e){function s(t){this.opts={restitution:.7,k:0,n:new r,d:0,onContact:s.ON_CONTACT.REFLECT},t&&this.setOpts(t),this.diff=new r,this.impulse=new r,this.slop=-1,this.eventOutput=void 0}function o(){this.eventOutput=new a,this.eventOutput.bindThis(this),a.setOutputHandler(this,this.eventOutput)}var n=t("famous-physics/constraints/Constraint"),r=t("famous-math/Vector"),a=t("famous/EventHandler");s.prototype=Object.create(n.prototype),s.prototype.constructor=n,s.ON_CONTACT={REFLECT:0,WRAP:1,ABSORB:2},s.prototype.setOpts=function(t){void 0!==t.restitution&&(this.opts.restitution=t.restitution),void 0!==t.k&&(this.opts.k=t.k),void 0!==t.d&&(this.opts.d=t.d),void 0!==t.onContact&&(this.opts.onContact=t.onContact),void 0!==t.n&&this.opts.n.set(t.n)},s.prototype.getNormalVelocity=function(t){var i=this.opts.n;return t.dot(i)},s.prototype.getDistance=function(t){var i=this.opts.n,e=this.opts.d;return t.dot(i)+e},s.prototype.onEnter=function(t,i,e){var o=t.p,n=t.v,r=t.m,a=this.opts.n,u=this.opts.onContact,h=this.opts.restitution,c=this.impulse,p=this.opts.k,l=0;if(this.eventOutput){var f={particle:t,wall:this,overlap:i};this.eventOutput.emit("preCollision",f),this.eventOutput.emit("collision",f)}switch(u){case s.ON_CONTACT.REFLECT:var d=i<this.slop?-((1+h)*a.dot(n)+p/e*(i-this.slop))/(r*e+l):-((1+h)*a.dot(n))/(r*e+l);c.set(a.mult(e*d)),t.applyImpulse(c),t.setPos(o.add(a.mult(-i)));break;case s.ON_CONTACT.ABSORB:var d=a.dot(n)/(r*e+l);c.set(a.mult(e*d)),t.applyImpulse(c),t.setPos(o.add(a.mult(-i))),n.clear();break;case s.ON_CONTACT.WRAP:if(i<-t.r)break}this.eventOutput&&this.eventOutput.emit("postCollision",f)},s.prototype.onExit=function(t,i){var e=this.opts.onContact,o=t.p,n=this.opts.n;e==s.ON_CONTACT.REFLECT?t.setPos(o.add(n.mult(-i))):e==s.ON_CONTACT.WRAP||e==s.ON_CONTACT.ABSORB},s.prototype.applyConstraint=function(t,i,e){for(var s=this.opts.n,o=0;o<t.length;o++){var n=t[o],r=n.p,a=n.v,u=n.r||0,h=this.getDistance(r.add(s.mult(-u))),c=this.getNormalVelocity(a);0>=h&&(0>c?this.onEnter(n,h,e):this.onExit(n,h,e))}},s.prototype.on=function(){return o.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return o.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return o.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return o.call(this),this.unpipe.apply(this,arguments)},e.exports=s}),define("app/Sounds",["require","exports","module"],function(t,i,e){for(var s=[{sound:"flap",location:"flap.wav"},{sound:"die",location:"die.wav"},{sound:"score",location:"score.wav"}],o={},n=s.length-1;n>=0;n--){var r=s[n],a=document.createElement("audio");a.setAttribute("controls",!0);var u=document.createElement("source");u.src="../../content/sounds/"+r.location,a.appendChild(u),o[r.sound]=a}e.exports=o}),define("app/Bird",["require","exports","module","famous/Surface","famous/Modifier","famous/Transform","famous-math/Vector","famous-physics/forces/Spring","app/Util","app/Sounds","famous-utils/Time"],function(t,i,e){function s(t,i){this.opts={flapStrength:.035,birdieRadius:28},i&&this.setOpts(i),this.physicsEngine=t,this.flyTimer=null,this.flyState=0,this.started=!1,this.surface=new o({size:[78,57],classes:["birdie"]}),this.modifier=new n({transform:r.multiply(r.rotateZ(0),r.translate(0,0,10)),origin:[.5,.5]}),this.particle=this.physicsEngine.createBody({shape:this.physicsEngine.BODIES.CIRCLE,m:1,r:this.opts.birdieRadius,p:[-120,-40,10],v:[0,0,0]}),this.particle.add(this.modifier).add(this.surface),this.hangout()}var o=t("famous/Surface"),n=t("famous/Modifier"),r=t("famous/Transform"),a=(t("famous-math/Vector"),t("famous-physics/forces/Spring")),u=t("app/Util"),h=(t("app/Sounds"),t("famous-utils/Time"));s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.hangout=function(){var t=new a({period:1200,dampingRatio:0,length:30,bidirectional:!0,anchor:[-120,-20,0]});this.springID=this.physicsEngine.attach(t,this.particle);var i=this;this.flyTimer=h.setInterval(function(){i.fly()},150)},s.prototype.fly=function(){this.flyState++;var t=this.flyState%4;(0===t||2===t)&&this.surface.setClasses(["birdie"]),1===t&&this.surface.setClasses(["birdie","birdie-up"]),3===t&&this.surface.setClasses(["birdie","birdie-down"])},s.prototype.start=function(){this.started||(this.started=!0,this.physicsEngine.detach(this.springID)),this.flap(!0)},s.prototype.stop=function(){h.removeInterval(this.flyTimer)},s.prototype.flap=function(t){var i=this;console.log("flap"),t?this.particle.applyForce({x:0,y:-this.opts.flapStrength,z:0}):this.particle.setVel([0,-.45,0]),this.rotateBirdie("up",function(){i.rotateBirdie("down")}),u.playSound("flap")},s.prototype.rotateBirdie=function(t,i){var e="up"===t?Math.PI*-.25:.5*Math.PI,s="up"===t?100:800;this.modifier.halt(),this.modifier.setTransform(r.rotateZ(e),{duration:s},i)},e.exports=s}),define("app/Cloud",["require","exports","module","famous/Surface","famous/Modifier","famous/Transform"],function(t,i,e){function s(t,i){this.game=t,this.physicsEngine=i,o.call(this),n.call(this)}function o(){this.opts={yPos:450*-Math.random(),scale:2+2*Math.random(),opacity:1/(1.1+Math.random()),velocity:-.1-.5*Math.random(),cloudType:"cloud-type-"+parseInt(1e3*Math.random())%3}}function n(){this.modifier=new a({transform:u.multiply(u.translate(0,this.opts.yPos,0),u.scale(this.opts.scale,this.opts.scale,0)),opacity:this.opts.opacity}),this.surface=new r({size:[128,64],classes:["cloud",this.opts.cloudType]}),this.particle=this.physicsEngine.createBody({shape:this.physicsEngine.BODIES.CIRCLE,m:0,r:0,p:[500,0,0],v:[this.opts.velocity,0,0]}),this.particle.add(this.modifier).add(this.surface),this.surface.pipe(this.game.surface)}var r=t("famous/Surface"),a=t("famous/Modifier"),u=t("famous/Transform");s.prototype.restart=function(){this.particle.setPos([500,450*-Math.random(),0])},e.exports=s}),define("app/Pipe",["require","exports","module","famous/Engine","famous/Surface","famous/Modifier","famous/Transform"],function(t,i,e){function s(t,i,e){this.game=t,this.physicsEngine=i,o.call(this,e),n.call(this)}function o(t){t||(t={}),this.opts={id:t.id,velocity:-.4,gapHeight:190*Math.random(),gapDirection:100*Math.random()%2==0?-1:1,pipeHeight:480,pipeWidth:113,pipeScale:2}}function n(){this.modifier=new a({transform:u.rotateZ(Math.PI),origin:[.5,.5]});var t=this.opts.gapHeight*this.opts.gapDirection;this.surfaces=[new r({size:[this.opts.pipeWidth,this.opts.pipeHeight-230+t],classes:["pipe","upper","unselectable"],content:this.opts.id}),new r({size:[this.opts.pipeWidth,this.opts.pipeHeight-200-t],classes:["pipe","lower"]})],this.particles=[this.physicsEngine.createBody({shape:this.physicsEngine.BODIES.RECTANGLE,m:0,size:[this.opts.pipeWidth,this.opts.pipeHeight-200+t],p:[400,-370+t/2,0],v:[this.opts.velocity,0,0]}),this.physicsEngine.createBody({shape:this.physicsEngine.BODIES.RECTANGLE,m:0,size:[this.opts.pipeWidth,this.opts.pipeHeight-200-t],p:[400,125+t/2,0],v:[this.opts.velocity,0,0]})],this.particles[0].add(this.modifier).add(this.surfaces[0]),this.particles[1].add(this.surfaces[1]),this.surfaces[0].pipe(this.game.surface),this.surfaces[1].pipe(this.game.surface)}var r=(t("famous/Engine"),t("famous/Surface")),a=t("famous/Modifier"),u=t("famous/Transform");s.prototype.restart=function(t){var i=(190*Math.random(),100*Math.random()%2==0?-1:1,this.opts.gapHeight*this.opts.gapDirection);this.surfaces[0].setContent(t.id),this.surfaces[0].size=[this.opts.pipeWidth,this.opts.pipeHeight-230+i],this.particles[0].p.setFromArray([400,-370+i/2,0]),this.surfaces[1].size=[this.opts.pipeWidth,this.opts.pipeHeight-200-i],this.particles[1].p.setFromArray([400,125+i/2,0])},e.exports=s}),define("app/Floor",["require","exports","module","famous/Engine","famous/Surface"],function(t,i,e){function s(t,i,e){this.game=t,this.physicsEngine=i,o.call(this,e),n.call(this)}function o(t){t||(t={}),this.opts={velocity:-.4,initPos:void 0!==t.initPos?t.initPos:700}}function n(){return this.surface=new r({size:[2560,215],classes:["floor"]}),this.particle=this.physicsEngine.createBody({shape:this.physicsEngine.BODIES.RECTANGLE,m:0,size:[2560,265],p:[this.opts.initPos,372,1],v:[this.opts.velocity,0,0]}),this.particle.add(this.surface),this.surface.pipe(this.game.surface),this.particle}var r=(t("famous/Engine"),t("famous/Surface"));s.prototype.restart=function(){this.particle.setPos([this.opts.initPos,372,0])},e.exports=s}),define("app/Score",["require","exports","module","famous/Engine","famous/Surface","famous/Modifier","famous/Transform","app/Util"],function(t,i,e){function s(){this.score=0,this.surface=null,this.particle=null,this.visible=!0}var o=(t("famous/Engine"),t("famous/Surface")),n=t("famous/Modifier"),r=t("famous/Transform"),a=t("app/Util");s.prototype.attachToPhysics=function(t){this.surface=new o({size:[100,25],classes:["scorer"],content:"<h1>0</h1>"}),this.translateModifier=new n({transform:r.translate(230,20,60)}),this.modifier=new n({transform:r.scale(1,1,0)});var i=this;this.modifier.render=function(){return i.visible?{transform:i.modifier.getTransform(),target:i.surface.render(),origin:i.modifier.getOrigin(),opacity:i.modifier.getOpacity()}:void 0},this.particle=t.createBody({shape:t.BODIES.CIRCLE,m:0,r:5,p:[-230,-450,0],v:[0,0,0]}),this.particle.add(this.translateModifier).add(this.modifier)},s.prototype.setScore=function(t){this.surface.setContent("<h1>"+t+"</h1>"),a.pulse(this.modifier)},s.prototype.show=function(){this.visible=!0},s.prototype.hide=function(){this.visible=!1},e.exports=s}),define("famous-audio/BufferLoader",["require","exports","module"],function(t,i,e){function s(t,i,e){this.context=t,this.urlList=i,this.onload=e,this.bufferList=[],this.loadCount=0}s.prototype.loadBuffer=function(t,i){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer";var s=this;e.onload=function(){s.context.decodeAudioData(e.response,function(e){return e?(s.bufferList[i]=e,void(++s.loadCount==s.urlList.length&&s.onload(s.bufferList))):void console.log("error decoding file data: "+t)})},e.onerror=function(){console.log("BufferLoader: XHR error")},e.send()},s.prototype.load=function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer(this.urlList[t],t)},e.exports=s}),define("famous-audio/SoundPlayer",["require","exports","module","./BufferLoader"],function(t,i,e){function s(t,i){this.context,this.node,this.buffersActive=[];try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.context=new AudioContext,this.bufferLoader=new o(this.context,t,this.setSounds.bind(this)),this.sounds,this.callback=i||void 0,this.bufferLoader.load()}catch(e){}}var o=t("./BufferLoader");s.prototype.setSounds=function(t){this.sounds=t,void 0!=this.callback&&this.callback()},s.prototype.isPlaying=function(){return this.buffersActive.length>0?!0:!1},s.prototype.stopPlaying=function(){var t=this.buffersActive.length;if(t>0)for(var i=0;t>i;i++){var e=this.buffersActive[i];e.stop(0)}},s.prototype.getContext=function(){return this.context},s.prototype.addNode=function(t){this.node=t},s.prototype.playSound=function(t,i,e){if(this.context&&this.sounds){var s=this.context.createBufferSource(),o=this.context.createGainNode?this.context.createGainNode():this.context.createGain();o.gain.value="undefined"==typeof i?.5:i,s.buffer=this.sounds[t],s.connect(o);var n=o;if(this.node&&(n.connect(this.node),n=this.node),n.connect(this.context.destination),!s.start)return void(e&&e());s.start(0),s.onended=function(){var t=this.buffersActive.indexOf(s);-1!==t&&this.buffersActive.splice(t,1),e&&e()}.bind(this,s),this.buffersActive.push(s)}},e.exports=s}),define("app/GameSounds",["require","exports","module","famous-audio/SoundPlayer"],function(t,i,e){var s=t("famous-audio/SoundPlayer"),o=new s(["content/sounds/flap.wav","content/sounds/die.wav","content/sounds/score.wav"],function(t){console.log("sounds loaded",t)});e.exports=o}),define("famous-physics/constraints/StiffSpring",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector","famous/EventHandler"],function(t,i,e){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:1,period:1e3,restTolerance:1e-5},t&&this.setOpts(t),this.pDiff=new u,this.vDiff=new u,this.n=new u,this.impulse1=new u,this.impulse2=new u,this.eventOutput=void 0,this._atRest=!1}function o(t,i){t<this.opts.restTolerance?(this._atRest||this.eventOutput.emit("atRest",{particle:i}),this._atRest=!0):this._atRest=!1}function n(t,i,e){var s=Math.abs(t.dot(i)/e);return s}function r(){this.eventOutput=new h,this.eventOutput.bindThis(this),h.setOutputHandler(this,this.eventOutput)}var a=t("famous-physics/constraints/Constraint"),u=t("famous-math/Vector"),h=t("famous/EventHandler");s.prototype=Object.create(a.prototype),s.prototype.constructor=a,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor instanceof u&&(this.opts.anchor=t.anchor),t.anchor.p instanceof u&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new u(t.anchor))),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.opts.period=t.period),void 0!==t.restTolerance&&(this.opts.restTolerance=t.restTolerance)},s.prototype.setAnchor=function(t){void 0===this.opts.anchor&&(this.opts.anchor=new u),this.opts.anchor.set(t)},s.prototype.applyConstraint=function(t,i,e){for(var s=this.opts,r=this.pDiff,a=this.vDiff,u=this.impulse1,h=this.impulse2,c=s.length,p=s.anchor||i.p,l=s.period,f=s.dampingRatio,d=0;d<t.length;d++){var m=t[d],v=m.p,g=m.v,y=m.m,S=m.mInv;r.set(v.sub(p));var b=r.norm()-c;if(i){var w=i.mInv,T=i.v;a.set(g.sub(T));var _=1/(S+w)}else{a.set(g);var _=y}if(0==this.opts.period)var x=0,O=1;else var C=4*_*Math.PI*Math.PI/(l*l),P=4*_*Math.PI*f/l,O=e*C/(P+e*C),x=1/(P+e*C);var M=O/e*b;if(r.normalize(-M).sub(a).mult(e/(x+e/_)).put(u),m.applyImpulse(u),i&&(u.mult(-1).put(h),i.applyImpulse(h)),this.eventOutput){var E=m.getEnergy()+n(u,r,e);o.call(this,E,m)}}},s.prototype.getEnergy=function(t,i){var e=this.opts,s=e.length,o=e.period,n=e.anchor||i.p;if(0===o)return 0;var r=4*t.m*Math.PI*Math.PI/(o*o),a=n.sub(t.p),u=a.norm()-s;return.5*r*u*u},s.prototype.on=function(){return r.call(this),this.on.apply(this,arguments)},s.prototype.unbind=function(){return r.call(this),this.unbind.apply(this,arguments)},s.prototype.pipe=function(){return r.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return r.call(this),this.unpipe.apply(this,arguments)},e.exports=s}),define("app/widgets/BouncyPane",["require","exports","module","famous-utils/Time","app/Util","famous/Transform","famous/Modifier","famous/Surface","famous/View","famous-physics/PhysicsEngine","famous-physics/constraints/StiffSpring"],function(t,i,e){function s(t,i){u.apply(this,[i]),this.physicsEngine=t,o.call(this)}function o(){this.surface=new a({size:this.options.size,classes:["unselectable"].concat(this.options.classes),content:this.options.content}),this.particle=this.physicsEngine.createBody({shape:this.physicsEngine.BODIES.CIRCLE,m:1,r:1,p:[0,-180,0],v:[0,1,0]}),this.spring=new h({period:200,dampingRatio:.2,length:100,bidirectional:!1,anchor:[0,-0,0]}),this.modifier=new r({transform:n.translate(0,0,50),origin:[.5,.5]}),this.springID=this.physicsEngine.attach(this.spring,this.particle),this.particle.add(this.modifier).add(this.surface)}var n=(t("famous-utils/Time"),t("app/Util"),t("famous/Transform")),r=t("famous/Modifier"),a=t("famous/Surface"),u=t("famous/View"),h=(t("famous-physics/PhysicsEngine"),t("famous-physics/constraints/StiffSpring"));s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={classes:[],content:null,visible:!1,origin:[.5,.5],size:[300,300]},s.prototype.pulse=function(){this.particle.setVel(0,2,0)},s.prototype.hide=function(){this.modifier.setTransform(n.translate(0,-500,0),{duration:800},function(){this.visible=!1}.bind(this)),this.modifier.setOpacity(0,{duration:400})},s.prototype.show=function(){this.modifier.setTransform(n.translate(0,-100,10)),this.modifier.setOpacity(1),this.visible=!0,this.pulse()},s.prototype.render=function(){var t=[];return this.visible&&t.push({transform:this.modifier.getTransform(),target:this.surface.render(),origin:this.modifier.getOrigin(),opacity:this.modifier.getOpacity()}),t},e.exports=s}),define("app/widgets/ButtonPane",["require","exports","module","famous-utils/Time","app/Util","famous/Transform","famous/Modifier","famous/Surface","famous-surfaces/ContainerSurface","famous/Modifier","famous/View"],function(t,i,e){function s(t,i){c.apply(this,[i]),o.call(this,t)}function o(t){this.surface=new h({size:this.options.size,classes:["unselectable"].concat(this.options.classes)}),this.modifier=new a({transform:r.translate(this.options.position[0],this.options.position[1],this.options.position[2]),origin:[.5,.5],opacity:0}),t.add(this.modifier).add(this.surface),this.surface.pipe(this._eventOutput);for(var i=0;i<this.options.buttons.length;i++)n.call(this,this.options.buttons[i])}function n(t){var i=new u({size:[130,40],content:"<button>"+t.text+"</button>"}),e=new a({transform:r.translate(t.offsetX,0,this.options.position[2]),origin:[.5,.5]}),s=this;i.on("click",function(i){s.visible&&(i.stopPropagation(),t.callback())}),this.surface.add(e).add(i)}var r=(t("famous-utils/Time"),t("app/Util"),t("famous/Transform")),a=t("famous/Modifier"),u=t("famous/Surface"),h=t("famous-surfaces/ContainerSurface"),a=t("famous/Modifier"),c=t("famous/View");s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={classes:[],visible:!1,origin:[.5,.5],position:[0,150,2010],size:[600,100],buttons:[]},s.prototype.hide=function(){this.visible=!1,this.modifier.setOpacity(0,{duration:100},function(){this.modifier.setTransform(r.translate(0,0,-1))}.bind(this))},s.prototype.show=function(){this.modifier.setTransform(r.translate(this.options.position[0],this.options.position[1],this.options.position[2]),{},function(){this.modifier.setOpacity(1,{duration:100}),this.visible=!0}.bind(this))},s.prototype.render=function(){var t=[];return this.visible&&t.push({transform:this.modifier.getTransform(),target:this.surface.render(),origin:this.modifier.getOrigin(),opacity:this.modifier.getOpacity()}),t},e.exports=s}),define("famous-transitions/SpringTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/forces/Spring","famous-math/Vector"],function(t,i,e){function s(t){t=t||0,this.endState=new y(t),this.initState=new y,this._dimensions=void 0,this._restTolerance=1e-8,this._absRestTolerance=this._restTolerance,this._active=!1,this._callback=void 0,this.PE=new v,this.spring=new g({anchor:this.endState}),this.particle=this.PE.createParticle(),this.PE.attach(this.spring,this.particle)}function o(){if(this._active)this.PE.step(),n.call(this)<this._absRestTolerance&&(p.call(this,this.endState),l.call(this,[0,0,0]),c.call(this));else if(this._callback){var t=this._callback;this._callback=void 0,t()}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(t){var i=s.DEFAULT_OPTIONS;void 0===t.period&&(t.period=i.period),void 0===t.dampingRatio&&(t.dampingRatio=i.dampingRatio),void 0===t.velocity&&(t.velocity=i.velocity),t.period<150&&console.warn("period may be unstable, increase the period or use a stiff transition"),this.spring.setOpts({period:t.period,dampingRatio:t.dampingRatio}),l.call(this,t.velocity)}function a(){var t=this.endState.sub(this.initState).normSquared();this._absRestTolerance=0===t?this._restTolerance:this._restTolerance*t}function u(t){this.endState.set(t),a.call(this)}function h(){this.PE.play(),this._active=!0}function c(){this.PE.pause(),this._active=!1}function p(t){this.particle.p.set(t)}function l(t){this.particle.v.set(t)}function f(){return 0===this._dimensions?this.particle.p.x:this.particle.p.get()}function d(){return 0===this._dimensions?this.particle.v.x:this.particle.v.get()}function m(t){this._callback=t}var v=t("famous-physics/PhysicsEngine"),g=t("famous-physics/forces/Spring"),y=t("famous-math/Vector");s.SUPPORTS_MULTIPLE=3,s.DEFAULT_OPTIONS={period:300,dampingRatio:.5,velocity:0},s.prototype.reset=function(t,i){this._dimensions=t instanceof Array?t.length:0,this.initState.set(t),p.call(this,t),u.call(this,t),i&&l.call(this,i),m.call(this,void 0)},s.prototype.getVelocity=function(){return d.call(this)},s.prototype.setVelocity=function(t){this.call(this,l(t))},s.prototype.halt=function(){this.set(this.get())
},s.prototype.get=function(){return o.call(this),f.call(this)},s.prototype.set=function(t,i,e){return i?(this._dimensions=t instanceof Array?t.length:0,h.call(this),r.call(this,i),u.call(this,t),void m.call(this,e)):(this.reset(t),void(e&&e()))},e.exports=s}),define("app/widgets/SlideUpPane",["require","exports","module","famous-utils/Time","app/Util","famous/Transform","famous/Modifier","famous/Surface","famous-surfaces/ContainerSurface","famous/View","famous-transitions/Transitionable","famous-transitions/SpringTransition"],function(t,i,e){function s(t,i){h.apply(this,[i]),o.call(this,t)}function o(t){this.surface=new u({size:this.options.size}),this.spring={method:"spring",period:300,dampingRatio:.5},this.modifier=new r({transform:n.translate(0,500,0),origin:[.5,.5],opacity:0}),t.add(this.modifier).add(this.surface),this.surface.pipe(this._eventOutput),this.surface.add(new r({origin:[.5,.5]})).add(new a({classes:["unselectable"].concat(this.options.classes),content:this.options.content}))}var n=(t("famous-utils/Time"),t("app/Util"),t("famous/Transform")),r=t("famous/Modifier"),a=t("famous/Surface"),u=t("famous-surfaces/ContainerSurface"),h=t("famous/View"),c=t("famous-transitions/Transitionable"),p=t("famous-transitions/SpringTransition");c.registerMethod("spring",p),s.prototype=Object.create(h.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={classes:[],content:null,visible:!1,origin:[.5,.5],size:[300,300]},s.prototype.hide=function(){this.modifier.setOpacity(0,{duration:400}),this.visible=!1},s.prototype.show=function(){this.modifier.setTransform(n.translate(0,-50,1),this.spring),this.modifier.setOpacity(1,{duration:200}),this.visible=!0},s.prototype.render=function(){var t=[];return this.visible&&t.push({transform:this.modifier.getTransform(),target:this.surface.render(),origin:this.modifier.getOrigin(),opacity:this.modifier.getOpacity()}),t},e.exports=s}),define("famous-utils/Utils",["require","exports","module","./Time","famous/Transform"],function(t,i,e){var s=t("./Time"),o=t("famous/Transform"),n={rad2deg:function(t){return 57.2957795*t},deg2rad:function(t){return.0174532925*t},distance:function(t,i,e,s){var o=e-t,n=s-i;return Math.sqrt(o*o+n*n)},distance3D:function(t,i,e,s,o,n){var r=s-t,a=o-i,u=n-e;return Math.sqrt(r*r+a*a+u*u)},map:function(t,i,e,s,o,n){var r=(t-i)/(e-i)*(o-s)+s;return n&&(o>s?r>o?r=o:s>r&&(r=s):o>r?r=o:r>s&&(r=s)),r},limit:function(t,i,e){return Math.max(Math.min(t,e),i)},perspective:function(t,i,e,s){var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n=1/Math.tan(t/2),r=1/(e-s);return o[0]=n/i,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(s+e)*r,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*s*e*r,o[15]=0,o},ortho:function(t,i,e,s,o,n){var r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],a=-(i+t)/(i-t),u=-(s+e)/(s-e),h=-(n+o)/(n-o);return r[0]=2/(i-t),r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2/(s-e),r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-2/(n-o),r[11]=-1,r[12]=a,r[13]=u,r[14]=h,r[15]=1,r},normalFromTransform:function(t,i){var e=i[0],s=i[1],o=i[2],n=i[3],r=i[4],a=i[5],u=i[6],h=i[7],c=i[8],p=i[9],l=i[10],f=i[11],d=i[12],m=i[13],v=i[14],g=i[15],y=e*a-s*r,S=e*u-o*r,b=e*h-n*r,w=s*u-o*a,T=s*h-n*a,_=o*h-n*u,x=c*m-p*d,O=c*v-l*d,C=c*g-f*d,P=p*v-l*m,M=p*g-f*m,E=l*g-f*v,z=y*E-S*M+b*P+w*C-T*O+_*x;return z?(z=1/z,t[0]=(a*E-u*M+h*P)*z,t[1]=(u*C-r*E-h*O)*z,t[2]=(r*M-a*C+h*x)*z,t[3]=(o*M-s*E-n*P)*z,t[4]=(e*E-o*C+n*O)*z,t[5]=(s*C-e*M-n*x)*z,t[6]=(m*_-v*T+g*w)*z,t[7]=(v*b-d*_-g*S)*z,t[8]=(d*T-m*b+g*y)*z,t):null},clamp:function(t,i,e){return Math.max(Math.min(t,e),i)},color:function(t,i,e,s){return"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"},backgroundTransparent:function(){return{backgroundColor:"transparent"}},backgroundColor:function(t,i,e,s){return{backgroundColor:"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"}},borderRadius:function(t){return{borderRadius:t+"px"}},borderTopWidth:function(t){return{borderTopWidth:t+"px"}},borderBottomWidth:function(t){return{borderBottomWidth:t+"px"}},borderLeftWidth:function(t){return{borderLeftWidth:t+"px"}},borderRightWidth:function(t){return{borderRightWidth:t+"px"}},borderWidth:function(t){return{borderWidth:t+"px"}},borderColor:function(t,i,e,s){return 0==s?{borderColor:"transparent"}:{borderColor:"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"}},borderTopColor:function(t,i,e,s){return 0==s?{borderTopColor:"transparent"}:{borderTopColor:"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"}},borderBottomColor:function(t,i,e,s){return 0==s?{borderBottomColor:"transparent"}:{borderBottomColor:"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"}},borderRightColor:function(t,i,e,s){return 0==s?{borderRightColor:"transparent"}:{borderRightColor:"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"}},borderLeftColor:function(t,i,e,s){return 0==s?{borderLeftColor:"transparent"}:{borderLeftColor:"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(e)+","+s+")"}},borderStyle:function(t){return{borderStyle:t}},borderTopStyle:function(t){return{borderTopStyle:t}},borderBottomStyle:function(t){return{borderBottomStyle:t}},borderRightStyle:function(t){return{borderRightStyle:t}},borderLeftStyle:function(t){return{borderLeftStyle:t}},colorHSL:function(t,i,e,s){return"hsla("+Math.floor(t)+","+Math.floor(i)+"%,"+Math.floor(e)+"%,"+s+")"},backgroundTransparent:function(){return{backgroundColor:"transparent"}},backgroundColorHSL:function(t,i,e,s){return{backgroundColor:"hsla("+Math.floor(t)+","+Math.floor(i)+"%,"+Math.floor(e)+"%,"+s+")"}},backfaceVisible:function(t){return t===!0?{"backface-visibility":"visible","-webkit-backface-visibility":"visible",MozBackfaceVisibility:"visible","-ms-backface-visibility":"visible"}:{"backface-visibility":"hidden","-webkit-backface-visibility":"hidden",MozBackfaceVisibility:"hidden","-ms-backface-visibility":"hidden"}},clipCircle:function(t,i,e){return{"-webkit-clip-path":"circle("+t+"px,"+i+"px,"+e+"px)"}},getWidth:function(){return window.innerWidth},getHeight:function(){return window.innerHeight},getCenter:function(){return[.5*n.getWidth(),.5*n.getHeight()]},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1},isString:function(t){return"string"==typeof t||t instanceof String},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},extend:function(t,i){for(var e in i)t[e]=i[e];return t},getDevicePixelRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:1},supportsWebGL:function(){return/Android|Chrome|Mozilla/i.test(navigator.appCodeName)&&window.WebGLRenderingContext&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)?!0:!1},getSurfacePosition:function(t){function i(t){var s=o(t);if(""!==s&&void 0!==s){var n=e(s);r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}t.parentElement!==document.body&&i(t.parentNode)}function e(t){var i=[];t=s(t),i[0]=parseInt(t[12].replace(" ","")),i[1]=parseInt(t[13].replace(" ","")),i[2]=parseInt(t[14].replace(" ",""));for(var e=0;e<i.length;e++)"undefined"==typeof i[e]&&(i[e]=0);return i}function s(t){return t=t.replace("matrix3d(",""),t=t.replace(")",""),t.split(",")}function o(t){var i=t.style.webkitTransform||t.style.transform;return i}var n=t._currTarget,r=[0,0,0];return n?(i(n),r):void 0},getCenterMatrix:function(t,i,e){return void 0==e&&(e=0),o.translate(t[0]-.5*i[0],t[1]-.5*i[1],e)},debounce:function(t,i){var e,o,n,r,a;return function(){o=this,a=arguments,n=new Date;var u=function(){var h=new Date-n;i>h?e=s.setTimeout(u,i-h):(e=null,r=t.apply(o,a))};return e||(e=s.setTimeout(u,i)),r}},hasUserMedia:function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},getUserMedia:function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia},isWebkit:function(){return!!window.webkitURL},isAndroid:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("android")>-1},hasLocalStorage:function(){return!!window.localStorage}};e.exports=n}),define("app/views/Game",["require","exports","module","famous/Surface","famous-surfaces/ContainerSurface","famous/RenderNode","famous/Modifier","famous/Transform","famous-utils/Time","famous-physics/PhysicsEngine","famous-physics/forces/VectorField","app/Overlap","famous-physics/constraints/Wall","app/Bird","app/Cloud","app/Pipe","app/Floor","app/Score","app/GameSounds","app/widgets/BouncyPane","app/widgets/ButtonPane","app/widgets/SlideUpPane","famous-utils/Utils","app/Util","famous-transitions/Transitionable","famous-transitions/SpringTransition","famous/View"],function(t,i,e){function s(){X.apply(this,arguments),o.call(this),n.call(this)}function o(){this.visible=!0,this.started=!1,this.ended=!1,this.scorer=null,this.score=null,this.counters={pipe:0,cloud:0,floor:0},this.birdie=null,this.timers={clouds:null,pipes:null,floor:null,clean:null,counter:null},this.panes={welcome:null,gameOver:null,welcomeButtons:null,finalScore:null,gameOverButtons:null},this.node=new O,this.physicsEngine=new E({numConstraints:4}),this.birdie=new F(this.physicsEngine),this.pipes=[null,null,null],this.clouds=[null,null,null,null,null,null,null,null,null,null],this.floor=[null,null,null],this.surface=new x({size:this.options.boardSize,classes:["game"],properties:{border:"2px solid black",boxShadow:"0 0 20px rgba(0,0,0,0.5)"}}),this.modifier=new C({transform:P.translate(0,0,0),origin:[.5,0]}),this._add(this.modifier).add(this.surface),this.surface.add(this.physicsEngine),this.gravity=new z({name:z.FIELDS.CONSTANT,strength:this.options.gravityStrength}),d.call(this),this.surface.pipe(this._eventOutput),this.surface.on("keyup",p.bind(this)),q.isMobile()?this.surface.on("touchstart",p.bind(this)):this.surface.on("click",p.bind(this))}function n(){v.call(this),m.call(this)}function r(){this.started=!0,this.ended=!1,this.panes.welcome.hide(),this.panes.welcomeButtons.hide(),this.panes.ready.hide(),this.scorer=new D,this.scorer.attachToPhysics(this.physicsEngine),this.timers.pipes=M.setInterval(f.bind(this),1e3),this.physicsEngine.attach([this.gravity]);var t=new k({n:[0,-1,0],d:280,restitution:0});this.physicsEngine.attach(t,this.birdie.particle),t.on("collision",h.bind(this)),this.birdie.start()}function a(){this.physicsEngine=null,this.surface=null,this.node.object=null,o.call(this),n.call(this)}function u(){this.birdie.stop();for(var t=this.physicsEngine._particles.length-1,i=t;i>=0;i--)this.physicsEngine._particles[i].v.x=0}function h(){this.ended||(this.ended=!0,M.removeInterval(this.timers.pipes),M.removeInterval(this.timers.floor),M.removeInterval(this.timers.clouds),u.call(this),b.call(this),y.call(this))}function c(t){var i=t.target.node._child._child._object.content;this.score!=i&&(this.score=i,this.scorer.setScore(i),L.playSound(2,1))}function p(t){t.stopPropagation(),!this.ended&&this.started&&this.birdie.flap()}function l(){if(!this.ended){var t=this.clouds[this.counters.cloud];null==t?(t=new A(this,this.physicsEngine),this.clouds[this.counters.cloud]=t):t.restart(),this.counters.cloud=(this.counters.cloud+1)%this.clouds.length}}function f(){if(!this.ended){var t=this.pipes[this.counters.pipe%this.pipes.length];null==t?(t=new R(this,this.physicsEngine,{id:this.counters.pipe+1}),this.pipes[this.counters.pipe%this.pipes.length]=t):t.restart({id:this.counters.pipe+1});var i=new I;i.on("hit",h.bind(this)),this.physicsEngine.attach(i,t.particles,this.birdie.particle);var e=new I;e.on("hit",function(t){c.call(this,t)}.bind(this)),this.physicsEngine.attach(e,t.particles[0],this.scorer.particle),this.counters.pipe++}}function d(){if(!this.ended){var t=this.floor[this.counters.floor];if(null==t){var i={};0==this.counters.floor&&(i.initPos=0),t=new N(this,this.physicsEngine,i),this.floor[this.counters.floor]=t}else t.restart();this.counters.floor=(this.counters.floor+1)%this.floor.length}}function m(){this.timers.clouds=M.setInterval(l.bind(this),1e3),this.timers.floor=M.setInterval(d.bind(this),2500)}function v(){this.panes.welcome=new B(this.physicsEngine,{content:"<h1>Famous Bird</h1>",classes:["startup"]}),this.panes.welcome.show(),this.panes.welcomeButtons=new V(this.surface,{buttons:[{text:"START",callback:g.bind(this),offsetX:-120},{text:"SCORES",callback:w.bind(this),offsetX:120}]}),this.panes.welcomeButtons.show(),this.panes.welcome.pipe(this._eventOutput),this.panes.welcomeButtons.pipe(this._eventOutput)}function g(){this.panes.welcome.hide(),this.panes.welcomeButtons.hide(),this.panes.ready=new B(this.physicsEngine,{content:"<h1>Get Ready</h1><p></p>",classes:["getReady"]}),this.panes.ready.pipe(this._eventOutput),M.setTimeout(r.bind(this),2e3)}function y(){this.scorer.hide(),this.panes.gameOver=new B(this.physicsEngine,{content:"<h1>Game Over</h1>",classes:["gameOver"]}),this.panes.gameOver.show(),this.panes.gameOverButtons=new V(this.surface,{buttons:[{text:"OK",callback:a.bind(this),offsetX:-120},{text:"SHARE",callback:T.bind(this),offsetX:120}]}),this.panes.gameOver.pipe(this._eventOutput),this.panes.gameOverButtons.pipe(this._eventOutput),S.call(this,"<div class='currentScore'>SCORE</div><div class='highScore'>BEST</div><div class='medal'>MEDAL</div>"),M.setTimeout(function(){this.panes.gameOverButtons.show()}.bind(this),300)}function S(t){var i=new _({content:"<h1>0</h1>",size:[100,50],classes:["scorer"]}),e=new C({transform:P.translate(180,-60,50),origin:[.5,.5]}),s=new _({content:"<h1>999</h1>",size:[100,50],classes:["scorer"]}),o=new C({transform:P.translate(180,40,50),origin:[.5,.5]});this.panes.finalScore=new U(this.surface,{size:[500,250],content:t,classes:["finalScore"]}),this.panes.finalScore.surface.add(e).add(i),this.panes.finalScore.surface.add(o).add(s),this.panes.finalScore.show();var n=0;this.timers.counter=M.setInterval(function(){n++,n<=this.score?i.setContent("<h1>"+n+"</h1>"):M.removeInterval(this.timers.counter)}.bind(this),40)}function b(){L.playSound(2,1);var t=new _({size:this.options.boardSize,classes:["gameOverFlash"]}),i=new C({opacity:.001,origin:[.5,.5]});this._add(i).add(t),t.setClasses(["gameOverFlash","gameOverFlashActive"]),i.setOpacity(.75,{duration:50},function(){i.setOpacity(0,{duration:50}),t.setClasses(["gameOverFlash"]),i.setTransform(P.translate(0,0,-1))});var e={method:"spring",period:100,dampingRatio:.1};this.modifier.setTransform(P.translate(-10,-10,0)),this.modifier.setTransform(P.translate(0,0,0),e)}function w(){alert("Whoah! This agression will not stand man! This hasnt been implemented.")}function T(){alert("This is a private beta, no sharing for now.")}var _=t("famous/Surface"),x=t("famous-surfaces/ContainerSurface"),O=t("famous/RenderNode"),C=t("famous/Modifier"),P=t("famous/Transform"),M=t("famous-utils/Time"),E=t("famous-physics/PhysicsEngine"),z=t("famous-physics/forces/VectorField"),I=t("app/Overlap"),k=t("famous-physics/constraints/Wall"),F=t("app/Bird"),A=t("app/Cloud"),R=t("app/Pipe"),N=t("app/Floor"),D=t("app/Score"),L=t("app/GameSounds"),B=t("app/widgets/BouncyPane"),V=t("app/widgets/ButtonPane"),U=t("app/widgets/SlideUpPane"),q=t("famous-utils/Utils"),H=(t("app/Util"),t("famous-transitions/Transitionable")),j=t("famous-transitions/SpringTransition"),X=t("famous/View");H.registerMethod("spring",j),s.prototype=Object.create(X.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={gravityStrength:.002,boardSize:[640,960],pipeSpawnTime:1e3,cloudSpawnTime:1e3,gameVelocity:1},s.prototype.hide=function(){this.visible=!1},s.prototype.show=function(){this.visible=!0},s.prototype.render=function(){var t=[];return this.visible&&t.push({transform:this.modifier.getTransform(),target:this.surface.render(),origin:this.modifier.getOrigin(),opacity:this.modifier.getOpacity()}),t},e.exports=s}),define("famous-ui/buttons/SpringButton",["require","exports","module","famous-physics/PhysicsEngine","famous/View","famous-physics/forces/Spring","famous/Surface","famous-math/Vector","famous-utils/Utils"],function(t,i,e){function s(){a.apply(this,arguments),this._eventInput.pipe(this._eventOutput),this.PE=new r,this.available=!0,this.anchor=this.PE.createParticle({p:this.options.pos,v:this.options.vel,immunity:!0}),this.particle=this.PE.createParticle({p:this.options.pos,v:this.options.vel}),this.spring=new u({period:this.options.springPeriod,dampingRatio:this.options.springDampingRatio,length:this.options.springLength,anchor:this.options.pos,callback:n.bind(this)}),this.PE.attach(this.spring,this.particle),this.surface=new h({size:this.options.size,content:this.options.content,classes:this.options.classes,properties:this.options.properties}),this.surface.on("click",o.bind(this))}function o(){this._addForce(this.options.clickForce)}function n(){this.options.limitTouches&&(this.available=!0)}var r=t("famous-physics/PhysicsEngine"),a=t("famous/View"),u=t("famous-physics/forces/Spring"),h=t("famous/Surface"),c=(t("famous-math/Vector"),t("famous-utils/Utils"));s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:[200,200],pos:[0,0,0],vel:[0,0,0],springPeriod:200,springDampingRatio:.8,springLength:0,content:"",properties:{},classes:[],limitTouches:!1,forceMult:[10,10,10],callbackTolerance:1e-4,clickForce:[0,0,-.005]},s.prototype.setPeriod=function(t){this.spring.setPeriod(t)},s.prototype.setDamping=function(t){this.spring.setDampingRatio(t)},s.prototype.setCallbackTolerance=function(t){this.spring.opts.callbackTolerance=t},s.prototype._addForce=function(t){var i={x:0,y:0,z:0};c.isArray(t)?(i.x=t[0]*this.options.forceMult[0],i.y=t[1]*this.options.forceMult[1],i.z=t[2]*this.options.forceMult[2]):(i.x=t.x*this.options.forceMult[0],i.y=t.y*this.options.forceMult[1],i.z=t.z*this.options.forceMult[2]),this.options.limitTouches?this.available&&(this.particle.applyForce(i),this.available=!1,this.eventOutput.emit("click")):(this.particle.applyForce(i),this.eventOutput.emit("click"))},s.prototype.render=function(){return this.PE.step(),{opacity:1,transform:this.PE.getTransform(this.particle),target:this.surface.render()}},e.exports=s}),define("app/widgets/SlideShow",["require","exports","module","famous/Surface","famous/Modifier","famous/Transform","famous/View","app/Util","famous-utils/Time","famous-ui/buttons/SpringButton"],function(t,i,e){function s(){l.apply(this,arguments),o.call(this)}function o(){f.loadFragment("../fragments/SlideShowDef.js",{},function(t){this.slides=JSON.parse(t),this.options.autostart&&d.setTimeout(this.start.bind(this),this.options.startDelay)}.bind(this)),this.currentSlide=this.options.startAt||0,this.playing=!1,this.controls={restart:n.call(this,{xPos:-260,control:"restart"}),stop:n.call(this,{xPos:-130,control:"stop"}),play:n.call(this,{xPos:20,control:"pause"}),backward:n.call(this,{xPos:170,control:"backward"}),forward:n.call(this,{xPos:300,control:"forward"})},this.controls.restart.on("click",this.restart.bind(this)),this.controls.stop.on("click",this.stop.bind(this)),this.controls.play.on("click",this.playPause.bind(this)),this.controls.backward.on("click",this.back.bind(this)),this.controls.forward.on("click",this.forward.bind(this))}function n(t){var i=new m({content:"<div class='icon-slide-"+t.control+"'></div>",size:[80,80],pos:[t.xPos,this.options.controlsYOffset,1]});return this._add(new c({origin:[.5,.5]})).add(i),i}function r(t){for(var i=this.slides[t],e=0;e<this.slides.length;e++)e!=t&&this.slides[e].obj&&this.slides[e].obj.modifier.setOpacity(0,{duration:100});i.obj?a.call(this,t):f.loadFragment("../fragments/"+i.href,{},function(e){var s=new h({classes:["slide","slide_"+t],size:this.options.size,content:e}),o=new c({transform:p.translate(0,0,0),origin:this.options.origin,opacity:0});s.pipe(this.eventOutput),i.obj={surface:s,modifier:o},this._add(o).add(s),a.call(this,t)}.bind(this))}function a(t){var i=this.slides[t],e=i.obj.modifier;e.setOpacity(1,{duration:600});var s=this.isPlaying&&this.currentSlide<this.slides.length-1;s=s||this.currentSlide==this.slides.length-1&&this.options.loop,s&&(this.animationTimer&&d.removeTimeout(this.animationTimer),this.animationTimer=d.setTimeout(function(){u.call(this,t)}.bind(this),i.duration))}function u(){this.isPlaying&&(this.currentSlide=(this.currentSlide+1)%this.slides.length,r.call(this,this.currentSlide))}var h=t("famous/Surface"),c=t("famous/Modifier"),p=t("famous/Transform"),l=t("famous/View"),f=t("app/Util"),d=t("famous-utils/Time"),m=t("famous-ui/buttons/SpringButton");s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:[640,960],origin:[.5,0],loop:!1,autostart:!0,startDelay:1e3,controlsYOffset:400,controlOpacity:.3},s.prototype.restart=function(){this.currentSlide=0,this.start()},s.prototype.start=function(){this.isPlaying=!0,this.controls.play.surface.setContent(""),this.controls.play.surface.setClasses(["icon-slide-pause"]),r.call(this,this.currentSlide)},s.prototype.stop=function(){this.isPlaying=!1,this.controls.play.surface.setClasses(["icon-slide-play"])},s.prototype.playPause=function(){this.isPlaying?this.stop():this.start()},s.prototype.resume=function(){this.isPlaying=!0},s.prototype.forward=function(){this.stop();var t=(this.currentSlide+1)%this.slides.length;this.currentSlide=t,r.call(this,t)},s.prototype.back=function(){this.stop();var t=this.currentSlide-1>0?this.currentSlide-1:this.slides.length-1;this.currentSlide=t,r.call(this,t)},s.prototype.skipTo=function(t){r.call(this,t)},e.exports=s}),define("app/views/Main",["require","exports","module","famous/Surface","famous/Modifier","famous/Transform","famous/View","app/widgets/SlideShow"],function(t,i,e){function s(){h.apply(this,arguments);o.call(this),n.call(this)}function o(){this.surface=new r({size:[640,960],properties:{backgroundColor:"black",boxShadow:"0 0 20px rgba(0,0,0,0.5)"},classes:["main"]}),this.modifier=new a({transform:u.translate(0,0,0),size:[640,960],origin:[.5,0]}),this._add(this.modifier).add(this.surface),this.surface.pipe(this._eventOutput)}function n(){var t=new c({startAt:0});t.pipe(this._eventOutput);var i=new a({transform:u.translate(0,0,0),origin:[.5,.5]});this._add(i).add(t)}var r=t("famous/Surface"),a=t("famous/Modifier"),u=t("famous/Transform"),h=t("famous/View"),c=t("app/widgets/SlideShow");s.prototype=Object.create(h.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={},e.exports=s}),define("famous-sync/MouseSync",["require","exports","module","famous/EventHandler"],function(t,i,e){function s(t,i){this.targetGet=t,this.options={direction:void 0,rails:!1,scale:1,stallTime:50,propogate:!0},this.setOptions(i?i:this.options),this.input=new u,this.output=new u,u.setInputHandler(this,this.input),u.setOutputHandler(this,this.output),this._prevCoord=void 0,this._prevTime=void 0,this._prevVel=void 0,this.input.on("mousedown",o.bind(this)),this.input.on("mousemove",n.bind(this)),this.input.on("mouseup",r.bind(this)),this.options.propogate?this.input.on("mouseleave",a.bind(this)):this.input.on("mouseleave",r.bind(this))}function o(t){t.preventDefault(),this._prevCoord=[t.clientX,t.clientY],this._prevTime=Date.now(),this._prevVel=void 0!==this.options.direction?0:[0,0],this.output.emit("start")}function n(t){if(this._prevCoord){var i=this._prevCoord,e=this._prevTime,o=[t.clientX,t.clientY],n=Date.now(),r=o[0]-i[0],a=o[1]-i[1];this.options.rails&&(Math.abs(r)>Math.abs(a)?a=0:r=0);var u,h,c=Math.max(n-e,8),p=r/c,l=a/c,f=this.targetGet(),d=this.options.scale;this.options.direction==s.DIRECTION_X?(u=f+d*r,h=d*p):this.options.direction==s.DIRECTION_Y?(u=f+d*a,h=d*l):(u=[f[0]+d*r,f[1]+d*a],h=[d*p,d*l]),this.output.emit("update",{p:u,v:h}),this._prevCoord=o,this._prevTime=n,this._prevVel=h}}function r(){if(this._prevCoord){var t=this._prevTime,i=Date.now();i-t>this.options.stallTime&&(this._prevVel=void 0==this.options.direction?[0,0]:0);var e=this.targetGet();this.output.emit("end",{p:e,v:this._prevVel}),this._prevCoord=void 0,this._prevTime=void 0,this._prevVel=void 0}}function a(){if(this._prevCoord){var t=function(t){n.call(this,t)}.bind(this),i=function(e){r.call(this,e),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i)}.bind(this);document.addEventListener("mousemove",t),document.addEventListener("mouseup",i)}}var u=t("famous/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.direction&&(this.options.direction=t.direction),void 0!==t.rails&&(this.options.rails=t.rails),void 0!==t.scale&&(this.options.scale=t.scale),void 0!==t.stallTime&&(this.options.stallTime=t.stallTime),void 0!==t.propogate&&(this.options.propogate=t.propogate)},e.exports=s}),define("app/views/Resume",["require","exports","module","famous/Surface","famous/Modifier","famous/Transform","famous/View","famous-sync/GenericSync","famous-sync/MouseSync","famous-sync/TouchSync","famous-transitions/Transitionable","famous-utils/Time","app/views/Main","app/views/Game","app/views/Boring"],function(t,i,e){function s(){f.apply(this,arguments),this.cardIndex={main:2,game:1,boring:0},this.topCardPos=null,this.mainSync=new d(function(){return this.mainViewPos.get(0)}.bind(this),{direction:d.DIRECTION_X,syncClasses:[m,v]}),this.gameSync=new d(function(){return this.gameViewPos.get(0)}.bind(this),{direction:d.DIRECTION_X,syncClasses:[m,v]}),this.boringSync=new d(function(){return this.boringViewPos.get(0)}.bind(this),{direction:d.DIRECTION_X,syncClasses:[m,v]}),o.call(this),n.call(this),r.call(this),a.call(this)}function o(){this.mainViewPos=new g(0),this.mainViewPos.name="mainView",this.topCardPos=this.mainViewPos,this.mainView=new y,this.mainMod=new p({transform:l.translate(0,0,3)}),this._add(this.mainMod).add(this.mainView)}function n(){this.gameViewPos=new g(0),this.gameViewPos.name="gameView",this.gameView=new S,this.gameMod=new p({transform:l.translate(0,0,2)}),this._add(this.gameMod).add(this.gameView)}function r(){this.boringViewPos=new g(0),this.boringView=new b,this.boringMod=new p({transform:l.translate(0,0,1)}),this._add(this.boringMod).add(this.boringView)}function a(){this.mainView.pipe(this.mainSync),this.gameView.pipe(this.gameSync),this.boringView.pipe(this.boringSync),this.mainSync.on("update",u.bind(this)),this.mainSync.on("end",h.bind(this)),this.gameSync.on("update",u.bind(this)),this.gameSync.on("end",h.bind(this)),this.boringSync.on("update",u.bind(this)),this.boringSync.on("end",h.bind(this))}function u(t){Math.abs(t.p)>8&&this.topCardPos.set(t.p),2==this.cardIndex.main&&(this.cardIndex.boring=t.p>=0?1:0,this.cardIndex.game=t.p<0?1:0),2==this.cardIndex.game&&(this.cardIndex.main=t.p>=0?1:0,this.cardIndex.boring=t.p<0?1:0),2==this.cardIndex.boring&&(this.cardIndex.game=t.p>=0?1:0,this.cardIndex.main=t.p<0?1:0)}function h(t){var i=t.v,e=this.topCardPos.get();this.topCardPos.set(0),(Math.abs(e)>this.options.posThreshold||Math.abs(i)>this.options.velThreshold)&&this.shuffle()}function c(t){return 1/(Math.abs(t)/640+1)}var p=(t("famous/Surface"),t("famous/Modifier")),l=t("famous/Transform"),f=t("famous/View"),d=t("famous-sync/GenericSync"),m=t("famous-sync/MouseSync"),v=t("famous-sync/TouchSync"),g=t("famous-transitions/Transitionable"),y=(t("famous-utils/Time"),t("app/views/Main")),S=t("app/views/Game"),b=t("app/views/Boring");s.prototype=Object.create(f.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={posThreshold:200,velThreshold:.75},s.prototype.shuffle=function(){for(var t in this.cardIndex)this.cardIndex[t]=(this.cardIndex[t]+1)%3;2==this.cardIndex.main&&console.log("Main On TOp"),2==this.cardIndex.main&&(this.topCardPos=this.mainViewPos),2==this.cardIndex.game&&(this.topCardPos=this.gameViewPos),2==this.cardIndex.boring&&(this.topCardPos=this.boringViewPos)},s.prototype.render=function(){return this.spec=[],this.spec.push({transform:l.translate(this.gameViewPos.get(),0,1e3*this.cardIndex.game),opacity:c(this.gameViewPos.get()),target:this.gameView.render()}),this.spec.push({transform:l.translate(this.boringViewPos.get(),0,1e3*this.cardIndex.boring),opacity:c(this.boringViewPos.get()),target:this.boringView.render()}),this.spec.push({transform:l.translate(this.mainViewPos.get(),0,1e3*this.cardIndex.main),opacity:c(this.mainViewPos.get()),target:this.mainView.render()}),this.spec},e.exports=s}),define("famous/EventArbiter",["require","exports","module","./EventHandler"],function(t,i,e){function s(t){this.dispatchers={},this.currMode=void 0,this.setMode(t)}var o=t("./EventHandler");s.prototype.setMode=function(t){if(t!=this.currMode){var i=this.currMode;this.dispatchers[this.currMode]&&this.dispatchers[this.currMode].emit("unpipe"),this.currMode=t,this.dispatchers[t]&&this.dispatchers[t].emit("pipe"),this.emit("change",{from:i,to:t})}},s.prototype.forMode=function(t){return this.dispatchers[t]||(this.dispatchers[t]=new o),this.dispatchers[t]},s.prototype.emit=function(t,i){if(void 0==this.currMode)return!1;i||(i={});var e=this.dispatchers[this.currMode];return e?e.emit(t,i):void 0},e.exports=s}),define("famous/Scene",["require","exports","module","./Transform","./Modifier","./RenderNode"],function(t,i,e){function s(t){this.id=null,this._objects=null,this.node=new c,this._definition=null,t&&this.load(t)}function o(t){var i;if(t instanceof Array)i=n.call(this,t);else{var e=this._objects.length;if(t.render&&t.render instanceof Function)i=t;else if(t.target){var s=o.call(this,t.target),a=r.call(this,t);i=new c(a),i.add(s),t.id&&(this.id[t.id]=a)}else t.id&&(i=new c,this.id[t.id]=i)}return this._objects[e]=i,i}function n(t){for(var i=new c,e=0;e<t.length;e++){var s=o.call(this,t[e]);s&&i.add(s)}return i}function r(t){var i=t.transform,e=t.opacity,s=t.origin,o=t.size,n=(t.target,u.identity);if(i instanceof Array)if(16==i.length&&"number"==typeof i[0])n=i;else for(var r=0;r<i.length;r++)n=u.multiply(n,a(i[r]));else i instanceof Object&&(n=a(i));var c=new h({transform:n,opacity:e,origin:s,size:o});return c}function a(t){for(var i in p)if(i in t){var e=t[i];return e instanceof Array||(e=[e]),p[i].apply(this,e)}}var u=t("./Transform"),h=t("./Modifier"),c=t("./RenderNode");s.prototype.create=function(){return new s(this._definition)},s.prototype.load=function(t){this._definition=t,this.id={},this._objects=[],this.node.set(o.call(this,t))},s.prototype.add=function(){return this.node.add.apply(this.node,arguments)},s.prototype.render=function(){return this.node.render.apply(this.node,arguments)};var p={translate:u.translate,rotate:u.rotate,rotateX:u.rotateX,rotateY:u.rotateY,rotateZ:u.rotateZ,rotateAxis:u.rotateAxis,scale:u.scale,skew:u.skew,matrix3d:function(){return arguments}};e.exports=s}),define("famous-animation/Timer",["require","exports","module"],function(t,i,e){function s(){window.performance?window.performance.now?this.getTime=function(){return window.performance.now()}:window.performance.webkitNow&&(this.getTime=function(){return window.performance.webkitNow()}):this.getTime=function(){return Date.now()}}e.exports=s}),define("famous-animation/AnimationEngine",["require","exports","module","famous/Engine","./Timer","./Animation"],function(t,i,e){function s(){this.animations=[],this.timer=new n,o.on("prerender",this.update.bind(this))}{var o=t("famous/Engine"),n=t("./Timer");t("./Animation")}s.prototype.update=function(){for(var t=0;t<this.animations.length;t++)this.animations[t].tick()},s.prototype.render=function(){for(var t=[],i=0;i<this.animations.length;i++)this.animations[i].normalizedTime>0&&t.push(this.animations[i].render()),this.animations[i].isDead()&&this.animations.splice(this.animations.indexOf(this.animations[i]),1);return t},s.prototype.emit=function(t){"prerender"==t&&(this.update(),this.render())},s.prototype.addAnimation=function(t){-1==this.animations.indexOf(t)&&this.animations.push(t)},s.prototype.removeAnimation=function(t){t.setDead(!0)},s.prototype.getTime=function(){return this.timer.getTime()},e.exports=s}),define("famous-animation/Animation",["require","exports","module","famous-utils/Utils","famous-animation/AnimationEngine"],function(t,i,e){function s(t){return this.name=t.name||"base",this.dead=!1,this.engine=t.engine||new n,this.duration=t.duration||500,this.delay=t.delay||0,this.nextAnimations=[],void 0!==t.next&&(t.next instanceof Array?this.nextAnimations.concat(t.next):this.nextAnimations.push(t.next)),this.callback=t.callback||void 0,this.startTime=0,this.endTime=0,this.currentTime=0,this.normalizedTime=0,this.timePassed=0,this.halted=!1,this.playing=!1,this.activated=!1,this.activateCallback=t.activateCallback||void 0,this.deactivateCallback=t.deactivateCallback||void 0,this.loop=t.loop||!1,this.reverse=t.reverse||!1,this.reverseUponLoop=t.reverseUponLoop||!1,this
}var o=t("famous-utils/Utils"),n=t("famous-animation/AnimationEngine");s.prototype.setDead=function(t){return this.dead=t,this},s.prototype.isDead=function(){return this.dead},s.prototype.setup=function(){},s.prototype.update=function(){},s.prototype.render=function(){},s.prototype.isPlaying=function(){return this.playing},s.prototype.setDuration=function(t){return this.duration=t,this},s.prototype.setDelay=function(t){return this.delay=t,this},s.prototype.setCallback=function(t){return this.callback=t||void 0,this},s.prototype.setReverse=function(t){return this.reverse=t,this},s.prototype.toggleReverse=function(){return this.reverse=!this.reverse,this},s.prototype.setLoop=function(t){return this.loop=t,this},s.prototype.setReverseUponLoop=function(t){return this.reverseUponLoop=t,this},s.prototype.isHalted=function(){return this.halted},s.prototype.halt=function(){this.halted=!0,this.timePassed=this.engine.getTime()-this.startTime},s.prototype.continueAnimation=function(){this.halted=!1,this.startTime=this.engine.getTime()-this.timePassed,this.timePassed=0},s.prototype.activate=function(){},s.prototype.deactivate=function(){},s.prototype.start=function(){this.engine.addAnimation(this),this.setDead(!1),this.halted=!1,this.playing=!0,this.startTime=this.engine.getTime()+this.delay-this.timePassed,this.endTime=this.startTime+this.duration,this.normalizedTime=0},s.prototype.tick=function(){if(this.playing&&!this.halted){if(this.currentTime=this.engine.getTime()-this.startTime,this.normalizedTime=this.currentTime/this.duration,this.normalizedTime>1)return this.normalizedTime=o.clamp(this.normalizedTime,0,1),this.reverse&&(this.normalizedTime=1-this.normalizedTime),this.update(),void this.end();this.normalizedTime>1e-6&&(this.activated||(this.activate(),void 0!==this.activateCallback&&this.activateCallback(),this.activated=!0),this.reverse&&(this.normalizedTime=1-this.normalizedTime),this.update())}},s.prototype.getTime=function(){return this.normalizedTime},s.prototype.end=function(){if(this.activated=!1,this.playing=!1,this.deactivate(),void 0!==this.deactivateCallback&&this.deactivateCallback(),this.engine.removeAnimation(this),this.reverseUponLoop&&this.toggleReverse(),this.loop)this.start();else for(var t=0;t<this.nextAnimations.length;t++)this.nextAnimations[t].start();void 0!==this.callback&&this.callback()},s.prototype.setNext=function(t){t instanceof Array?this.nextAnimations=this.nextAnimations.concat(this.nextAnimations,t):this.nextAnimations.push(t)},s.prototype.setName=function(t){this.name=t},s.prototype.getName=function(){return this.name},s.prototype.setActivateCallback=function(t){this.activateCallback=t},s.prototype.setDeactivateCallback=function(t){this.deactivateCallback=t},e.exports=s}),define("famous-animation/CubicBezier",["require","exports","module"],function(t,i,e){function s(t){var i=[[1,0,0,0],[0,0,1,0],[-3,3,-2,-1],[2,-2,1,1]];t=t||[0,1,0,0],this.coef=[0,0,0,0];for(var e=0;4>e;e++)for(var s=0;4>s;s++)this.coef[e]+=i[e][s]*t[s]}s.prototype.create=function(){var t=this;return function(i){i=i||0;var e=t.coef;return e[0]+e[1]*i+e[2]*i*i+e[3]*i*i*i}},e.exports=s}),define("famous-animation/Easing",["require","exports","module"],function(t,i,e){var s={linear:function(t,i,e,s){return t*(e/s)+i},linearNorm:function(t){return t},inQuad:function(t,i,e,s){return e*(t/=s)*t+i},inQuadNorm:function(t){return t*t},outQuad:function(t,i,e,s){return-e*(t/=s)*(t-2)+i},outQuadNorm:function(t){return-(t-=1)*t+1},inOutQuad:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t+i:-e/2*(--t*(t-2)-1)+i},inOutQuadNorm:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t,i,e,s){return e*(t/=s)*t*t+i},inCubicNorm:function(t){return t*t*t},outCubic:function(t,i,e,s){return e*((t=t/s-1)*t*t+1)+i},outCubicNorm:function(t){return--t*t*t+1},inOutCubic:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t+i:e/2*((t-=2)*t*t+2)+i},inOutCubicNorm:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t,i,e,s){return e*(t/=s)*t*t*t+i},inQuartNorm:function(t){return t*t*t*t},outQuart:function(t,i,e,s){return-e*((t=t/s-1)*t*t*t-1)+i},outQuartNorm:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t*t+i:-e/2*((t-=2)*t*t*t-2)+i},inOutQuartNorm:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t,i,e,s){return e*(t/=s)*t*t*t*t+i},inQuintNorm:function(t){return t*t*t*t*t},outQuint:function(t,i,e,s){return e*((t=t/s-1)*t*t*t*t+1)+i},outQuintNorm:function(t){return--t*t*t*t*t+1},inOutQuint:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t*t*t+i:e/2*((t-=2)*t*t*t*t+2)+i},inOutQuintNorm:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t,i,e,s){return-e*Math.cos(t/s*(Math.PI/2))+e+i},inSineNorm:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t,i,e,s){return e*Math.sin(t/s*(Math.PI/2))+i},outSineNorm:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t,i,e,s){return-e/2*(Math.cos(Math.PI*t/s)-1)+i},inOutSineNorm:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t,i,e,s){return 0==t?i:e*Math.pow(2,10*(t/s-1))+i},inExpoNorm:function(t){return 0==t?0:Math.pow(2,10*(t-1))},outExpo:function(t,i,e,s){return t==s?i+e:e*(-Math.pow(2,-10*t/s)+1)+i},outExpoNorm:function(t){return 1==t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t,i,e,s){return 0==t?i:t==s?i+e:(t/=s/2)<1?e/2*Math.pow(2,10*(t-1))+i:e/2*(-Math.pow(2,-10*--t)+2)+i},inOutExpoNorm:function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t,i,e,s){return-e*(Math.sqrt(1-(t/=s)*t)-1)+i},inCircNorm:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t,i,e,s){return e*Math.sqrt(1-(t=t/s-1)*t)+i},outCircNorm:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t,i,e,s){return(t/=s/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+i:e/2*(Math.sqrt(1-(t-=2)*t)+1)+i},inOutCircNorm:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t,i,e,s){var o=1.70158,n=0,r=e;if(0==t)return i;if(1==(t/=s))return i+e;if(n||(n=.3*s),r<Math.abs(e)){r=e;var o=n/4}else var o=n/(2*Math.PI)*Math.asin(e/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*s-o)*Math.PI/n))+i},inElasticNorm:function(t){var i=1.70158,e=0,s=1;return 0==t?0:1==t?1:(e||(e=.3),i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e)))},outElastic:function(t,i,e,s){var o=1.70158,n=0,r=e;if(0==t)return i;if(1==(t/=s))return i+e;if(n||(n=.3*s),r<Math.abs(e)){r=e;var o=n/4}else var o=n/(2*Math.PI)*Math.asin(e/r);return r*Math.pow(2,-10*t)*Math.sin(2*(t*s-o)*Math.PI/n)+e+i},outElasticNorm:function(t){var i=1.70158,e=0,s=1;return 0==t?0:1==t?1:(e||(e=.3),i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(t-i)*Math.PI/e)+1)},inOutElastic:function(t,i,e,s){var o=1.70158,n=0,r=e;if(0==t)return i;if(2==(t/=s/2))return i+e;if(n||(n=.3*s*1.5),r<Math.abs(e)){r=e;var o=n/4}else var o=n/(2*Math.PI)*Math.asin(e/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*s-o)*Math.PI/n)+i:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*s-o)*Math.PI/n)*.5+e+i},inOutElasticNorm:function(t){var i=1.70158,e=0,s=1;return 0==t?0:2==(t/=.5)?1:(e||(e=.3*1.5),i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e)*.5+1)},inBack:function(t,i,e,s,o){return void 0==o&&(o=1.70158),e*(t/=s)*t*((o+1)*t-o)+i},inBackNorm:function(t,i){return void 0==i&&(i=1.70158),t*t*((i+1)*t-i)},outBack:function(t,i,e,s,o){return void 0==o&&(o=1.70158),e*((t=t/s-1)*t*((o+1)*t+o)+1)+i},outBackNorm:function(t,i){return void 0==i&&(i=1.70158),--t*t*((i+1)*t+i)+1},inOutBack:function(t,i,e,s,o){return void 0==o&&(o=1.70158),(t/=s/2)<1?e/2*t*t*(((o*=1.525)+1)*t-o)+i:e/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+i},inOutBackNorm:function(t,i){return void 0==i&&(i=1.70158),(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},inBounce:function(t,i,e,o){return e-s.outBounce(o-t,0,e,o)+i},inBounceNorm:function(t){return 1-s.outBounceNorm(1-t)},outBounce:function(t,i,e,s){return(t/=s)<1/2.75?7.5625*e*t*t+i:2/2.75>t?e*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?e*(7.5625*(t-=2.25/2.75)*t+.9375)+i:e*(7.5625*(t-=2.625/2.75)*t+.984375)+i},outBounceNorm:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t,i,e,o){return o/2>t?.5*s.inBounce(2*t,0,e,o)+i:.5*s.outBounce(2*t-o,0,e,o)+.5*e+i},inOutBounceNorm:function(t){return.5>t?.5*s.inBounceNorm(2*t):.5*s.outBounceNorm(2*t-1)+.5}};e.exports=s}),define("famous-animation/Idle",["require","exports","module"],function(t,i,e){function s(t,i){this.idleFn=t,this.timeout=i,this.enabled=i>0,this.reset()}s.prototype.timeoutIn=function(t){this.lastTouchTime=(new Date).getTime()-this.timeout+t},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.setIdleFunction=function(t){this.idleFn=t},s.prototype.update=function(){if(!this.idling&&this.enabled&&this.idleFn){var t=(new Date).getTime();t-this.lastTouchTime>this.timeout&&(this.idling=!0,this.idleFn.call(this))}},s.prototype.isIdling=function(){return this.idling},s.prototype.reset=function(){this.lastTouchTime=(new Date).getTime(),this.idling=!1},s.prototype.emit=function(){this.reset()},e.exports=s}),define("famous-animation/LayoutEngine",["require","exports","module","famous/Engine","famous-utils/Utils"],function(t,i,e){function s(){c.on("resize",p.debounce(r.bind(this),400)),this.layouts=[],this.screenSize,n.call(this)}function o(t){return this.layouts.indexOf(t)}function n(){this.screenSize=[window.innerWidth,window.innerHeight]}function r(){n.call(this);for(var t=0;t<this.layouts.length;t++)a.call(this,t)}function a(t){var i=this.layouts[t],e=u.call(this,i);e&&h.call(this,e)}function u(t){var i,e,s=[];for(var o in t)t[o].minWidth<this.screenSize[0]&&t[o].maxWidth>this.screenSize[0]&&s.push(o);if(0==s.length)return void console.warn("No possible layout");for(var n=0;n<s.length;n++)if(i){var r=t[s[n]];r.maxWidth>i&&(e=s[n],i=r.maxWidth)}else i=t[s[n]].maxWidth,e=s[n];return t[e]}function h(t){for(var i=t.layouts,e=0;e<i.length;e++){var s=i[e];if(s.transform&&(s.matrix&&s.transform.setTransform(s.matrix,s.transition,s.transformCallback),s.origin&&s.transform.setOrigin(s.origin,s.originTransition,s.originCallback),s.opacity&&s.transform.setOpacity(s.opacity,s.opacityTransition,s.opacityCallback),s.size&&s.transform.setSize(s.size,s.sizeTransition,s.sizeCallback)),s.fns)if(p.isArray(s.fns))for(var e=0;e<s.fns.length;e++)s.fns[e]();else s.fns()}}var c=t("famous/Engine"),p=t("famous-utils/Utils");s.prototype.add=function(t){this.layouts.push(t)},s.prototype.remove=function(t){var i=o(t);-1!==i&&this.layouts.splice(1,i)},s.prototype.triggerLayout=function(t){if(t){var i=o.call(this,t);-1!==i&&a.call(this,i)}else r.call(this)},s.prototype.getScreenSize=function(){return this.screenSize};var l=new s;e.exports=l}),define("famous-animation/PiecewiseCubicBezier",["require","exports","module","./CubicBezier"],function(t,i,e){function s(t){t=t||{},this.split=t.split||.5;var i=t.overshoot||0,e=t.vLeft||[0,1+i,0,0],s=t.vRight||[1+i,1,0,0];this.bezLeft=new o(e).create(),this.bezRight=new o(s).create()}var o=t("./CubicBezier");s.prototype.create=function(){var t=this;return function(i){i=i||0;var e,s=t.split;return s>i?(e=i/s,t.bezLeft(e)):(e=(i-s)/(1-s),t.bezRight(e))}},e.exports=s}),define("famous-animation/RegisterEasing",["require","exports","module","./Easing","famous-transitions/TweenTransition"],function(t){function i(){for(var t=/norm/gi,i=e(o).filter(function(i){return t.test(i)}).sort(),s={},n=0;n<i.length;n++)s[i[n]]=o[i[n]];return s}function e(t){var i=[];for(key in t)t.hasOwnProperty(key)&&i.push(key);return i}function s(){var t=i();for(var e in t)n.registerCurve(e,t[e])}var o=t("./Easing"),n=t("famous-transitions/TweenTransition");s()}),define("famous-animation/Sequence",["require","exports","module"],function(t,i,e){function s(){this.startTime=0,this.setupPos=0,this.schedule=[],this.seqLoc=-1}s.prototype._execute=function(t){for(this.seqLoc<0&&(this.seqLoc=0);this.seqLoc<this.schedule.length&&this.schedule[this.seqLoc].pos<=t;)this.schedule[this.seqLoc].action.call(this),this.seqLoc++},s.prototype.update=function(){if(!(this.seqLoc<0||this.seqLoc>=this.schedule.length)){var t=(new Date).getTime()-this.startTime;this._execute(t)}},s.prototype.at=function(t,i){this.schedule.push({pos:t,action:i}),this.setupPos=t},s.prototype.after=function(t,i){this.at(this.setupPos+t,i)},s.prototype.play=function(t){this.schedule.sort(function(t,i){return t.pos-i.pos}),this.startTime=(new Date).getTime();for(var i=0;i<this.schedule.length&&this.schedule[i].pos<t;)i++;this.seqLoc=i},s.prototype.fastForward=function(t){"undefined"==typeof t&&(t=1/0),this._execute(t)},s.prototype.stop=function(){this.seqLoc=-1},e.exports=s}),define("famous-color/Color",["require","exports","module","famous-utils/Utils"],function(t,i,e){function s(t,i,e,o){t instanceof s?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.hex=t.getHex()):"string"==typeof t?"#"==t[0]?this.setFromHex(t):this.setFromRGBAString(t):(this.r="undefined"==typeof t?255:t,this.g="undefined"==typeof i?255:i,this.b="undefined"==typeof e?255:e,this.a="undefined"==typeof o?1:o,this.hex=this.getHex())}function o(t,i,e){return 0>e&&(e+=1),e>1&&(e-=1),1/6>e?t+6*(i-t)*e:.5>e?i:2/3>e?t+(i-t)*(2/3-e)*6:t}var n=t("famous-utils/Utils");s.prototype.getHue=function(){var t=this.r/255,i=this.g/255,e=this.b/255,s=Math.max(t,i,e),o=Math.min(t,i,e),n=0,r=s-o;switch(s){case t:n=(i-e)/r+(e>i?6:0);break;case i:n=(e-t)/r+2;break;case e:n=(t-i)/r+4}return n*=60,isNaN(n)&&(n=0),n},s.prototype.getSaturation=function(){var t,i=this.r/255,e=this.g/255,s=this.b/255,o=Math.max(i,e,s),n=Math.min(i,e,s),r=(o+n)/2;if(o==n)h=t=0;else{var a=o-n;switch(t=r>.5?a/(2-o-n):a/(o+n),o){case i:h=(e-s)/a+(s>e?6:0);break;case e:h=(s-i)/a+2;break;case s:h=(i-e)/a+4}h*=60}return 100*t},s.prototype.getBrightness=function(){var t=this.r/255,i=this.g/255,e=this.b/255;return 100*Math.max(t,i,e)},s.prototype.getLightness=function(){var t=this.r/255,i=this.g/255,e=this.b/255;return(Math.max(t,i,e)+Math.min(t,i,e))/2*100},s.prototype.getHex=function(){function t(t){var i=t.toString(16);return 1===i.length?"0"+i:i}return"#"+t(this.r)+t(this.g)+t(this.b)},s.prototype.getHSL=function(){var t,i,e=this.r/255,s=this.g/255,o=this.b/255,n=Math.max(e,s,o),r=Math.min(e,s,o),a=(n+r)/2;if(n==r)t=i=0;else{var u=n-r;switch(i=a>.5?u/(2-n-r):u/(n+r),n){case e:t=(s-o)/u+(o>s?6:0);break;case s:t=(o-e)/u+2;break;case o:t=(e-s)/u+4}t*=60}return[t,100*i,100*a]},s.prototype.setFromHSL=function(t,i,e){t/=360,i/=100,e/=100;var s,n,r;if(0===i)s=n=r=e;else{var a=.5>e?e*(1+i):e+i-e*i,u=2*e-a;s=o(u,a,t+1/3),n=o(u,a,t),r=o(u,a,t-1/3)}return this.r=Math.round(255*s),this.g=Math.round(255*n),this.b=Math.round(255*r),this.hex=this.getHex(),this},s.prototype.setFromHex=function(t){return t="#"===t.charAt(0)?t.substring(1,t.length):t,3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),this.hex="#"+t,this.r=parseInt(t.substring(0,2),16),this.g=parseInt(t.substring(2,4),16),this.b=parseInt(t.substring(4,6),16),void 0==this.a&&(this.a=1),this},s.prototype.setFromRGBA=function(t,i,e,s){return this.r=t,this.g=i,this.b=e,s&&(this.a=s),this.hex=this.getHex(),this},s.prototype.setHue=function(t){var i=this.getHSL();return this.setFromHSL(t,i[1],i[2])},s.prototype.setSaturation=function(t){var i=this.getHSL();return this.setFromHSL(i[0],t,i[2])},s.prototype.setLightness=function(t){var i=this.getHSL();return this.setFromHSL(i[0],i[1],t)},s.prototype.getCSSBackgroundColor=function(){return n.backgroundColor(this.r,this.b,this.g,this.a)},s.prototype.getCSSColor=function(){return n.color(this.r,this.g,this.b,this.a)},s.prototype.get=function(){return this.getCSSColor()},s.prototype.setFromRGBAString=function(t){var i=t.match(/\(([^()]+)\)/g);if(i){i=i[0],i=i.substring(1,i.length-1);for(var e=i.split(","),s=0;s<e.length;s++)e[s]=parseFloat(e[s]);return this.setFromRGBA(e[0],e[1],e[2],e[3])}},s.prototype.clone=function(){return new s(this.r,this.g,this.b,this.a)},s.prototype.toNormalizeColorArray=function(){return[this.r/255,this.g/255,this.b/255,this.a]},s.prototype.lerp=function(t,i){var e=this.getHSL(),o=t.getHSL(),n=e[0]+(o[0]-e[0])*i,r=e[1]+(o[1]-e[1])*i,a=e[2]+(o[2]-e[2])*i,u=new s;return u.setFromHSL(n,r,a),u},e.exports=s}),define("famous-color/ColorPalette",["require","exports","module","./Color"],function(t,i,e){function s(t){this.colors=t}t("./Color");s.prototype.getColor=function(t){return this.colors[t%this.colors.length]},s.prototype.getCSS=function(t){return this.getColor(t).getCSSColor()},s.prototype.getLighestColor=function(){for(var t,i=0,e=0;e<this.colors.length;e++){var s=this.colors[e].getLightness();s>i&&(t=this.colors[e],i=s)}return t},s.prototype.getDarkestColor=function(){for(var t,i=100,e=0;e<this.colors.length;e++){var s=this.colors[e].getLightness();i>s&&(t=this.colors[e],i=s)}return t},s.prototype.getCount=function(){return this.colors.length},e.exports=s}),define("famous-color/ColorPalettes",["require","exports","module","./Color","./ColorPalette"],function(t,i,e){function s(){}function o(t){return new r(t[0],t[1],t[2],t[3])}function n(t){for(var i=[],e=0,s=t.length;s>e;e++)i.push(o(t[e]));return new a(i)}var r=t("./Color"),a=t("./ColorPalette"),u=[[[53,92,125,1],[108,91,123,1],[192,108,132,1],[246,114,128,1],[248,177,149,1]],[[27,21,33,1],[181,172,1,1],[212,30,69,1],[232,110,28,1],[236,186,9,1]],[[63,54,42,1],[231,69,13,1],[250,157,4,1],[251,222,3,1],[254,245,150,1]],[[10,103,137,1],[10,153,111,1],[207,6,56,1],[250,102,50,1],[254,205,35,1]],[[157,85,105,1],[192,227,217,1],[202,55,99,1],[227,237,195,1],[235,113,84,1]],[[110,110,110,1],[145,217,255,1],[237,255,135,1],[255,133,167,1],[255,255,255,1]],[[0,0,0,1],[25,26,36,1],[51,44,44,1],[250,101,87,1],[255,255,255,1]],[[27,103,107,1],[81,149,72,1],[136,196,37,1],[190,242,2,1],[234,253,230,1]],[[31,11,12,1],[48,5,17,1],[179,84,79,1],[214,195,150,1],[231,252,207,1]],[[172,248,248,1],[223,235,24,1],[230,95,95,1],[235,54,24,1],[235,207,24,1]],[[196,182,109,1],[213,39,5,1],[240,211,119,1],[243,232,228,1],[247,109,60,1]],[[11,72,107,1],[59,134,134,1],[121,189,154,1],[168,219,168,1],[207,240,158,1]],[[0,188,209,1],[118,211,222,1],[174,232,251,1],[176,248,255,1],[254,249,240,1]],[[85,73,57,1],[112,108,77,1],[241,230,143,1],[255,100,100,1],[255,151,111,1]],[[36,244,161,1],[178,42,58,1],[199,244,36,1],[244,36,182,1],[249,246,49,1]],[[108,144,134,1],[169,204,24,1],[207,73,108,1],[235,234,188,1],[252,84,99,1]],[[78,79,75,1],[130,35,57,1],[247,62,62,1],[255,119,61,1],[255,213,115,1]],[[121,28,49,1],[145,213,152,1],[191,178,64,1],[202,51,68,1],[237,126,80,1]],[[104,73,83,1],[127,191,151,1],[182,219,145,1],[250,107,41,1],[253,158,41,1]],[[0,203,231,1],[0,218,60,1],[223,21,26,1],[244,243,40,1],[253,134,3,1]],[[56,222,231,1],[232,255,0,1],[254,62,71,1],[255,130,0,1]],[[27,32,38,1],[75,89,107,1],[153,228,255,1],[247,79,79,1],[255,59,59,1]],[[0,0,0,1],[0,173,239,1],[236,0,140,1],[255,242,0,1]],[[47,43,173,1],[173,43,173,1],[228,38,146,1],[247,21,104,1],[247,219,21,1]],[[101,150,158,1],[171,20,44,1],[189,219,222,1],[205,212,108,1],[219,217,210,1]],[[97,24,36,1],[193,47,42,1],[247,255,238,1],[254,222,123,1],[255,101,64,1]],[[118,85,66,1],[124,231,163,1],[220,93,110,1],[255,174,60,1],[255,229,156,1]],[[63,184,175,1],[127,199,175,1],[218,216,167,1],[255,61,127,1],[255,158,157,1]],[[217,251,223,1],[219,255,210,1],[231,254,235,1],[234,255,210,1],[243,255,210,1]],[[0,23,42,1],[27,139,163,1],[94,202,214,1],[178,222,249,1],[206,254,255,1]],[[225,245,196,1],[237,229,116,1],[249,212,35,1],[252,145,58,1],[255,78,80,1]],[[7,9,61,1],[11,16,140,1],[12,15,102,1],[14,78,173,1],[16,127,201,1]],[[5,177,240,1],[5,232,240,1],[94,87,230,1],[230,87,149,1],[255,5,113,1]],[[48,0,24,1],[90,61,49,1],[131,123,71,1],[173,184,95,1],[229,237,184,1]],[[111,191,162,1],[191,184,174,1],[242,199,119,1],[242,230,194,1],[255,255,255,1]],[[22,147,165,1],[69,181,196,1],[126,206,202,1],[160,222,214,1],[199,237,232,1]],[[8,26,48,1],[50,64,90,1],[59,100,128,1],[155,153,130,1],[255,134,17,1]],[[74,186,176,1],[152,33,0,1],[255,211,0,1],[255,245,158,1]],[[42,135,50,1],[49,48,66,1],[107,85,48,1],[255,109,36,1],[255,235,107,1]],[[0,0,0,1],[25,134,219,1],[105,172,224,1],[149,199,24,1],[184,212,40,1]],[[64,0,20,1],[127,0,40,1],[191,0,59,1],[229,0,71,1],[255,0,79,1]],[[56,69,59,1],[78,133,136,1],[255,70,84,1],[255,213,106,1],[255,254,211,1]],[[29,44,143,1],[57,179,162,1],[209,146,191,1],[222,75,107,1],[252,180,121,1]],[[14,36,48,1],[232,213,183,1],[232,213,185,1],[245,179,73,1],[252,58,81,1]],[[0,210,255,1],[222,255,0,1],[255,0,168,1],[255,66,0,1]],[[21,99,105,1],[51,53,84,1],[169,186,181,1],[216,69,148,1],[236,196,89,1]],[[105,210,231,1],[167,219,216,1],[224,228,204,1],[243,134,48,1],[250,105,0,1]],[[122,106,83,1],[148,140,117,1],[153,178,183,1],[213,222,217,1],[217,206,178,1]],[[34,104,136,1],[57,142,182,1],[255,162,0,1],[255,214,0,1],[255,245,0,1]],[[2,100,117,1],[194,163,79,1],[251,184,41,1],[254,251,175,1],[255,229,69,1]],[[214,37,77,1],[246,215,107,1],[253,235,169,1],[255,84,117,1],[255,144,54,1]],[[0,0,0,1],[124,180,144,1],[211,25,0,1],[255,102,0,1],[255,242,175,1]],[[35,116,222,1],[38,38,38,1],[87,54,255,1],[231,255,54,1],[255,54,111,1]],[[64,18,44,1],[89,186,169,1],[101,98,115,1],[216,241,113,1],[252,255,217,1]],[[126,148,158,1],[174,194,171,1],[235,206,160,1],[252,119,101,1],[255,51,95,1]],[[75,73,11,1],[117,116,73,1],[226,223,154,1],[235,229,77,1],[255,0,81,1]],[[159,112,69,1],[183,98,5,1],[208,167,124,1],[253,169,43,1],[254,238,171,1]],[[38,37,28,1],[160,232,183,1],[235,10,68,1],[242,100,61,1],[242,167,61,1]],[[0,0,0,1],[67,110,217,1],[120,0,0,1],[216,216,216,1],[240,24,0,1]],[[51,51,51,1],[131,163,0,1],[158,12,57,1],[226,27,90,1],[251,255,227,1]],[[79,156,52,1],[108,186,85,1],[125,210,89,1],[158,228,70,1],[187,255,133,1]],[[0,44,43,1],[7,100,97,1],[10,131,127,1],[255,61,0,1],[255,188,17,1]],[[149,207,183,1],[240,65,85,1],[242,242,111,1],[255,130,58,1],[255,247,189,1]],[[89,168,15,1],[158,213,76,1],[196,237,104,1],[226,255,158,1],[240,242,221,1]],[[54,42,44,1],[189,223,38,1],[237,38,105,1],[238,189,97,1],[252,84,99,1]],[[11,246,147,1],[38,137,233,1],[233,26,157,1],[246,182,11,1],[246,242,11,1]],[[8,0,9,1],[65,242,221,1],[207,242,65,1],[249,44,130,1],[252,241,30,1]],[[198,164,154,1],[198,229,217,1],[214,129,137,1],[233,78,119,1],[244,234,213,1]],[[6,71,128,1],[8,84,199,1],[160,194,222,1],[205,239,255,1],[237,237,244,1]],[[93,66,63,1],[124,87,83,1],[238,128,117,1],[255,177,169,1],[255,233,231,1]],[[59,129,131,1],[237,48,60,1],[245,99,74,1],[250,208,137,1],[255,156,91,1]],[[56,166,155,1],[104,191,101,1],[204,217,106,1],[242,88,53,1],[242,218,94,1]],[[60,197,234,1],[70,70,70,1],[233,234,60,1],[246,246,246,1]],[[97,99,130,1],[102,36,91,1],[105,165,164,1],[168,196,162,1],[229,234,164,1]],[[10,191,188,1],[19,116,125,1],[41,34,31,1],[252,53,76,1],[252,247,197,1]],[[7,0,4,1],[236,67,8,1],[252,129,10,1],[255,172,35,1],[255,251,214,1]],[[0,5,1,1],[8,138,19,1],[237,20,9,1],[240,249,241,1],[247,249,21,1]],[[64,197,132,1],[131,218,232,1],[170,46,154,1],[251,35,137,1],[251,132,137,1]],[[64,47,58,1],[217,119,119,1],[255,198,158,1],[255,219,196,1]],[[243,96,49,1],[249,236,95,1],[255,102,0,1],[255,153,0,1],[255,204,0,1]],[[33,90,109,1],[45,45,41,1],[60,162,162,1],[146,199,163,1],[223,236,230,1]],[[10,42,63,1],[101,147,160,1],[185,204,184,1],[219,21,34,1],[255,239,167,1]],[[0,160,176,1],[106,74,60,1],[204,51,63,1],[235,104,65,1],[237,201,81,1]],[[14,141,148,1],[67,77,83,1],[114,173,117,1],[233,213,88,1],[255,171,7,1]],[[94,159,163,1],[176,85,116,1],[220,209,180,1],[248,126,123,1],[250,184,127,1]],[[31,31,31,1],[122,91,62,1],[205,189,174,1],[250,75,0,1],[250,250,250,1]],[[176,230,41,1],[180,35,16,1],[247,207,10,1],[250,124,7,1],[252,231,13,1]],[[94,65,47,1],[120,192,168,1],[240,120,24,1],[240,168,48,1],[252,235,182,1]],[[31,26,28,1],[98,128,125,1],[134,158,138,1],[201,107,30,1],[209,205,178,1]],[[40,60,0,1],[100,153,125,1],[237,143,69,1],[241,169,48,1],[254,204,109,1]],[[37,2,15,1],[143,143,143,1],[158,30,76,1],[236,236,236,1],[255,17,104,1]],[[207,108,116,1],[244,93,120,1],[255,112,136,1],[255,130,153,1],[255,187,193,1]],[[0,0,0,1],[12,13,5,1],[168,171,132,1],[198,201,157,1],[231,235,176,1]],[[0,170,255,1],[170,0,255,1],[170,255,0,1],[255,0,170,1],[255,170,0,1]],[[78,150,137,1],[126,208,214,1],[135,214,155,1],[195,255,104,1],[244,252,232,1]],[[10,10,10,1],[227,246,255,1],[255,20,87,1],[255,216,125,1]],[[51,51,153,1],[102,153,204,1],[153,204,255,1],[255,0,51,1],[255,204,0,1]],[[23,22,92,1],[190,191,158,1],[216,210,153,1],[229,228,218,1],[245,224,56,1]],[[49,99,64,1],[96,158,77,1],[159,252,88,1],[195,252,88,1],[242,252,88,1]],[[92,88,99,1],[168,81,99,1],[180,222,193,1],[207,255,221,1],[255,31,76,1]],[[61,67,7,1],[161,253,17,1],[225,244,56,1],[244,251,196,1],[255,208,79,1]],[[0,205,172,1],[2,170,176,1],[22,147,165,1],[127,255,36,1],[195,255,104,1]],[[0,203,231,1],[0,218,60,1],[223,21,26,1],[244,243,40,1],[253,134,3,1]],[[34,104,136,1],[57,142,182,1],[255,162,0,1],[255,214,0,1],[255,245,0,1]],[[3,13,79,1],[206,236,239,1],[231,237,234,1],[251,12,6,1],[255,197,44,1]],[[253,255,0,1],[255,0,0,1],[255,90,0,1],[255,114,0,1],[255,167,0,1]],[[108,66,18,1],[179,0,176,1],[183,255,55,1],[255,124,69,1],[255,234,155,1]],[[0,4,49,1],[59,69,58,1],[90,224,151,1],[204,46,9,1],[255,253,202,1]],[[59,45,56,1],[188,189,172,1],[207,190,39,1],[240,36,117,1],[242,116,53,1]],[[101,145,155,1],[120,185,168,1],[168,212,148,1],[242,177,73,1],[244,229,97,1]],[[0,193,118,1],[136,193,0,1],[250,190,40,1],[255,0,60,1],[255,138,0,1]],[[110,37,63,1],[165,199,185,1],[199,94,106,1],[241,245,244,1],[251,236,236,1]],[[39,112,140,1],[111,191,162,1],[190,191,149,1],[227,208,116,1],[255,180,115,1]],[[62,72,76,1],[82,91,96,1],[105,158,81,1],[131,178,107,1],[242,232,97,1]],[[248,135,46,1],[252,88,12,1],[252,107,10,1],[253,202,73,1],[255,169,39,1]],[[83,119,122,1],[84,36,55,1],[192,41,66,1],[217,91,67,1],[236,208,120,1]],[[41,136,140,1],[54,19,0,1],[162,121,15,1],[188,53,33,1],[255,208,130,1]],[[10,186,181,1],[58,203,199,1],[106,219,216,1],[153,236,234,1],[201,252,251,1]],[[8,158,42,1],[9,42,100,1],[90,204,191,1],[229,4,4,1],[251,235,175,1]],[[187,187,136,1],[204,198,141,1],[238,170,136,1],[238,194,144,1],[238,221,153,1]],[[121,219,204,1],[134,78,65,1],[234,169,167,1],[242,199,196,1],[248,245,226,1]],[[96,136,213,1],[114,170,222,1],[157,200,233,1],[192,222,245,1],[217,239,244,1]],[[30,30,30,1],[177,255,0,1],[209,210,212,1],[242,240,240,1]],[[255,102,0,1],[255,153,0,1],[255,204,0,1],[255,255,204,1],[255,255,255,1]],[[35,15,43,1],[130,179,174,1],[188,227,197,1],[235,235,188,1],[242,29,65,1]],[[212,238,94,1],[225,237,185,1],[240,242,235,1],[244,250,210,1],[255,66,66,1]],[[20,32,71,1],[168,95,59,1],[247,92,92,1],[255,255,255,1]],[[63,184,240,1],[80,208,240,1],[196,251,93,1],[224,240,240,1],[236,255,224,1]],[[185,222,81,1],[209,227,137,1],[224,72,145,1],[225,183,237,1],[245,225,226,1]],[[185,222,81,1],[209,227,137,1],[224,72,145,1],[225,183,237,1],[245,225,226,1]],[[17,68,34,1],[51,170,170,1],[51,221,51,1],[221,238,68,1],[221,238,187,1]],[[46,13,35,1],[245,72,40,1],[247,128,60,1],[248,228,193,1],[255,237,191,1]],[[204,243,144,1],[224,224,90,1],[247,196,31,1],[252,147,10,1],[255,0,61,1]],[[18,18,18,1],[255,89,56,1],[255,255,255,1]],[[53,38,48,1],[85,72,101,1],[205,91,81,1],[233,223,204,1],[243,163,107,1]],[[236,250,1,1],[236,250,2,1],[247,220,2,1],[248,227,113,1],[250,173,9,1]],[[77,129,121,1],[161,129,121,1],[236,85,101,1],[249,220,159,1],[254,157,93,1]],[[4,0,4,1],[65,61,61,1],[75,0,15,1],[200,255,0,1],[250,2,60,1]],[[66,50,56,1],[179,112,45,1],[200,209,151,1],[235,33,56,1],[245,222,140,1]],[[143,153,36,1],[172,201,95,1],[241,57,109,1],[243,255,235,1],[253,96,129,1]],[[18,18,18,1],[23,122,135,1],[250,245,240,1],[255,180,143,1]],[[67,197,210,1],[182,108,97,1],[241,155,140,1],[254,247,237,1],[255,234,215,1]],[[78,205,196,1],[85,98,112,1],[196,77,88,1],[199,244,100,1],[255,107,107,1]],[[0,0,0,1],[137,161,160,1],[154,227,226,1],[255,71,103,1],[255,118,5,1]],[[248,200,221,1],[253,231,120,1],[255,61,61,1],[255,92,143,1],[255,103,65,1]],[[23,138,132,1],[145,145,145,1],[229,255,125,1],[235,143,172,1],[255,255,255,1]],[[73,112,138,1],[136,171,194,1],[202,255,66,1],[208,224,235,1],[235,247,248,1]],[[51,222,245,1],[122,245,51,1],[245,51,145,1],[245,161,52,1],[248,248,101,1]],[[57,13,45,1],[172,222,178,1],[225,234,181,1],[237,173,158,1],[254,75,116,1]],[[192,107,129,1],[233,22,67,1],[245,175,145,1],[247,201,182,1],[249,210,182,1]],[[131,196,192,1],[156,100,53,1],[190,215,62,1],[237,66,98,1],[240,233,226,1]],[[136,145,136,1],[191,218,223,1],[207,246,247,1],[233,26,82,1],[237,242,210,1]],[[64,44,56,1],[209,212,169,1],[227,164,129,1],[245,215,165,1],[255,111,121,1]],[[93,65,87,1],[131,134,137,1],[168,202,186,1],[202,215,178,1],[235,227,170,1]],[[0,168,198,1],[64,192,203,1],[143,190,0,1],[174,226,57,1],[249,242,231,1]],[[0,204,190,1],[9,166,163,1],[157,191,175,1],[237,235,201,1],[252,249,216,1]],[[0,205,172,1],[2,170,176,1],[22,147,165,1],[127,255,36,1],[195,255,104,1]],[[51,39,23,1],[107,172,191,1],[157,188,188,1],[240,240,175,1],[255,55,15,1]],[[51,51,53,1],[101,99,106,1],[139,135,149,1],[193,190,200,1],[233,232,238,1]],[[17,118,109,1],[65,9,54,1],[164,11,84,1],[228,111,10,1],[240,179,0,1]],[[73,10,61,1],[138,155,15,1],[189,21,80,1],[233,127,2,1],[248,202,0,1]],[[71,162,145,1],[144,79,135,1],[213,28,122,1],[219,213,139,1],[244,127,143,1]],[[55,191,230,1],[169,232,250,1],[186,255,21,1],[211,255,106,1],[247,239,236,1]],[[69,173,168,1],[84,121,128,1],[89,79,79,1],[157,224,173,1],[229,252,194,1]],[[248,241,224,1],[249,246,241,1],[250,244,227,1],[251,106,79,1],[255,193,150,1]],[[0,98,125,1],[1,64,87,1],[51,50,49,1],[66,153,15,1],[255,255,255,1]],[[52,17,57,1],[53,150,104,1],[60,50,81,1],[168,212,111,1],[255,237,144,1]],[[0,153,137,1],[163,169,72,1],[206,24,54,1],[237,185,46,1],[248,89,49,1]],[[26,31,30,1],[108,189,181,1],[147,204,198,1],[200,214,191,1],[227,223,186,1]],[[165,222,190,1],[183,234,201,1],[251,178,163,1],[252,37,55,1],[255,215,183,1]],[[26,20,14,1],[90,142,161,1],[204,65,65,1],[255,255,255,1]],[[51,51,51,1],[111,111,111,1],[204,204,204,1],[255,100,0,1],[255,255,255,1]],[[51,145,148,1],[167,2,103,1],[241,12,73,1],[246,216,107,1],[251,107,65,1]],[[31,3,51,1],[31,57,77,1],[39,130,92,1],[112,179,112,1],[171,204,120,1]],[[209,242,165,1],[239,250,180,1],[245,105,145,1],[255,159,128,1],[255,196,140,1]],[[60,54,79,1],[109,124,157,1],[124,144,179,1],[149,181,194,1],[185,224,220,1]],[[35,179,218,1],[153,214,241,1],[168,153,241,1],[208,89,218,1],[248,78,150,1]],[[85,66,54,1],[96,185,154,1],[211,206,61,1],[241,239,165,1],[247,120,37,1]],[[20,20,20,1],[177,198,204,1],[255,239,94,1],[255,255,255,1]],[[136,238,208,1],[202,224,129,1],[239,67,53,1],[242,205,79,1],[246,139,54,1]],[[53,38,29,1],[95,79,69,1],[151,123,105,1],[206,173,142,1],[253,115,26,1]],[[68,66,89,1],[159,189,166,1],[219,101,68,1],[240,145,67,1],[252,177,71,1]],[[191,208,0,1],[196,60,39,1],[233,60,31,1],[242,83,58,1],[242,240,235,1]],[[43,43,43,1],[53,54,52,1],[230,50,75,1],[242,227,198,1],[255,198,165,1]],[[23,20,38,1],[26,15,12,1],[207,207,207,1],[240,240,240,1],[255,77,148,1]],[[28,1,19,1],[107,1,3,1],[163,0,6,1],[194,26,1,1],[240,60,2,1]],[[10,10,10,1],[140,97,70,1],[214,179,156,1],[242,76,61,1],[255,255,255,1]],[[46,13,35,1],[245,72,40,1],[247,128,60,1],[248,228,193,1],[255,237,191,1]],[[0,62,95,1],[0,67,132,1],[22,147,165,1],[150,207,234,1],[247,249,114,1]],[[66,29,56,1],[87,0,69,1],[190,226,232,1],[205,255,24,1],[255,8,90,1]],[[47,59,97,1],[121,128,146,1],[187,235,185,1],[233,236,229,1],[255,103,89,1]],[[58,17,28,1],[87,73,81,1],[131,152,142,1],[188,222,165,1],[230,249,188,1]],[[147,193,196,1],[198,182,204,1],[242,202,174,1],[250,12,195,1],[255,123,15,1]],[[255,3,149,1],[255,9,3,1],[255,139,3,1],[255,216,3,1],[255,251,3,1]],[[4,0,4,1],[254,26,138,1],[254,53,26,1],[254,143,26,1],[254,240,26,1]],[[125,173,154,1],[196,199,169,1],[249,213,177,1],[254,126,142,1],[255,62,97,1]],[[69,38,50,1],[145,32,77,1],[226,247,206,1],[228,132,74,1],[232,191,86,1]],[[0,0,0,1],[38,173,228,1],[77,188,233,1],[209,231,81,1],[255,255,255,1]],[[44,87,133,1],[209,19,47,1],[235,241,247,1],[237,214,130,1]],[[92,172,196,1],[140,209,157,1],[206,232,121,1],[252,182,83,1],[255,82,84,1]],[[58,68,8,1],[74,88,7,1],[125,146,22,1],[157,222,13,1],[199,237,14,1]],[[22,147,167,1],[200,207,2,1],[204,12,57,1],[230,120,30,1],[248,252,193,1]],[[59,12,44,1],[210,255,31,1],[250,244,224,1],[255,106,0,1],[255,195,0,1]],[[44,13,26,1],[52,158,151,1],[200,206,19,1],[222,26,114,1],[248,245,193,1]],[[28,20,13,1],[203,232,107,1],[242,233,225,1],[255,255,255,1]],[[75,88,191,1],[161,206,247,1],[247,255,133,1],[255,54,134,1]],[[74,95,103,1],[92,55,75,1],[204,55,71,1],[209,92,87,1],[217,212,168,1]]];
s.prototype.getPalette=function(t){return n(u[Math.floor(t)])},s.prototype.getCount=function(){return u.length},s.prototype.getRandomPalette=function(){var t=Math.floor(u.length*Math.random());return this.getPalette(t)};var h=new s;e.exports=h}),define("famous-math/Random",["require","exports","module"],function(t,i,e){function s(t,i){return t+Math.random()*(i-t)}function o(t,i){return Math.floor(t+Math.random()*(i-t+1))}e.exports={integer:function(t,i,e){if(t=void 0!==t?t:0,i=void 0!==i?i:1,void 0!==e){for(var s=[],n=0;e>n;n++)s.push(o(t,i));return s}return o(t,i)},range:function(t,i,e){if(t=void 0!==t?t:0,i=void 0!==i?i:1,void 0!==e){for(var o=[],n=0;e>n;n++)o.push(s(t,i));return o}return s(t,i)},sign:function(t){return t=void 0!==t?t:.5,Math.random()<t?1:-1},bool:function(t){return t=void 0!==t?t:.5,Math.random()<t}}}),define("famous-modifiers/Camera",["require","exports","module","famous-transitions/Transitionable","famous/Transform","famous-utilities/Utility"],function(t,i,e){function s(t){this._renderTransform=r.identity,this._scaleState=new n([1,1,1]),this._skewState=new n([0,0,0]),this._rotateState=new n([0,0,0]),this._translateState=new n([0,0,0]),this._dirty=!1,t&&this.lookAt(t)}function o(){var t=r.scale.apply(this,this._scaleState.get()),i=r.skew.apply(this,this._skewState.get()),e=r.rotate.apply(this,this._rotateState.get()),s=r.move(r.multiply(t,i,e),this._translateState.get());return r.inverse(s)}var n=t("famous-transitions/Transitionable"),r=t("famous/Transform"),a=t("famous-utilities/Utility");s.prototype.halt=function(){this._scaleState.halt(),this._skewState.halt(),this._rotateState.halt(),this._translateState.halt()},s.prototype.getScale=function(){return this._scaleState.get()},s.prototype.setScale=function(t,i,e){return this._dirty=!0,this._scaleState.set(t,i,e)},s.prototype.getSkew=function(){return this._skewState.get()},s.prototype.setSkew=function(t,i,e){return this._dirty=!0,this._skewState.set(t,i,e)},s.prototype.getRotation=function(){return this._rotateState.get()},s.prototype.setRotation=function(t,i,e){return this._dirty=!0,this._rotateState.set(t,i,e)},s.prototype.getSpin=s.prototype.getRotation,s.prototype.setSpin=s.prototype.setRotation,s.prototype.getPos=function(){return this._translateState.get()},s.prototype.setPos=function(t,i,e){return this._dirty=!0,this._translateState.set(t,i,e)},s.prototype.lookAt=function(t,i,e){var s=void 0;e&&(s=a.after(4,e)),this.halt();var o=r.interpret(t);this.setScale(o.scale,i,s),this.setSkew(o.skew,i,s),this.setRotation(o.rotate,i,s),this.setPos(o.translate,i,s)},s.prototype.modify=function(t){return this._dirty|=this._scaleState.isActive()||this._skewState.isActive()||this._rotateState.isActive()||this._translateState.isActive(),this._dirty&&(this._renderTransform=o.call(this),this._dirty=!1),{transform:this._renderTransform,group:!0,target:t}},e.exports=s}),define("famous-modifiers/Draggable",["require","exports","module","famous/Transform","famous-sync/MouseSync","famous-sync/TouchSync","famous-sync/GenericSync","famous-transitions/Transitionable","famous/EventHandler"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._positionState=new d([0,0]),this._differential=[0,0],this._active=!0,this.sync=new f(function(){return this._differential}.bind(this),{scale:this.options.scale,syncClasses:[p,l]}),this.eventOutput=new m,m.setInputHandler(this,this.sync),m.setOutputHandler(this,this.eventOutput),u.call(this)}function o(t,i){return Math.min(Math.max(t,i[0]),i[1])}function n(){this._active&&(this._positionState.isActive()&&this._positionState.halt(),this.eventOutput.emit("dragstart",{p:this.getPosition()}))}function r(t){if(this._active){this._differential=t.p;var i=h.call(this,this._differential);this._differential[0]-=i[0],this._differential[1]-=i[1];var e=this.getPosition();if(e[0]+=i[0],e[1]+=i[1],this.options.xRange){var s=this.options.xRange;e[0]=o(e[0],s)}if(this.options.yRange){var n=this.options.yRange;e[1]=o(e[1],n)}this.eventOutput.emit("dragmove",{p:e})}}function a(){this._active&&this.eventOutput.emit("dragend",{p:this.getPosition()})}function u(){this.sync.on("start",n.bind(this)),this.sync.on("update",r.bind(this)),this.sync.on("end",a.bind(this))}function h(t){var i=this.options,e=i.projection,s=i.snapX,o=i.snapY,n=e&v.x?t[0]:0,r=e&v.y?t[1]:0;return s>0&&(n-=n%s),o>0&&(r-=r%o),[n,r]}var c=t("famous/Transform"),p=t("famous-sync/MouseSync"),l=t("famous-sync/TouchSync"),f=t("famous-sync/GenericSync"),d=t("famous-transitions/Transitionable"),m=t("famous/EventHandler"),v={x:1,y:2};s.DEFAULT_OPTIONS={projection:v.x|v.y,scale:1,xRange:[-1/0,1/0],yRange:[-1/0,1/0],snapX:0,snapY:0,transition:{duration:0}},s.prototype.setOptions=function(t){var i=this.options;if(void 0!==t.projection){var e=t.projection;this.options.projection=0,["x","y"].forEach(function(t){-1!=e.indexOf(t)&&(i.projection|=v[t])})}void 0!==t.scale&&(i.scale=t.scale),void 0!==t.xRange&&(i.xRange=t.xRange),void 0!==t.yRange&&(i.yRange=t.yRange),void 0!==t.snapX&&(i.snapX=t.snapX),void 0!==t.snapY&&(i.snapY=t.snapY)},s.prototype.getPosition=function(){return this._positionState.get()},s.prototype.setRelativePosition=function(t,i,e){var s=this.getPosition(),o=[s[0]+t[0],s[1]+t[1]];this.setPosition(o,i,e)},s.prototype.setPosition=function(t,i,e){this._positionState.isActive()&&this._positionState.halt(),this._positionState.set(t,i,e)},s.prototype.activate=function(){this._active=!0},s.prototype.deactivate=function(){this._active=!1},s.prototype.toggle=function(){this._active=!this._active},s.prototype.modify=function(t){var i=this.getPosition();return{transform:c.translate(i[0],i[1]),target:t}},e.exports=s}),define("famous-modifiers/Lift",["require","exports","module","famous/Entity","famous/Modifier","famous/Transform","famous/SpecParser"],function(t,i,e){function s(){this._entityID=r.register(this),this.transition=void 0,this.targets=[],this.modifiers=[],this.states=[],this.updates=[]}function o(t,i,e,s,o){t.setTransform(i.transform),t.setOpacity(i.opacity),t.setOrigin(i.origin),t.setSize(i.size),t.setTransform(e.transform,s,o),t.setOpacity(e.opacity,s),t.setOrigin(e.origin,s),t.setSize(e.size,s)}function n(t,i){var e=u.parse(t);for(var s in e){var a=r.get(s),c=e[s];c.unshift(i);var p=this.targets.indexOf(a);if(-1!=p){var l=this.modifiers[p],f=this.states[p];if(this.updates[p]){var d={transform:c[1],opacity:c[2],origin:c[3],size:c[4]},m=this.upperSpec;f==h.ACTIVE?o(l,d,m,this.transition,this.callback):o(l,m,d,this.transition,function(t){this.states.splice(t,1),this.targets.splice(t,1),this.modifiers.splice(t,1),this.updates.splice(t,1),this.callback&&this.callback()}.bind(this,p)),this.updates[p]=!1}c[1]=l.getTransform()}var v=a.commit.apply(a,c);v&&n.call(this,v,i)}}var r=t("famous/Entity"),a=t("famous/Modifier"),u=(t("famous/Transform"),t("famous/SpecParser")),h={ACTIVE:1,RESET:0};s.prototype.select=function(t,i,e){var s=this.targets.indexOf(t);-1==s&&(this.transition=i,this.callback=e,this.targets.push(t),this.modifiers.push(new a),this.states.push(h.ACTIVE),this.transition=i,this.updates.push(!0))},s.prototype.deselect=function(t,i,e){var s=this.targets.indexOf(t);-1!=s&&(this.transition=i,this.callback=e,this.states[s]=h.RESET,this.updates[s]=!0)},s.prototype.commit=function(t,i,e,s,o){this.upperSpec={transform:i,opacity:e,origin:s,size:o,target:this.input},n.call(this,this.upperSpec,t)},s.prototype.modify=function(t){return this.input=t,this._entityID},e.exports=s}),define("famous-modifiers/ModifierChain",["require","exports","module"],function(t,i,e){function s(){this._chain=[],arguments.length&&this.add.apply(this,arguments)}s.prototype.addModifier=function(){Array.prototype.push.apply(this._chain,arguments)},s.prototype.removeModifier=function(t){var i=this._chain.indexOf(t);0>i||this._chain.splice(i,1)},s.prototype.modify=function(t){for(var i=this._chain,e=t,s=0;s<i.length;s++)e=i[s].modify(e);return e},e.exports=s}),define("famous-performance/ProfilerMetric",["require","exports","module"],function(t,i,e){function s(t,i){this.bufferSize=t||30,this.calculateStatistics=!1,this.val=0,this.min=0,this.max=0,this.std=0,this.id=i,this._index=0,this._startTime=0,this._stopped=!0,this._startCalls=0,this._isCollecting=!1,this.accumulator=new Array(this.bufferSize),this.dumpster=[];for(var e=0;e<this.bufferSize;e++)this.accumulator[e]=0}function o(t){return Math.max.apply(Math,t)}function n(t){return Math.min.apply(Math,t)}function r(t){for(var i=t.length,e=0,s=0;i>s;s++)e+=t[s];return e/i}function a(t,i){var e,s=0,o=t.length;void 0===i&&(i=r(t));for(var n=0;o>n;n++)e=t[n]-i,s+=e*e;return Math.sqrt(s/o)}var u=window.performance?function(){return window.performance.now()}:function(){return Date.now()};s.prototype.start=function(){this._startCalls++,this._stopped?(this._startTime=u(),this._stopped=!1):(this.stop(),this.start())},s.prototype.stop=function(){this._stopped=!0;var t=u()-this._startTime;1==this._startCalls?this.insert(t):this.addInPlace(t)},s.prototype.aggregate=function(){var t=this.accumulator;this.val=r(t),this._isCollecting&&this.dumpster.push(this.val),this.calculateStatistics&&(this.min=n(t),this.max=o(t),this.std=a(t,this.val))},s.prototype.insert=function(t){this._index===this.bufferSize&&(this.aggregate(),this._index=0),this.accumulator[this._index]=t,this._index++},s.prototype.addInPlace=function(t){this.accumulator[this._index-1]+=t},s.prototype.setBufferSize=function(t){this.bufferSize=t,this.accumulator=new Array(t);for(var i=0;t>i;i++)this.accumulator[i]=0;this._index=0},s.prototype.reset=function(){this._startCalls=0},s.prototype.startRecording=function(){this._isCollecting=!0},s.prototype.stopRecording=function(){this._isCollecting=!1},s.prototype.toggleRecording=function(){this._isCollecting=!this._isCollecting},s.prototype.isRecording=function(){return this._isCollecting},s.prototype.dump=function(){console.log(this.id+":",this.dumpster),this.dumpster=[]},e.exports=s}),define("famous-performance/Profiler",["require","exports","module","famous-performance/ProfilerMetric","famous/EventHandler"],function(t,i,e){function s(t){var i=new o(r,t);return h.metrics[t]=i,i}var o=t("famous-performance/ProfilerMetric"),n=t("famous/EventHandler"),r=20,a=new n,u={FPS:"FPS",FAMOUS:"Famous"},h={};h.metrics={},h.start=function(t){var i=void 0===h.metrics[t]?s(t):h.metrics[t];i.start()},h.stop=function(t){h.metrics[t].stop()},h.setBufferSize=function(t){r=t;var i=h.metrics;for(var e in i)i[e].setBufferSize(t)},h.getBufferSize=function(){return r},h.emit=function(t,i){a.emit(t,i)},a.on("prerender",function(){h.start(u.FPS),h.start(u.FAMOUS)}),a.on("postrender",function(){h.stop(u.FAMOUS);var t=h.metrics;for(var i in t)t[i].reset()}),e.exports=h}),define("famous-performance/ProfilerMetricView",["require","exports","module","famous/Surface","famous/Transform"],function(t,i,e){function s(t,i){this.opts={size:[100,20],label:"",map:function(t){return.06*t}},i&&this.setOpts(i),this.metric=t,this.createView(),this.textPadding=4,this.textOpacity=1}var o=t("famous/Surface"),n=t("famous/Transform");s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.createView=function(){var t=new o({size:this.opts.size,properties:{background:"#3cf"}}),i=new o({size:this.opts.size,properties:{background:"#36f"}}),e=new o({size:[!0,!0],content:this.opts.label.toString(),properties:{color:"white",textShadow:"0px 0px 2px black",lineHeight:this.opts.size[1]+"px",cursor:"pointer"}});e.on("click",function(){this.metric.isRecording()?(this.metric.dump(),this.textOpacity=1):this.textOpacity=.5,this.metric.toggleRecording()}.bind(this)),this.boundingSurface=i,this.metricSurface=t,this.textSurface=e},s.prototype.render=function(){var t=this.metric.val,i=void 0!==t?this.opts.map(t):0;return[{size:this.opts.size,target:[{target:this.boundingSurface.render(),transform:n.translate(0,0,-1e-4)},{target:this.metricSurface.render(),transform:n.scale(i,1,1)}]},{target:this.textSurface.render(),transform:n.translate(this.opts.size[0]+this.textPadding,0),opacity:this.textOpacity}]},e.exports=s}),define("famous-performance/ProfilerView",["require","exports","module","famous-performance/ProfilerMetricView","famous-performance/Profiler","famous/RenderNode","famous/Modifier","famous/Transform"],function(t,i,e){function s(){var t,i=0;for(var e in h){t="FPS"===e.toUpperCase()?function(t){return 1e3/(60*t)}:function(t){return t/f.max};var s=new o(h[e],{size:f.size,label:e,map:t}),n=new a(u.translate(0,i));c.add(n).add(s),i+=f.size[1]+f.margin}}var o=t("famous-performance/ProfilerMetricView"),n=t("famous-performance/Profiler"),r=t("famous/RenderNode"),a=t("famous/Modifier"),u=t("famous/Transform"),h=n.metrics,c=new r,p=0,l={},f={max:1e3/60,size:[150,20],margin:1};l.setMax=function(t){f.max=t},l.setSize=function(t){f.size=t},l.render=function(){return p>2?c.render():(2==p&&s(),void(2>=p&&p++))},e.exports=l}),define("famous-physics/constraints/Collision",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector","famous/EventHandler"],function(t,i,e){function s(t){this.opts={restitution:.5},t&&this.setOpts(t),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this.n=new n,this.vRel=new n,this.I=new n,this.disp=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector"),r=t("famous/EventHandler");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i){if(void 0!==i)for(var e=i.p,s=i.r,o=i.v,n=this.n,r=this.I,a=this.vRel,u=this.disp,h=this.opts.restitution,c=0;c<t.length;c++){var p=t[c];if(i!=p){var l=p.p,f=p.r,d=i.mInv;u.set(e.sub(l));var m=u.norm(),v=s+f-m;if(v>0){n.set(u.normalize());var g={target:p,source:i,overlap:v,normal:n};this.eventOutput.emit("preCollision",g),this.eventOutput.emit("collision",g);var y=p.v,S=p.mInv;a.set(o.sub(y)),r.set(n.mult((1+h)*a.dot(n)/(d+S))),i.setVel(o.sub(r.mult(d))),i.setPos(e.add(n.mult(v/2))),p.setVel(y.add(r.mult(S))),p.setPos(l.add(n.mult(-v/2))),this.eventOutput.emit("postCollision",g)}}}},e.exports=s}),define("famous-physics/constraints/CollisionJacobian",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector","famous/EventHandler"],function(t,i,e){function s(t){this.opts={k:.5,restitution:.5},t&&this.setOpts(t),this.eventOutput=new r,r.setOutputHandler(this,this.eventOutput),this.n=new n,this.pDiff=new n,this.vDiff=new n,this.impulse1=new n,this.impulse2=new n,this.slop=0}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector"),r=t("famous/EventHandler");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i,e){if(void 0!==i)for(var s=i.v,o=i.p,n=i.mInv,r=i.r,a=this.opts.k,u=this.n,h=this.pDiff,c=this.vDiff,p=this.impulse1,l=this.impulse2,f=i.restitution,d=0;d<t.length;d++){var m=t[d];if(m!=i){var v=m.v,g=m.p,y=m.mInv,S=m.r,b=m.restitution,w=void 0!==this.opts.restitution?this.opts.restitution:Math.sqrt(f*b);h.set(g.sub(o)),c.set(v.sub(s));var T=h.norm(),_=T-(r+S),x=1/(n+y),O=0;if(0>_){u.set(h.normalize());var C={target:m,source:i,overlap:_,normal:u};this.eventOutput.emit("preCollision",C),this.eventOutput.emit("collision",C);var P=_<=this.slop?((1+w)*u.dot(c)+a/e*(_-this.slop))/(O+e/x):(1+w)*u.dot(c)/(O+e/x);u.mult(e*P).put(p),p.mult(-1).put(l),i.applyImpulse(p),m.applyImpulse(l),this.eventOutput.emit("postCollision",C)}}}},e.exports=s}),define("famous-physics/constraints/Curve",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector"],function(t,i,e){function s(t){this.opts={f:function(t,i){return 100*Math.sin(t/100)-i},df:void 0,g:function(t,i,e){return e},dg:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.J=new n,this.impulse=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i,e){for(var s=this.impulse,o=this.J,n=this.opts.f,r=this.opts.f,a=this.opts.df,u=this.opts.dg,h=0,c=0;c<t.length;c++){var p=t[c],l=p.v,f=p.p,d=p.m;if(0==this.opts.period)var m=0,v=1;else var g=4*d*Math.PI*this.opts.dampingRatio/this.opts.period,y=4*d*Math.PI*Math.PI/(this.opts.period*this.opts.period),m=1/(g+e*y),v=e*y/(g+e*y);if(void 0===a){var S=1e-7,b=n(f.x,f.y,f.z),w=(n(f.x+S,f.y,f.z)-b)/S,T=(n(f.x,f.y+S,f.z)-b)/S,_=(n(f.x,f.y,f.z+S)-b)/S,x=r(f.x,f.y,f.z),O=(r(f.x+S,f.y,f.z)-x)/S,C=(r(f.x,f.y+S,f.z)-x)/S,P=(r(f.x,f.y,f.z+S)-x)/S;o.setXYZ(w+O,T+C,_+P)}else{var M=a(f.x,f.y,f.z),E=u(f.x,f.y,f.z);o.setXYZ(M[0]+E[0],M[1]+E[1],M[2]+E[2])}var z=v/e*(n(f.x,f.y,f.z)+r(f.x,f.y,f.z)),I=-(o.dot(l)+z)/(m+e*o.normSquared()/d);s.set(o.mult(e*I)),p.applyImpulse(s),h+=Math.abs(I)}return h},s.prototype.setupSlider=function(t,i){i=i||t.opts.name,t.setOpts({value:this.opts[i]}),t.init(),t.on("change",function(t){this.opts[i]=t.value}.bind(this))},e.exports=s}),define("famous-physics/constraints/Distance",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector"],function(t,i,e){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.impulse=new n,this.n=new n,this.diffP=new n,this.diffV=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof n&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor))),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.opts.period=t.period)},s.prototype.setAnchor=function(t){void 0===this.opts.anchor&&(this.opts.anchor=new n),this.opts.anchor.set(t)},s.prototype.applyConstraint=function(t,i,e){var s=this.n,o=this.diffP,n=this.diffV,r=this.impulse;if(i)var a=i.p,u=i.mInv,h=i.v;else var a=this.opts.anchor,u=0;for(var c=this.opts.length,p=0,l=0;l<t.length;l++){var f=t[l],d=f.v,m=f.p,v=f.mInv;o.set(m.sub(a)),s.set(o.normalize());var g=o.norm()-c;n.set(i?d.sub(h):d);var y=1/(v+u);if(0==this.opts.period)var S=0,b=1;else var w=4*y*Math.PI*this.opts.dampingRatio/this.opts.period,T=4*y*Math.PI*Math.PI/(this.opts.period*this.opts.period),S=1/(w+e*T),b=e*T/(w+e*T);var _=b/e*g,x=-(s.dot(n)+_)/(S+e/y);r.set(s.mult(e*x)),f.applyImpulse(r),i&&i.applyImpulse(r.mult(-1)),p+=Math.abs(x)}return p},e.exports=s}),define("famous-physics/constraints/Distance1D",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector"],function(t,i,e){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.impulse=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i,e){var s,o,n=this.impulse;if(i)var r=i.p.x,a=i.mInv,u=i.v.x;else var r=this.opts.anchor,a=0;for(var h=this.opts.length,c=this.opts.period,p=this.opts.dampingRatio,l=0,f=0;f<t.length;f++){var d=t[f],m=d.v.x,v=d.p.x,g=d.mInv;s=v-r;var y=s-h;o=i?m-u:m;var S=1/(g+a);if(0==c)var b=0,w=1;else var T=4*S*Math.PI*p/c,_=4*S*Math.PI*Math.PI/(c*c),b=1/(T+e*_),w=e*_/(T+e*_);var x=w/e*y,O=-(o+x)/(b+e/S);n.setXYZ(e*O,0,0),d.applyImpulse(n),i&&i.applyImpulse(n.mult(-1)),l+=Math.abs(O)}return l},s.prototype.setupSlider=function(t,i){i=i||t.opts.name,t.setOpts({value:this.opts[i]}),t.init instanceof Function&&t.init(),t.on("change",function(t){this.opts[i]=t.value}.bind(this))},e.exports=s}),define("famous-physics/utils/matrix",["require","exports","module"],function(require,exports,module){function Matrix(t,i,e,s){this.nRows=t,this.nCols=i,this.values=e||[[]],s&&this.loop(s)}Matrix.prototype={loop:function(t){for(var i=this.values,e=0;e<this.nRows;e++){i[e]=[];for(var s=0;s<this.nCols;s++)i[e][s]=t(e,s)}return this},set:function(t){return this.values=t,this},create:function(t){return this.loop(t)},identity:function(){return this.loop(function(t,i){return t==i?1:0})},print:function(){for(var row=0;row<this.nRows;row++){for(var str="console.log(",col=0;col<this.nCols;col++)str+="this.values["+row+"]["+col+"].toFixed(1)",col<this.nCols-1&&(str+=",");str+=")",eval(str)}},rightMult:function(t,i){t.nRows!=this.nCols&&console.warn("cant multiply");for(var e=this.values,s=t.values,o=this.nRows,n=t.nCols,r=[],a=0;o>a;a++){r[a]=[];for(var u=0;n>u;u++){for(var h=0,c=0;c<this.nCols;c++)h+=e[a][c]*s[c][u];r[a][u]=h}}return i?i.set(r):new Matrix(o,n).set(r)},vMult:function(t){for(var i=t.length,e=[],s=0;s<this.nRows;s++){for(var o=0,n=0;i>n;n++)o+=this.values[s][n]*t[n];e[s]=o}return e},diag:function(t){var i=function(i,e){return i==e?t[i]:0};return this.loop(i)},transpose:function(t){var i=function(t,i){return this.values[i][t]}.bind(this);return t?t.loop(i):new Matrix(this.nCols,this.nRows,[[]],i)}},module.exports=Matrix}),define("famous-physics/utils/GaussSeidel",["require","exports","module"],function(t,i,e){function s(t,i){this.numIterations=t||10,this.tolerance=i||1e-7,this.prevX=[],this.x=[]}function o(){for(var t=0,i=this.x.length,e=0;i>e;e++)t+=Math.pow(this.prevX[e]-this.x[e],2)/(this.x[e]*this.x[e]);return Math.sqrt(t)}s.prototype.solve=function(t,i){for(var e,s=this.numIterations,n=i.length,r=this.x,a=this.prevX,u=0;n>u;u++)this.x[u]=0;for(var h=0,c=1/0;s>h&&c>this.tolerance;){for(var u=0;n>u;u++){a[u]=r[u],e=0;for(var p=0;n>p;p++)p!=u&&(e+=t[u][p]*r[p]);r[u]=(i[u]-e)/t[u][u]}c=o(),h++}return r},e.exports=s}),define("famous-physics/constraints/Joint",["require","exports","module","../utils/matrix","../utils/GaussSeidel","famous-math/Vector"],function(t,i,e){function s(t){this.opts={length:0},t&&this.setOpts(t);var i=10,e=1e-5;this.solver=new n(i,e)}var o=t("../utils/matrix"),n=t("../utils/GaussSeidel"),r=t("famous-math/Vector");s.prototype.getPosition=function(t,i,e){var s=2,n=1,a=[],u=[],h=[],c=[],p=[],l=t;a[0]=l.getVel(),u[0]=l.p,h[0]=l.mInv,c[0]=l.f,p[0]=l.m,a[1]=i.v,u[1]=i.p,h[1]=i.mInv,c[1]=i.f,p[1]=i.m;for(var f=[],d=0;n>d;d++){f[d]=[];for(var m=0;s>m;m++){var v;m==d?v=u[d].sub(u[d+1]):m==d+1&&(v=u[d+1].sub(u[d])),f[d][3*m+0]=v.x,f[d][3*m+1]=v.y,f[d][3*m+2]=v.z}}var g=new o(n,3*s);g.set(f);for(var y=[],d=0;n>d;d++){y[d]=[];for(var m=0;s>m;m++){var v;m==d?v=a[d].sub(a[d+1]):m==d+1&&(v=a[d+1].sub(a[d])),y[d][3*m+0]=v.x,y[d][3*m+1]=v.y,y[d][3*m+2]=v.z}}for(var S=[],b=[],w=0;s>w;w++)S[3*w+0]=h[w],S[3*w+1]=h[w],S[3*w+2]=h[w],b[3*w+0]=a[w].x,b[3*w+1]=a[w].y,b[3*w+2]=a[w].z;var T=new o(3*s,3*s).diag(S),_=new o(n,n);g.rightMult(T).rightMult(g.transpose(),_);for(var x=g.vMult(b),O=1,C=[],w=0;n>w;w++){var P=this.length,M=u[w+1].sub(u[w]).normSquared();C[w]=.5*(M-P*P)}for(var E=[],z=0;n>z;z++)E[z]=-x[z]-O/e*C[z];for(var I=this.solver.solve(_.values,E),k=g.transpose().vMult(I),F=[],w=0;s>w;w++)F[w]=new r(k[3*w+0],k[3*w+1],k[3*w+2]);for(var w=0;s>w;w++){var b=a[w],A=p[w],R=F[w];(0!=w||0!=l.id)&&(1==w&&0==l.id?b.add(R.sub(F[0]).div(A),b):b.add(R.div(A),b))}},s.prototype.getError=function(){},e.exports=s}),define("famous-physics/constraints/Rod",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector"],function(t,i,e){function s(t){this.opts={length:0,anchor:void 0,stiffness:1},t&&this.setOpts(t),this.disp=new n,this.push=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof n&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor)),delete t.anchor);for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i,e){var s=this.opts,o=this.disp,n=this.push,r=s.length,a=s.stiffness,u=s.anchor||i.p,h=t[0],c=h.p;o.set(c.sub(u));var p=o.norm(),l=(r-p)/p;Math.abs(l)>0&&(n.set(o.mult(.5*l*a)),h.setPos(c.add(n)),h.setVel(h.v.add(n.div(e))),i&&!i.hasImmunity("agents")&&(i.setPos(i.p.sub(n)),i.setVel(i.v.sub(n.div(e)))))},e.exports=s}),define("famous-physics/constraints/Rope",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector"],function(t,i,e){function s(t){this.opts={length:0,anchor:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.impulse=new n,this.n=new n,this.diffP=new n,this.diffV=new n}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor instanceof n&&(this.opts.anchor=t.anchor),t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor))),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.period&&(this.opts.period=t.period)},s.prototype.applyConstraint=function(t,i,e){var s=this.n,o=this.diffP,n=this.diffV,r=this.impulse;if(i)var a=i.p,u=i.mInv,h=i.v;else var a=this.opts.anchor,u=0;for(var c=this.opts.length,p=0,l=0;l<t.length;l++){var f=t[l],d=f.v,m=f.p,v=f.mInv;o.set(m.sub(a));var g=o.norm()-c;if(0>g)return;s.set(o.normalize()),n.set(i?d.sub(h):d);var y=1/(v+u);if(0==this.opts.period)var S=0,b=1;else var w=4*y*Math.PI*this.opts.dampingRatio/this.opts.period,T=4*y*Math.PI*Math.PI/(this.opts.period*this.opts.period),S=1/(w+e*T),b=e*T/(w+e*T);var _=b/e*g,x=-(s.dot(n)+_)/(S+e/y);r.set(s.mult(e*x)),f.applyImpulse(r),i&&i.applyImpulse(r.mult(-1)),p+=Math.abs(x)}return p},s.prototype.setupSlider=function(t,i){i=i||t.opts.name,t.setOpts({value:this.opts[i]}),t.init(),t.on("change",function(t){this.opts[i]=t.value}.bind(this))},e.exports=s}),define("famous-physics/constraints/Surface",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector"],function(t,i,e){function s(t){this.opts={f:void 0,df:void 0,dampingRatio:0,period:0},t&&this.setOpts(t),this.J=new n,this.impulse=new n,this.eps=1e-7}var o=t("famous-physics/constraints/Constraint"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},s.prototype.applyConstraint=function(t,i,e){for(var s=this.impulse,o=this.J,n=this.opts.f,r=this.opts.df,a=0,u=0;u<t.length;u++){var h=t[u],c=h.v,p=h.p,l=h.m;if(0==this.opts.period)var f=0,d=1;else var m=4*l*Math.PI*this.opts.dampingRatio/this.opts.period,v=4*l*Math.PI*Math.PI/(this.opts.period*this.opts.period),f=1/(m+e*v),d=e*v/(m+e*v);if(void 0===r){var g=this.eps,y=n(p.x,p.y,p.z),S=(n(p.x+g,p.y,p.z)-y)/g,b=(n(p.x,p.y+g,p.z)-y)/g,w=(n(p.x,p.y,p.z+g)-y)/g;o.setXYZ(S,b,w)}else o.setXYZ.apply(o,r(p.x,p.y,p.z));var T=d/e*n(p.x,p.y,p.z),_=-(o.dot(c)+T)/(f+e*o.normSquared()/l);s.set(o.mult(e*_)),h.applyImpulse(s),a+=Math.abs(_)}return a},s.prototype.setupSlider=function(t,i){i=i||t.opts.name,t.setOpts({value:this.opts[i]}),t.init(),t.on("change",function(t){this.opts[i]=t.value}.bind(this))},e.exports=s}),define("famous-physics/constraints/Walls",["require","exports","module","famous-physics/constraints/Constraint","famous-math/Vector","famous-physics/constraints/Wall"],function(t,i,e){function s(t){this.opts={sides:s.TWO_DIMENSIONAL,size:[window.innerWidth,window.innerHeight,0],origin:[.5,.5,.5],k:0,restitution:.5,onContact:s.ON_CONTACT.REFLECT},this.sides={},this.createSides(t.sides||this.opts.sides),t&&this.setOpts(t)}function o(t,i,e){var o;switch(parseInt(t)){case s.LEFT:o=i[0]*e[0];break;case s.TOP:o=i[1]*e[1];break;case s.FRONT:o=i[2]*e[2];break;case s.RIGHT:o=i[0]*(1-e[0]);break;case s.BOTTOM:o=i[1]*(1-e[1]);break;case s.BACK:o=i[2]*(1-e[2])}return o}var n=t("famous-physics/constraints/Constraint"),r=t("famous-math/Vector"),a=t("famous-physics/constraints/Wall");s.prototype=Object.create(n.prototype),s.prototype.constructor=n,s.LEFT=0,s.RIGHT=1,s.TOP=2,s.BOTTOM=3,s.FRONT=4,s.BACK=5;var u={0:new r(1,0,0),1:new r(-1,0,0),2:new r(0,1,0),3:new r(0,-1,0),4:new r(0,0,1),5:new r(0,0,-1)};s.TWO_DIMENSIONAL=[s.LEFT,s.RIGHT,s.TOP,s.BOTTOM],s.THREE_DIMENSIONAL=[s.LEFT,s.RIGHT,s.TOP,s.BOTTOM,s.FRONT,s.BACK],s.ON_CONTACT=a.ON_CONTACT,s.prototype.setOpts=function(t){var i=!1;void 0!==t.restitution&&this.setOptsForEach({restitution:t.restitution}),void 0!==t.k&&this.setOptsForEach({k:t.k}),void 0!==t.size&&(i=!0),void 0!==t.sides&&(this.opts.sides=t.sides),void 0!==t.onContact&&this.setOnContact(t.onContact),void 0!==t.origin&&(i=!0),i&&this.setSize(t.size,t.origin)},s.prototype.createSides=function(t){this.sides={},this.opts.sides=[];for(var i=0;i<t.length;i++){var e=t[i];this.sides[i]=new a({n:u[e].clone(),d:o(e,this.opts.size,this.opts.origin)}),this.opts.sides[i]=e}},s.prototype.setSize=function(t,i){i=i||this.opts.origin,i.length<3&&(i[2]=.5),this.forEach(function(e,s){var n=o(s,t,i);e.setOpts({d:n})}),this.opts.size=t,this.opts.origin=i},s.prototype.setOptsForEach=function(t){this.forEach(function(i){i.setOpts(t)});for(var i in t)this.opts[i]=t[i]},s.prototype.setOnContact=function(t){this.forEach(function(i){i.setOpts({onContact:t})});var i=this.sides;switch(t){case s.ON_CONTACT.REFLECT:break;case s.ON_CONTACT.WRAP:this.forEach(function(e){e.setOpts({onContact:t}),e.on("wrap",function(t){var o=t.particle,n=e.opts.n,r=e.opts.d;switch(e){case s.RIGHT:var a=i.LEFT.opts.d;break;case s.LEFT:var a=i.TOP.opts.d;break;case s.TOP:var a=i.BOTTOM.opts.d;break;case s.BOTTOM:var a=i.TOP.opts.d}o.p.add(n.mult(r+a),o.p)})});break;case s.ON_CONTACT.ABSORB:}this.opts.onContact=t},s.prototype.applyConstraint=function(t,i,e){this.forEach(function(s){s.applyConstraint(t,i,e)})},s.prototype.forEach=function(t){for(var i in this.sides)t(this.sides[i],i)},s.prototype.rotateZ=function(t){this.forEach(function(i){var e=i.opts.n;e.rotateZ(t).put(e)})},s.prototype.rotateX=function(t){this.forEach(function(i){var e=i.opts.n;e.rotateX(t).put(e)})},s.prototype.rotateY=function(t){this.forEach(function(i){var e=i.opts.n;e.rotateY(t).put(e)})},e.exports=s}),define("famous-physics/forces/Repulsion",["require","exports","module","famous-physics/forces/Force","famous-math/Vector"],function(t,i,e){function s(t){this.opts={strength:1,anchor:void 0,radii:{min:0,max:1/0},cutoff:0,cap:1/0,decayFunction:s.DECAY_FUNCTIONS.GRAVITY},t&&this.setOpts(t),this.setOpts(t),this.disp=new n,o.call(this)}var o=t("famous-physics/forces/Force"),n=t("famous-math/Vector");s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.DECAY_FUNCTIONS={LINEAR:function(t,i){return Math.max(1-1/i*t,0)},MORSE:function(t,i){var e=0==i?100:i,s=t+e*(1-Math.log(2));return Math.max(1-Math.pow(1-Math.exp(s/e-1),2),0)},INVERSE:function(t,i){return 1/(1-i+t)},GRAVITY:function(t,i){return 1/(1-i+t*t)}},s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof n&&(this.opts.anchor=t.anchor.p),t.anchor instanceof Array&&(this.opts.anchor=new n(t.anchor)),delete t.anchor);for(var i in t)this.opts[i]=t[i]},s.prototype.applyForce=function(t,i){var e=this.opts,s=this.force,o=this.disp,n=e.strength,r=e.anchor||i.p,a=e.cap,u=e.cutoff,h=e.radii.max,c=e.radii.min,p=e.decayFunction;if(0!=n)for(var l in t){var f=t[l];if(f!=i){var d=f.m,m=f.p;o.set(m.sub(r));var v=o.norm();h>v&&v>c&&(s.set(o.normalize(n*d*p(v,u)).cap(a)),f.applyForce(s))}}},e.exports=s}),define("famous-physics/forces/RotationDrag",["require","exports","module","famous-physics/forces/Force","famous-math/Vector"],function(t,i,e){function s(t){this.opts={strength:.01,forceFunction:s.FORCE_FUNCTIONS.LINEAR},t&&this.setOpts(t),o.call(this)}{var o=t("famous-physics/forces/Force");t("famous-math/Vector")}s.prototype=Object.create(o.prototype),s.prototype.constructor=o,s.FORCE_FUNCTIONS={LINEAR:function(t){return t
},QUADRATIC:function(t){return t.mult(t.norm())}},s.prototype.applyForce=function(t){var i=this.opts.strength,e=this.opts.forceFunction,s=this.force;for(var o in t){var n=t[o];e(n.w).mult(-100*i).put(s),n.applyTorque(s)}},s.prototype.setOpts=function(t){for(var i in t)this.opts[i]=t[i]},e.exports=s}),define("famous-physics/forces/TorqueSpring",["require","exports","module","famous-physics/forces/Force","famous-math/Vector"],function(t,i,e){function s(t){this.opts={period:300,dampingRatio:0,length:0,lMin:0,lMax:1/0,anchor:void 0,forceFunction:s.FORCE_FUNCTIONS.HOOK,callback:void 0,callbackTolerance:1e-7},t&&this.setOpts(t),this.torque=new u,this.init(),this._canFireCallback=void 0,a.call(this),this.disp=new u(0,0,0)}function o(t){this.forceFunction=t}function n(t){t.stiffness=Math.pow(2*Math.PI/t.period,2)}function r(t){t.damping=4*Math.PI*t.dampingRatio/t.period}var a=t("famous-physics/forces/Force"),u=t("famous-math/Vector");s.prototype=Object.create(a.prototype),s.prototype.constructor=a,s.FORCE_FUNCTIONS={FENE:function(t,i){var e=.99*i,s=Math.max(Math.min(t,e),-e);return s/(1-s*s/(i*i))},HOOK:function(t){return t}},s.prototype.init=function(){var t=this.opts;o.call(this,t.forceFunction),n.call(this,t),r.call(this,t)},s.prototype.applyForce=function(t){for(var i=this.torque,e=this.opts,s=this.disp,o=e.stiffness,n=e.damping,r=e.length,a=e.anchor,u=0;u<t.length;u++){var h=t[u];s.set(a.sub(h.q));var c=s.norm()-r;if(0==c)return;var p=h.m;o*=p,n*=p,i.set(s.normalize(o*this.forceFunction(c,this.opts.lMax))),n&&i.set(i.add(h.w.mult(-n))),h.applyTorque(i)}},s.prototype.setOpts=function(t){void 0!==t.anchor&&(t.anchor.p instanceof u&&(this.opts.anchor=t.anchor.p),t.anchor instanceof u&&(this.opts.anchor=t.anchor),t.anchor instanceof Array&&(this.opts.anchor=new u(t.anchor))),void 0!==t.period&&(this.opts.period=t.period),void 0!==t.dampingRatio&&(this.opts.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.opts.length=t.length),void 0!==t.lMin&&(this.opts.lMin=t.lMin),void 0!==t.lMax&&(this.opts.lMax=t.lMax),void 0!==t.forceFunction&&(this.opts.forceFunction=t.forceFunction),void 0!==t.callback&&(this.opts.callback=t.callback),void 0!==t.callbackTolerance&&(this.opts.callbackTolerance=t.callbackTolerance),this.init()},e.exports=s}),define("famous-physics/integrator/verlet",["require","exports","module","famous-math/Vector"],function(t,i,e){function s(t){t=t||{},this.vCap=t.vCap||1/0,this.aCap=t.aCap||1/0,this.drag=t.drag||1,this.diff=new o,this.pOldCopy=new o,this.dragVector=new o}var o=t("famous-math/Vector");s.prototype.integrate=function(t,i,e){var s=t.pOld,o=t.p,n=t.a;if(this.diff.set(o.sub(s)),e){var r=t.v;t.hasImmunity("velocity")||r.add(n.mult(.5*i),r),t.hasImmunity("position")||(s.set(o),o.add(r.mult(i),o))}else this.pOldCopy.set(s),t.hasImmunity("position")||(this.dragVector.set(this.diff.mult(this.drag)),s.set(o),o.add(n.mult(i*i),o),o.add(this.dragVector,o))},s.prototype.integrateVelocity=function(t,i,e){var s=t.p,o=t.a;if(e){var n=t.v;n.add(o.mult(.5*i),n),s.add(n.mult(i),s)}else s.add(o.mult(i*i),s)},s.prototype.integratePosition=function(t){var i=t.p,e=t.pOld,s=this.pOldCopy;s.set(e),e.set(i),i.add(i.sub(s).mult(this.drag),i)},e.exports=s}),define("famous-surfaces/CanvasSurface",["require","exports","module","famous/Surface"],function(t,i,e){function s(t){t&&t.canvasSize&&(this.canvasSize=t.canvasSize),o.apply(this,arguments),this.canvasSize||(this.canvasSize=this.getSize()),this.backBuffer=document.createElement("canvas"),this.canvasSize&&(this.backBuffer.width=this.canvasSize[0],this.backBuffer.height=this.canvasSize[1]),this._contextId=void 0}var o=t("famous/Surface");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.elementType="canvas",s.prototype.elementClass="surface",s.prototype.setContent=function(){},s.prototype.deploy=function(t){this.canvasSize&&(t.width=this.canvasSize[0],t.height=this.canvasSize[1]),"2d"===this._contextId&&(t.getContext(this._contextId).drawImage(this.backBuffer,0,0),this.backBuffer.width=0,this.backBuffer.height=0)},s.prototype.recall=function(t){this.getSize();this.backBuffer.width=t.width,this.backBuffer.height=t.height,"2d"===this._contextId&&(this.backBuffer.getContext(this._contextId).drawImage(t,0,0),t.width=0,t.height=0)},s.prototype.getContext=function(t){return this._contextId=t,this._currTarget?this._currTarget.getContext(t):this.backBuffer.getContext(t)},s.prototype.setSize=function(t,i){o.prototype.setSize.apply(this,arguments),i&&(this.canvasSize=i.slice(0)),this._currTarget&&(this._currTarget.width=this.canvasSize[0],this._currTarget.height=this.canvasSize[1])},e.exports=s}),define("famous-surfaces/ImageSurface",["require","exports","module","famous/Surface"],function(t,i,e){function s(){this.imageUrl=void 0,o.apply(this,arguments)}var o=t("famous/Surface");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.elementType="img",s.prototype.elementClass="famous-surface",s.prototype.setContent=function(t){this.imageUrl=t,this._contentDirty=!0},s.prototype.deploy=function(t){t.src=this.imageUrl||""},s.prototype.recall=function(t){t.src=""},e.exports=s}),define("famous-surfaces/InputSurface",["require","exports","module","famous/Surface"],function(t,i,e){function s(t){this._placeholder=t.placeholder||"",this._value=t.value||"",this._type=t.type||"text",o.apply(this,arguments),this.on("click",this.focus.bind(this))}var o=t("famous/Surface");s.prototype=Object.create(o.prototype),s.prototype.elementType="input",s.prototype.elementClass="famous-surface",s.prototype.setPlaceholder=function(t){return this._placeholder=t,this._contentDirty=!0,this},s.prototype.focus=function(){return this._currTarget&&this._currTarget.focus(),this},s.prototype.blur=function(){return this._currTarget&&this._currTarget.blur(),this},s.prototype.setValue=function(t){return this._value=t,this._contentDirty=!0,this},s.prototype.setType=function(t){return this._type=t,this._contentDirty=!0,this},s.prototype.getValue=function(){return this._currTarget?this._currTarget.value:this._value},s.prototype.deploy=function(t){""!==this._placeholder&&(t.placeholder=this._placeholder),t.value=this._value,t.type=this._type},e.exports=s}),define("famous-surfaces/VideoSurface",["require","exports","module","famous/Surface"],function(t,i,e){function s(t){this.videoUrl=void 0,this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),o.apply(this,arguments)}var o=t("famous/Surface");s.DEFAULT_OPTIONS={autoplay:!1},s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.elementType="video",s.prototype.elementClass="famous-surface",s.prototype.setOptions=function(t){for(var i in s.DEFAULT_OPTIONS)void 0!==t[i]&&(this.options[i]=t[i])},s.prototype.setContent=function(t){this.videoUrl=t,this.contentDirty=!0},s.prototype.deploy=function(t){t.src=this.videoUrl,t.autoplay=this.options.autoplay},s.prototype.recall=function(t){t.src=""},e.exports=s}),define("famous-surfaces/WebGLSurface",["require","exports","module","famous/Surface"],function(t,i,e){function s(t){this.glOptions=t.glOptions,this._canvas=document.createElement("canvas"),o.call(this,t),this.setContent(this._canvas),this.setSize(t.size)}var o=t("famous/Surface");s.prototype=Object.create(o.prototype),s.prototype.getContext=function(){return this._canvas.getContext("webgl",this.glOptions)||this._canvas.getContext("experimental-webgl",this.glOptions)},s.prototype.setSize=function(t){o.prototype.setSize.apply(this,arguments),this._canvas.style.width=t[0]+"px",this._canvas.style.height=t[1]+"px";var i=window.devicePixelRatio?window.devicePixelRatio:1;this._canvas.width=t[0]*i,this._canvas.height=t[1]*i},e.exports=s}),define("famous-sync/FastClick",["require","exports","module"],function(){if(window.CustomEvent){var t=300,i={};document.addEventListener("touchstart",function(t){for(var e=Date.now(),s=0;s<t.changedTouches.length;s++){var o=t.changedTouches[s];i[o.identifier]=e}}),window.addEventListener("touchmove",function(t){for(var e=0;e<t.changedTouches.length;e++){var s=t.changedTouches[e];delete i[s.identifier]}}),document.addEventListener("touchend",function(e){for(var s=Date.now(),o=0;o<e.changedTouches.length;o++){var n=e.changedTouches[o],r=i[n.identifier];if(r&&t>s-r){e.preventDefault();var a=new CustomEvent("click",{bubbles:!0,details:n});e.target.dispatchEvent(a)}delete i[n.identifier]}})}}),define("famous-sync/TwoFingerSync",["require","exports","module","famous/EventHandler"],function(t,i,e){function s(t,i){this.targetGet=t,this.options={scale:1},this.setOptions(i?i:this.options),this.input=new o,this.output=new o,o.setInputHandler(this,this.input),o.setOutputHandler(this,this.output),this.touchAEnabled=!1,this.touchAId=0,this.posA=null,this.timestampA=0,this.touchBEnabled=!1,this.touchBId=0,this.posB=null,this.timestampB=0,this.input.on("touchstart",this.handleStart.bind(this)),this.input.on("touchmove",this.handleMove.bind(this)),this.input.on("touchend",this.handleEnd.bind(this)),this.input.on("touchcancel",this.handleEnd.bind(this))}var o=t("famous/EventHandler");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.scale&&(this.options.scale=t.scale)},s.prototype.handleStart=function(t){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i];this.touchAEnabled?this.touchBEnabled||(this.touchBId=e.identifier,this.touchBEnabled=!0,this.posB=[e.pageX,e.pageY],this.timestampB=Date.now(),this._startUpdate()):(this.touchAId=e.identifier,this.touchAEnabled=!0,this.posA=[e.pageX,e.pageY],this.timestampA=Date.now())}},s.prototype.handleMove=function(t){if(this.touchAEnabled&&this.touchBEnabled){for(var i,e=this.timestampA,s=this.timestampB,o=0;o<t.changedTouches.length;o++){var n=t.changedTouches[o];n.identifier===this.touchAId?(this.posA=[n.pageX,n.pageY],this.timestampA=Date.now(),i=this.timestampA-e):n.identifier===this.touchBId&&(this.posB=[n.pageX,n.pageY],this.timestampB=Date.now(),i=this.timestampB-s)}i&&this._moveUpdate(i)}},s.prototype.handleEnd=function(t){for(var i=this.targetGet(),e=this.options.scale,s=0;s<t.changedTouches.length;s++){var o=t.changedTouches[s];(o.identifier===this.touchAId||o.identifier===this.touchBId)&&(this.touchAEnabled&&this.touchBEnabled&&this.output.emit("end",{p:i,v:e*this._vel,touches:[this.touchAId,this.touchBId],angle:this._angle}),this.touchAEnabled=!1,this.touchAId=0,this.touchBEnabled=!1,this.touchBId=0)}},e.exports=s}),define("famous-sync/PinchSync",["require","exports","module","./TwoFingerSync"],function(t,i,e){function s(t,i){n.call(this,t,i),this._dist=void 0}function o(t,i){var e=i[0]-t[0],s=i[1]-t[1];return Math.sqrt(e*e+s*s)}var n=t("./TwoFingerSync");s.prototype=Object.create(n.prototype),s.prototype._startUpdate=function(){this._dist=o(this.posA,this.posB),this._vel=0,this.output.emit("start",{count:event.touches.length,touches:[this.touchAId,this.touchBId],distance:this._dist})},s.prototype._moveUpdate=function(t){var i=o(this.posA,this.posB),e=i-this._dist,s=e/t,n=this.targetGet(),r=this.options.scale;this.output.emit("update",{p:n+r*e,v:r*s,touches:[this.touchAId,this.touchBId],distance:i}),this._dist=i,this._vel=s},e.exports=s}),define("famous-sync/RotateSync",["require","exports","module","./TwoFingerSync"],function(t,i,e){function s(t,i){n.call(this,t,i),this._angle=void 0}function o(t,i){var e=i[0]-t[0],s=i[1]-t[1];return Math.atan2(s,e)}var n=t("./TwoFingerSync");s.prototype=Object.create(n.prototype),s.prototype._startUpdate=function(){this._angle=o(this.posA,this.posB),this._vel=0,this.output.emit("start",{count:event.touches.length,touches:[this.touchAId,this.touchBId],angle:this._angle})},s.prototype._moveUpdate=function(t){var i=o(this.posA,this.posB),e=i-this._angle,s=e/t,n=this.targetGet(),r=this.options.scale;this.output.emit("update",{p:n+r*e,v:r*s,touches:[this.touchAId,this.touchBId],angle:i}),this._angle=i,this._vel=s},e.exports=s}),define("famous-sync/ScaleSync",["require","exports","module","./TwoFingerSync"],function(t,i,e){function s(t,i){r.call(this,t,i),this._startDist=void 0,this._prevScale=void 0,this.input.on("pipe",n.bind(this))}function o(t,i){var e=i[0]-t[0],s=i[1]-t[1];return Math.sqrt(e*e+s*s)}function n(){this.touchAId=void 0,this.touchBId=void 0}var r=t("./TwoFingerSync");s.prototype=Object.create(r.prototype),s.prototype._startUpdate=function(){this._prevScale=1,this._startDist=o(this.posA,this.posB),this._vel=0,this.output.emit("start",{count:event.touches.length,touches:[this.touchAId,this.touchBId],distance:this._startDist})},s.prototype._moveUpdate=function(t){var i=o(this.posA,this.posB),e=i/this._startDist,s=e-this._prevScale,n=s/t,r=this.targetGet(),a=this.options.scale;this.output.emit("update",{p:r+a*s,v:a*n,touches:[this.touchAId,this.touchBId],distance:i}),this._prevScale=e,this._vel=n},e.exports=s}),define("famous-transitions/DragTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/forces/Drag"],function(t,i,e){function s(t){this.drag=new v({strength:s.DEFAULT_OPTIONS.strength}),this._restTolerance=1e-8,this._active=!1,this.PE=new m,this.particle=this.PE.createParticle(),this.PE.attach(this.drag,this.particle),this.dimensions=void 0,h.call(this,t||0)}function o(){if(this._active){this.PE.step();var t=n.call(this);t<this._restTolerance&&(u.call(this),p.call(this,[0,0,0]))}else if(this._callback){var i=this._callback;this._callback=void 0,i()}}function n(){return this.particle.getEnergy()}function r(t){var i=s.DEFAULT_OPTIONS;void 0===t.strength&&(t.strength=i.strength),this.drag.setOpts({strength:t.strength}),p.call(this,t.velocity)}function a(){this.PE.play(),this._active=!0}function u(){this.PE.pause(),this._active=!1}function h(t){c.call(this,t)}function c(t){this.particle.p.set(t)}function p(t){this.particle.v.set(t)}function l(){return 1===this.dimensions?this.particle.p.x:this.particle.p.get()}function f(){return 1===this.dimensions?this.particle.v.x:this.particle.v.get()}function d(t){this.callback=t}var m=t("famous-physics/PhysicsEngine"),v=t("famous-physics/forces/Drag");s.SUPPORTS_MULTIPLE=3,s.DEFAULT_OPTIONS={strength:.01,velocity:0},s.prototype.reset=function(t,i){this.dimensions=t instanceof Array?t.length:1,void 0!==i&&p.call(this,i),h.call(this,t),d.call(this,void 0)},s.prototype.getVelocity=function(){return f.call(this)},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),l.call(this)},s.prototype.set=function(t,i,e){return i?(this.dimensions=t instanceof Array?t.length:1,a.call(this),r.call(this,i),h.call(this,t),void d.call(this,e)):(this.reset(t),void(e&&e()))},e.exports=s}),define("famous-transitions/Easing",["require","exports","module"],function(t,i,e){var s={inQuad:function(t){return t*t},outQuad:function(t){return-(t-=1)*t+1},inOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return 0==t?0:Math.pow(2,10*(t-1))},outExpo:function(t){return 1==t?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var i=1.70158,e=0,s=1;return 0==t?0:1==t?1:(e||(e=.3),i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e)))},outElastic:function(t){var i=1.70158,e=0,s=1;return 0==t?0:1==t?1:(e||(e=.3),i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(t-i)*Math.PI/e)+1)},inOutElastic:function(t){var i=1.70158,e=0,s=1;return 0==t?0:2==(t/=.5)?1:(e||(e=.3*1.5),i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-i)*Math.PI/e)*.5+1)},inBack:function(t,i){return void 0==i&&(i=1.70158),t*t*((i+1)*t-i)},outBack:function(t,i){return void 0==i&&(i=1.70158),--t*t*((i+1)*t+i)+1},inOutBack:function(t,i){return void 0==i&&(i=1.70158),(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},inBounce:function(t){return 1-s.outBounce(1-t)},outBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return.5>t?.5*s.inBounce(2*t):.5*s.outBounce(2*t-1)+.5}};e.exports=s}),define("famous-transitions/StiffSpringTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/constraints/StiffSpring","famous-math/Vector"],function(t,i,e){function s(t){t=t||0,this.endState=new y(t),this.initState=new y,this._dimensions=void 0,this._restTolerance=1e-8,this._absRestTolerance=this._restTolerance,this._active=!1,this._callback=void 0,this.PE=new v,this.spring=new g({anchor:this.endState}),this.particle=this.PE.createParticle(),this.PE.attach(this.spring,this.particle)}function o(){if(this._active)this.PE.step(),n.call(this)<this._absRestTolerance&&(p.call(this,this.endState),l.call(this,[0,0,0]),c.call(this));else if(this._callback){var t=this._callback;this._callback=void 0,t()}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(t){var i=s.DEFAULT_OPTIONS;void 0===t.period&&(t.period=i.period),void 0===t.dampingRatio&&(t.dampingRatio=i.dampingRatio),void 0===t.velocity&&(t.velocity=i.velocity),this.spring.setOpts({period:t.period,dampingRatio:t.dampingRatio}),l.call(this,t.velocity)}function a(){var t=this.endState.sub(this.initState).normSquared();this._absRestTolerance=0===t?this._restTolerance:this._restTolerance*t}function u(t){this.endState.set(t),a.call(this)}function h(){this.PE.play(),this._active=!0}function c(){this.PE.pause(),this._active=!1}function p(t){this.particle.p.set(t)}function l(t){this.particle.v.set(t)}function f(){return 0===this._dimensions?this.particle.p.x:this.particle.p.get()}function d(){return 0===this._dimensions?this.particle.v.x:this.particle.v.get()}function m(t){this._callback=t}var v=t("famous-physics/PhysicsEngine"),g=t("famous-physics/constraints/StiffSpring"),y=t("famous-math/Vector");s.SUPPORTS_MULTIPLE=3,s.DEFAULT_OPTIONS={period:300,dampingRatio:.5,velocity:0},s.prototype.reset=function(t,i){this._dimensions=t instanceof Array?t.length:0,this.initState.set(t),p.call(this,t),u.call(this,t),i&&l.call(this,i),m.call(this,void 0)},s.prototype.getVelocity=function(){return d.call(this)},s.prototype.setVelocity=function(t){this.call(this,l(t))},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),f.call(this)},s.prototype.set=function(t,i,e){return i?(this._dimensions=t instanceof Array?t.length:0,h.call(this),r.call(this,i),u.call(this,t),void m.call(this,e)):(this.reset(t),void(e&&e()))},e.exports=s}),define("famous-transitions/WallTransition",["require","exports","module","famous-physics/PhysicsEngine","famous-physics/forces/Spring","famous-physics/constraints/Wall","famous-math/Vector"],function(t,i,e){function s(t){t=t||0,this.endState=new S(t),this.initState=new S,this._active=!1,this.spring=new g({anchor:this.endState}),this.wall=new y,this._restTolerance=1e-8,this._absRestTolerance=this._restTolerance,this._callback=void 0,this.PE=new v,this.particle=this.PE.createParticle({p:this.endState}),this.PE.attach([this.wall,this.spring],this.particle)}function o(){if(this._active){this.PE.step();var t=n.call(this);t<this._absRestTolerance&&(h.call(this),p.call(this,this.endState),l.call(this,[0,0,0]))}else if(this._callback){var i=this._callback;this._callback=void 0,i()}}function n(){return this.particle.getEnergy()+this.spring.getEnergy(this.particle)}function r(){var t=this.endState.sub(this.initState).normSquared();this._absRestTolerance=0===t?this._restTolerance:this._restTolerance*t}function a(t){var i=s.DEFAULT_OPTIONS;void 0===t.period&&(t.period=i.period),void 0===t.dampingRatio&&(t.dampingRatio=i.dampingRatio),void 0===t.velocity&&(t.velocity=i.velocity),void 0===t.restitution&&(t.restitution=i.restitution),this.spring.setOpts({period:t.period,dampingRatio:t.dampingRatio}),this.wall.setOpts({restitution:t.restitution}),l.call(this,t.velocity)}function u(){this.PE.play(),this._active=!0}function h(){this.PE.pause(),this._active=!1}function c(t){this.endState.set(t);var i=this.endState.sub(this.initState).norm();this.wall.setOpts({d:this.endState.norm(),n:0==i?this.particle.v.normalize(-1):this.endState.sub(this.initState).normalize(-1)}),r.call(this)}function p(t){this.particle.p.set(t)}function l(t){this.particle.v.set(t)}function f(){return 0===this.dimensions?this.particle.p.x:this.particle.p.get()}function d(){return 0===this.dimensions?this.particle.v.x:this.particle.v.get()}function m(t){this._callback=t}var v=t("famous-physics/PhysicsEngine"),g=t("famous-physics/forces/Spring"),y=t("famous-physics/constraints/Wall"),S=t("famous-math/Vector");s.SUPPORTS_MULTIPLE=3,s.DEFAULT_OPTIONS={period:300,dampingRatio:0,restitution:.5,velocity:0},s.prototype.reset=function(t,i){this.dimensions=t instanceof Array?t.length:0,this.initState.set(t),p.call(this,t),i&&l.call(this,i),c.call(this,t),m.call(this,void 0)},s.prototype.getVelocity=function(){return d.call(this)},s.prototype.setVelocity=function(t){this.call(this,l(t))},s.prototype.halt=function(){this.set(this.get())},s.prototype.get=function(){return o.call(this),f.call(this)},s.prototype.set=function(t,i,e){return i?(this.dimensions=t instanceof Array?t.length:0,u.call(this),a.call(this,i),c.call(this,t),void m.call(this,e)):(this.reset(t),void(e&&e()))},e.exports=s}),define("famous-ui/Buttons/ButtonBase",["require","exports","module","famous/Surface","famous/View","famous/Transform","famous/Modifier","famous-animation/Easing"],function(t,i,e){function s(){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.eventInput.bindThis(this),this.surface=new o(this.options.surfaceOptions),this.transform=new a({size:this.surface.getSize()}),this.surface.pipe(this),this.surface.on("click",this._handleClick),this._state=!1,this.node.link(this.transform).link(this.surface)}var o=t("famous/Surface"),n=t("famous/View"),r=t("famous/Transform"),a=t("famous/Modifier"),u=t("famous-animation/Easing");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={surfaceOptions:{},openState:r.identity,closeState:r.rotateZ(.75*Math.PI),transition:{curve:u.inOutBackNorm,duration:500}},s.prototype._handleClick=function(){},s.prototype.halt=function(){this.transform.halt()},s.prototype.setTransform=function(){this.transform.setTransform.apply(this.transform,arguments)},s.prototype.setOpacity=function(){this.transform.setOpacity.apply(this.transform,arguments)},s.prototype.getSize=function(){return this.surface.getSize()},e.exports=s}),define("famous-ui/Buttons/RotateButton",["require","exports","module","famous/Surface","famous/View","famous/Transform","famous/Modifier","famous-animation/Easing","./ButtonBase"],function(t,i,e){function s(){r.apply(this,arguments),this.transform.setOrigin([.5,.5]),this._state=!1}var o=(t("famous/Surface"),t("famous/View"),t("famous/Transform")),n=(t("famous/Modifier"),t("famous-animation/Easing")),r=t("./ButtonBase");s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={surfaceOptions:{},openState:o.identity,closeState:o.rotateZ(.75*Math.PI),transition:{curve:n.inOutBackNorm,duration:500}},s.prototype._handleClick=function(t){t.stopPropagation(),this.toggle()},s.prototype.getSize=function(){return this.surface.getSize()},s.prototype.toggle=function(){0==this._state?this.open():this.close()},s.prototype.open=function(){this._state=!0,this.transform.halt(),this.emit("open"),this.transform.setTransform(this.options.closeState,this.options.transition)},s.prototype.close=function(){this._state=!1,this.transform.halt(),this.emit("close"),this.transform.setTransform(this.options.openState,this.options.transition)},e.exports=s}),define("famous-ui/Buttons/SpringButton",["require","exports","module","famous-physics/PhysicsEngine","famous/View","famous-physics/forces/Spring","famous/Surface","famous-math/Vector","famous-utils/Utils"],function(t,i,e){function s(){a.apply(this,arguments),this._eventInput.pipe(this._eventOutput),this.PE=new r,this.available=!0,this.anchor=this.PE.createParticle({p:this.options.pos,v:this.options.vel,immunity:!0}),this.particle=this.PE.createParticle({p:this.options.pos,v:this.options.vel}),this.spring=new u({period:this.options.springPeriod,dampingRatio:this.options.springDampingRatio,length:this.options.springLength,anchor:this.options.pos,callback:n.bind(this)}),this.PE.attach(this.spring,this.particle),this.surface=new h({size:this.options.size,content:this.options.content,classes:this.options.classes,properties:this.options.properties}),this.surface.on("click",o.bind(this))}function o(){this._addForce(this.options.clickForce)}function n(){this.options.limitTouches&&(this.available=!0)}var r=t("famous-physics/PhysicsEngine"),a=t("famous/View"),u=t("famous-physics/forces/Spring"),h=t("famous/Surface"),c=(t("famous-math/Vector"),t("famous-utils/Utils"));s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:[200,200],pos:[0,0,0],vel:[0,0,0],springPeriod:200,springDampingRatio:.8,springLength:0,content:"",properties:{},classes:[],limitTouches:!1,forceMult:[10,10,10],callbackTolerance:1e-4,clickForce:[0,0,-.005]},s.prototype.setPeriod=function(t){this.spring.setPeriod(t)},s.prototype.setDamping=function(t){this.spring.setDampingRatio(t)},s.prototype.setCallbackTolerance=function(t){this.spring.opts.callbackTolerance=t},s.prototype._addForce=function(t){var i={x:0,y:0,z:0};c.isArray(t)?(i.x=t[0]*this.options.forceMult[0],i.y=t[1]*this.options.forceMult[1],i.z=t[2]*this.options.forceMult[2]):(i.x=t.x*this.options.forceMult[0],i.y=t.y*this.options.forceMult[1],i.z=t.z*this.options.forceMult[2]),this.options.limitTouches?this.available&&(this.particle.applyForce(i),this.available=!1,this.eventOutput.emit("click")):(this.particle.applyForce(i),this.eventOutput.emit("click"))},s.prototype.render=function(){return this.PE.step(),{opacity:1,transform:this.PE.getTransform(this.particle),target:this.surface.render()}},e.exports=s}),define("famous-ui/Buttons/SpringButton.ui",["require","exports","module","./SpringButton"],function(t,i,e){function s(){o.apply(this,arguments),this.autoUI=[{type:"label",uiOptions:{content:"PHYSICS",properties:{"border-bottom":"1px solid #f2786f",color:"#f2786f","font-size":"16px"}}},{option:"springPeriod",type:"slider",uiOptions:{range:[100,2e3],name:"SPRING DURATION"}},{option:"springPeriod",callback:this.setDamping,type:"slider",uiOptions:{range:[.002,.8],name:"SPRING DAMPING"}},{type:"label",uiOptions:{content:"APPEARANCE",properties:{"border-bottom":"1px solid white",color:"rgba( 255, 255, 255, 1 )","font-size":"16px"}}},{callback:this.setBackgroundColor,type:"colorPicker",uiOptions:{name:"Background Color"}},{callback:this.setBorderColor,type:"colorPicker",uiOptions:{name:"Stroke Color"}},{callback:this.setBorderRadius,type:"slider",uiOptions:{range:[0,100],name:"BORDER RADIUS"}}]}var o=t("./SpringButton");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.setPeriod=function(t){this.setOptions({period:t})},s.prototype.setDamping=function(t){this.setOptions({dampingRatio:t})},s.prototype.setBackgroundColor=function(t){this.surface.setProperties({"background-color":t.getCSSColor()})},s.prototype.setBorderColor=function(t){this.surface.setProperties({border:"1px solid "+t.getCSSColor()})},s.prototype.setBorderRadius=function(t){this.surface.setProperties({"border-radius":t+"px"})},e.exports=s}),define("famous-ui/ColorPicker/ColorButton",["require","exports","module","famous/EventHandler","famous-surfaces/CanvasSurface"],function(t,i,e){function s(t,i){this.size=t,this.canvasSize=[2*this.size[0],2*this.size[1]],o.call(this,{size:this.size,canvasSize:this.canvasSize}),this.color=i,this.colorSurface(this.color.getHex())}var o=(t("famous/EventHandler"),t("famous-surfaces/CanvasSurface"));s.prototype=Object.create(o.prototype),s.prototype.colorSurface=function(t){var i=this.getContext("2d");i.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),i.fillStyle=t,i.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])},e.exports=s}),define("famous-ui/ColorPicker/CanvasPicker",["require","exports","module","famous/Surface","famous-surfaces/CanvasSurface","famous/Transform","famous/EventHandler","famous/Modifier","famous-utils/Utils","famous-color/Color","famous/Engine","famous-animation/Easing","./ColorButton","famous/View"],function(t,i,e){function s(t,i,e){w.call(this,e),this.eventInput.pipe(this.eventOutput),this.size=t,this.color=i.clone(),this.name=name,this.pos=[],this._dirty=!0,this.canvasSize=[2*this.size[0],2*this.size[1]],this._selectedCoords=[g.map(this.options.pickerPosX,0,1,0,this.size[0]-1,!0),g.map(this.options.pickerPosY,0,1,0,this.size[1]-1,!0)],this.gradient=new d({size:[this.size[0],this.size[0]],canvasSize:[2*this.size[0],2*this.size[0]]});var s=n.call(this,this.size[0]*this.options.pickerPosX,this.size[1]*this.options.pickerPosY);this.pickerTransform=new v({transform:m.translate(s[0],s[1],0)}),this.picker=this.options.colorPicker?new b(this.options.pickerSize,this.color):new f({size:this.options.pickerSize,classes:["ui-color-picker"]}),this.picker.setProperties(this.options.pickerProperties),this._mousemove=u.bind(this),this._mouseup=h.bind(this),this.gradient.on("mousedown",r.bind(this)),this.picker.on("mousedown",r.bind(this)),this.gradient.on("touchstart",a.bind(this)),this.picker.on("touchstart",a.bind(this)),this.gradient.on("touchmove",c.bind(this)),this.picker.on("touchmove",c.bind(this)),this.gradient.on("click",p),this.picker.on("click",p),this.on("updatePosition",this.updateColor.bind(this)),this.on("updatePosition",o.bind(this)),this.node.add(this.pickerTransform).link(this.picker),this.node.add(this.gradient)}function o(t){var i=n.call(this,this._selectedCoords[0],this._selectedCoords[1]);this.options.railsY&&(i[1]=0),this.pickerTransform.halt(),t.shouldAnimate?this.pickerTransform.setTransform(m.translate(i[0],i[1],this.options.pickerZ),this.options.transition):this.pickerTransform.setTransform(m.translate(i[0],i[1],this.options.pickerZ))}function n(t,i){var e=.5*this.options.pickerSize[0];return[g.map(t,0,this.size[0],-e,this.size[0]-e,!0),this.options.railsY?0:g.map(i,0,this.size[1],-e,this.size[1]-e,!0)]}function r(t){t.preventDefault(),t.stopPropagation(),this._dirty=!0,l.call(this,t,!0),y.on("mousemove",this._mousemove),y.on("mouseup",this._mouseup)}function a(t){this._dirty=!0,t.preventDefault(),t.stopPropagation(),l.call(this,t.touches[0])}function u(t){t.preventDefault(),t.stopPropagation(),l.call(this,t)}function h(t){t.preventDefault(),t.stopPropagation(),y.unbind("mousemove",this._mousemove),y.unbind("mouseup",this._mouseup)}function c(t){t.preventDefault(),t.stopPropagation(),l.call(this,t.touches[0])}function p(t){t.preventDefault(),t.stopPropagation()}function l(t,i){this._dirty&&(this.pos=g.getSurfacePosition(this.gradient),this._dirty=!1),this._selectedCoords=[g.clamp(t.pageX-this.pos[0],0,this.size[0]-1),g.clamp(t.pageY-this.pos[1],0,this.size[1]-1)],this.emit("updatePosition",{shouldAnimate:i})}var f=t("famous/Surface"),d=t("famous-surfaces/CanvasSurface"),m=t("famous/Transform"),v=(t("famous/EventHandler"),t("famous/Modifier")),g=t("famous-utils/Utils"),y=(t("famous-color/Color"),t("famous/Engine")),S=t("famous-animation/Easing"),b=t("./ColorButton"),w=t("famous/View");
s.prototype=Object.create(w.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={pickerSize:[4,25],transition:{curve:S.inSineNorm,duration:50},pickerPosX:0,pickerPosY:0,pickerZ:2,railsY:!1,pickerProperties:{},colorPicker:!1},s.prototype.drawGradient=function(){},s.prototype.getColor=function(){return this.color},s.prototype.getSize=function(){return this.size},s.prototype.updateColor=function(){var t=this.gradient.getContext("2d"),i=t.getImageData(2*this._selectedCoords[0],2*this._selectedCoords[1],1,1).data;this.color.setFromRGBA(i[0],i[1],i[2]),this.emit("change",{value:this.color})},e.exports=s}),define("famous-ui/Easing/CanvasDrawer",["require","exports","module"],function(t,i,e){function s(t,i,e,s,o){t.beginPath(),t.moveTo(i,e),t.lineTo(s,o),t.stroke(),t.closePath()}function o(t,i,e,s,o){t.beginPath(),t.rect(i,e,s,o),t.fill(),t.closePath()}e.exports={lineTo:s,rect:o}}),define("famous-ui/ColorPicker/AlphaPicker",["require","exports","module","famous/Surface","famous-color/Color","./CanvasPicker","famous-ui/Easing/CanvasDrawer"],function(t,i,e){function s(t,i,e){var s=e||[35,35];r.call(this,t,i,{railsY:!0,pickerProperties:{border:"3px solid white",borderRadius:t[0]/2+"px",boxShadow:"0px 1px 0px #888",marginTop:"2px"},pickerPosX:i.a,pickerSize:s,colorPicker:!0,normalizedColors:!0}),this.alpha=this.color.a,this.backgroundCanvas=n.call(this),this.drawGradient(),this.on("change",this.drawPickerColor.bind(this)),this.pickerColor}function o(t,i,e,s){colorAlpha=s.substring(0,s.length-2);var o=t.createLinearGradient(this.canvasSize[0]*i[0],this.canvasSize[1]*i[1],this.canvasSize[0]*e[0],this.canvasSize[1]*e[1]);o.addColorStop(0,colorAlpha+"0)"),o.addColorStop(1,colorAlpha+"1)"),t.fillStyle=o,t.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])}function n(){var t=document.createElement("canvas");t.width=this.canvasSize[0],t.height=this.canvasSize[1];var i=t.getContext("2d");i.fillStyle="#ffffff",a.rect(i,0,0,this.canvasSize[0],this.canvasSize[1]),i.fillStyle="#cccccc";for(var e=16,s=2,o=height=this.canvasSize[0]/e,n=0;e>n;n++)for(var r=0;s>r;r++)n%2==0&&r%2==0?a.rect(i,o*n,r*height,o,height):n%2==1&&r%2==1&&a.rect(i,o*n,r*height,o,height);return t}var r=(t("famous/Surface"),t("famous-color/Color"),t("./CanvasPicker")),a=t("famous-ui/Easing/CanvasDrawer");s.prototype=Object.create(r.prototype),s.prototype.drawPickerColor=function(t){this.picker.colorSurface(t.value.getCSSColor())},s.prototype.setColor=function(t){this.color=t,this.drawGradient(),this.drawPickerColor({value:this.color})},s.prototype.drawGradient=function(){var t=this.gradient.getContext("2d");t.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),t.drawImage(this.backgroundCanvas,0,0);var i=this.color.clone();i.a=0,o.call(this,t,[0,0],[1,1],i.getCSSColor())},s.prototype.updateColor=function(){var t=parseFloat((this._selectedCoords[0]/this.size[0]).toFixed(2));this.color.a=t,this.emit("change",{value:this.color})},e.exports=s}),define("famous-ui/ColorPicker/GradientPicker",["require","exports","module","famous-color/Color","./CanvasPicker"],function(t,i,e){function s(t,i){var e=i.getSaturation()/100,s=i.getBrightness()/100;i.setSaturation(100),n.call(this,t,i,{pickerSize:[26,26],pickerProperties:{borderRadius:"13px",border:"1px solid white"},pickerPosX:e,pickerPosY:1-s}),this.drawGradient(this.color.getCSSColor())}function o(t,i,e,s,o){var n=t.createLinearGradient(this.canvasSize[0]*s[0],this.canvasSize[1]*s[1],this.canvasSize[0]*o[0],this.canvasSize[1]*o[1]);n.addColorStop(0,i),n.addColorStop(1,e),t.fillStyle=n,t.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])}var n=(t("famous-color/Color"),t("./CanvasPicker"));s.prototype=Object.create(n.prototype),s.prototype.drawGradient=function(t){var i=this.gradient.getContext("2d");i.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),o.call(this,i,"rgba(255, 255, 255, 1)",t,[0,.5],[1,.5]),o.call(this,i,"rgba(0, 0, 0, 1)","rgba(0, 0, 0, 0)",[.5,1],[.5,0]),this.updateColor()},e.exports=s}),define("famous-ui/ColorPicker/HuePicker",["require","exports","module","famous-color/Color","./CanvasPicker"],function(t,i,e){function s(t,i,e){var s=new n,o=i.getHue();s.setFromHSL(o,100,50);var a=e||[35,35];r.call(this,t,s,{railsY:!0,pickerProperties:{border:"2px solid white",borderRadius:t[0]/2+"px",boxShadow:"0px 1px 0px #888",marginTop:"2px"},pickerPosX:1-o/360,pickerSize:a,colorPicker:!0,normalizedColors:!0}),this.drawGradient(this.color.getCSSColor()),this.on("change",this.drawPickerColor.bind(this)),this.pickerColor}function o(t,i,e){var s=t.createLinearGradient(this.canvasSize[0]*i[0],this.canvasSize[1]*i[1],this.canvasSize[0]*e[0],this.canvasSize[1]*e[1]);s.addColorStop(0,"rgb(255,   0,   0)"),s.addColorStop(.16,"rgb(255,   0, 255)"),s.addColorStop(.33,"rgb(0,     0, 255)"),s.addColorStop(.5,"rgb(0,   255, 255)"),s.addColorStop(.67,"rgb(0,   255,   0)"),s.addColorStop(.83,"rgb(255, 255,   0)"),s.addColorStop(1,"rgb(255,   0,   0)"),t.fillStyle=s,t.fillRect(0,0,this.canvasSize[0],this.canvasSize[1])}var n=t("famous-color/Color"),r=t("./CanvasPicker");s.prototype=Object.create(r.prototype),s.prototype.drawPickerColor=function(t){this.pickerColor!==t.value.hex&&(this.picker.colorSurface(t.value.hex),this.pickerColor=t.value.hex)},s.prototype.drawGradient=function(){var t=this.gradient.getContext("2d");t.clearRect(0,0,this.canvasSize[0],this.canvasSize[1]),o.call(this,t,[0,.5],[1,.5])},e.exports=s}),define("famous-ui/ColorPicker/ColorPicker",["require","exports","module","famous/Surface","famous-surfaces/CanvasSurface","famous/Transform","famous/EventHandler","famous/Modifier","famous-transitions/Transitionable","famous-utils/Utils","famous-color/Color","famous/View","famous/Engine","famous-animation/Easing","famous-utils/Time","./GradientPicker","./HuePicker","./AlphaPicker","./ColorButton"],function(t,i,e){function s(){f.apply(this,arguments),this.color=this.options.defaultColor,this.sizeState=new p([0,0]),this.visible=!1,this.boundListener=!1,this._closeListen=this.hide.bind(this)}function o(t){var i=t.value.getCSSColor();this.gradientPicker.drawGradient(i),a.call(this)}function n(){a.call(this)}function r(){a.call(this)}function a(){var t=this.gradientPicker.getColor();this.options.useAlpha&&(t.a=this.alphaPicker.getColor().a,this.alphaPicker.setColor(t)),this.color=t,u.call(this,{value:this.color}),this.eventOutput.emit("change",{value:this.color})}function u(t){var i=t.value.getCSSColor();this.openingSurface.colorSurface(i)}var h=(t("famous/Surface"),t("famous-surfaces/CanvasSurface"),t("famous/Transform")),c=(t("famous/EventHandler"),t("famous/Modifier")),p=t("famous-transitions/Transitionable"),l=(t("famous-utils/Utils"),t("famous-color/Color")),f=t("famous/View"),d=t("famous/Engine"),m=t("famous-animation/Easing"),v=(t("famous-utils/Time"),t("./GradientPicker")),g=t("./HuePicker"),y=t("./AlphaPicker"),S=t("./ColorButton");s.prototype=Object.create(f.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={transition:{curve:m.inOutBackNorm,duration:400},hueSize:30,pickerSize:[25,25],size:void 0,defaultColor:new l(80,255,255),name:"",useAlpha:!0,padding:5},s.prototype.init=function(){this.defaultPositions={gradientPicker:h.translate(0,this.options.size[1],1),huePicker:h.translate(0,this.options.size[1]+this.options.size[0],1),alphaPicker:h.translate(0,2*this.options.size[1]+this.options.size[0]+3*this.options.padding,1)},this.gradientPicker=new v([this.options.size[0],this.options.size[0]],this.color),this.gradientTransform=new c({transform:this.defaultPositions.gradientPicker}),this.huePicker=new g([this.options.size[0],this.options.hueSize],this.color,this.options.pickerSize),this.hueTransform=new c({transform:this.defaultPositions.huePicker}),this.openingSurface=new S(this.options.size,this.color,this.options.name),this.openingTransform=new c,this.node.add(this.hueTransform).link(this.huePicker),this.node.add(this.openingTransform).link(this.openingSurface),this.node.add(this.gradientTransform).link(this.gradientPicker),this.openingSurface.on("click",this.togglePicker.bind(this)),this.huePicker.on("change",o.bind(this)),this.gradientPicker.on("change",n.bind(this)),this.on("change",u.bind(this)),this.options.useAlpha&&(this.alphaPicker=new y([this.options.size[0],this.options.hueSize],this.color,this.options.pickerSize),this.alphaTransform=new c({transform:this.defaultPositions.alphaPicker}),this.node.add(this.alphaTransform).link(this.alphaPicker),this.alphaPicker.on("change",r.bind(this))),this.hide()},s.prototype.set=function(){},s.prototype.get=function(){return this.color},s.prototype.togglePicker=function(){0==this.visible?this.show():this.hide()},s.prototype.hide=function(){this.visible=!1;var t=h.multiply(h.scale(1,1e-7),this.defaultPositions.gradientPicker);this.hueTransform.halt(),this.hueTransform.setOpacity(0,this.options.transition),this.hueTransform.setTransform(t,this.options.transition),this.gradientTransform.halt(),this.gradientTransform.setOpacity(0,this.options.transition),this.gradientTransform.setTransform(t,this.options.transition),this.options.useAlpha&&(this.alphaTransform.halt(),this.alphaTransform.setOpacity(0,this.options.transition),this.alphaTransform.setTransform(t,this.options.transition)),this.sizeState.set([this.options.size[0],this.options.size[1]],this.options.transition),1==this.boundListener&&this.unbindClickClose()},s.prototype.show=function(){this.emit("showing"),this.visible=!0,this.hueTransform.halt(),this.hueTransform.setOpacity(1,this.options.transition),this.hueTransform.setTransform(this.defaultPositions.huePicker,this.options.transition),this.gradientTransform.halt(),this.gradientTransform.setOpacity(1,this.options.transition),this.gradientTransform.setTransform(this.defaultPositions.gradientPicker,this.options.transition),this.options.useAlpha?(this.alphaTransform.halt(),this.alphaTransform.setOpacity(1,this.options.transition),this.alphaTransform.setTransform(this.defaultPositions.alphaPicker,this.options.transition),this.sizeState.set([this.options.size[0],this.gradientPicker.getSize()[1]+this.huePicker.getSize()[1]+this.openingSurface.getSize()[1]+this.alphaPicker.getSize()[1]],this.options.transition)):this.sizeState.set([this.options.size[0],this.gradientPicker.getSize()[1]+this.huePicker.getSize()[1]+this.openingSurface.getSize()[1]],this.options.transition),d.defer(this.bindClickClose.bind(this))},s.prototype.setSize=function(t){this.options.size=t},s.prototype.getSize=function(){return this.options.size?this.sizeState.get():void 0},s.prototype.bindClickClose=function(){d.on("click",this._closeListen),this.boundListener=!0},s.prototype.unbindClickClose=function(){d.unbind("click",this._closeListen),this.boundListener=!1},s.prototype.render=function(){return{size:this.sizeState.get(),target:this.node.render()}},e.exports=s}),define("famous-ui/Dropdown/DropdownItem",["require","exports","module","famous/View","famous/Transform","famous/Modifier","famous/Surface","famous-animation/Easing","famous-utils/Utils","famous-views/Scrollview"],function(t,i,e){function s(t,i,e){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.value=i,this._isSelected=e||!1,this._styleType,this.options.itemContent.unshift(this.options.name),this.surface=new u({size:this.options.itemSize,content:this.options.template.apply(this,this.options.itemContent)}),this.transform=new a,o.call(this),this.surface.pipe(this),this.surface.on("click",this.emit.bind(this,"selection",{value:this.value,origin:this})),this.node.link(this.transform).link(this.surface)}function o(){this.transform.halt(),this._isSelected?(this.surface.setProperties(this.options.selectedProperties),this._styleType=!0,this.transform.setTransform(r.move(r.scale(.7,.7),[.125*this.options.itemSize[0],.125*this.options.itemSize[1]])),this.transform.setTransform(r.identity,this.options.squishCurve,this.emit.bind(this,"selectionEnd"))):(this.surface.setProperties(this.options.properties),this._styleType=!1,this.transform.getFinalTransform()!==r.identity&&this.transform.setTransform(r.identity))}{var n=t("famous/View"),r=t("famous/Transform"),a=t("famous/Modifier"),u=t("famous/Surface"),h=t("famous-animation/Easing");t("famous-utils/Utils"),t("famous-views/Scrollview")}s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={name:"Food",itemSize:[216,50],classes:[],properties:{color:"#ffffff","background-color":"#333",border:"1px solid #ccc"},selectedProperties:{},template:function(t){return'<h2 style="padding: 10px;">'+t+"</h2>"},defaultCurve:{curve:h.inOutBackNorm,duration:400},squishCurve:{curve:h.outBounceNorm,duration:400},itemContent:[]},s.prototype.setTemplate=function(){},s.prototype.setSelected=function(t){this._isSelected=t,o.call(this)},s.prototype.getSize=function(){return this.surface.getSize()},s.prototype.getName=function(){return this.options.name},e.exports=s}),define("famous-ui/Dropdown/Dropdown",["require","exports","module","famous/View","famous/Transform","famous/Modifier","famous-transitions/Transitionable","famous/Surface","famous-animation/Easing","famous-utils/Utils","famous-views/Scrollview","./DropdownItem","famous-surfaces/ContainerSurface"],function(t,i,e){function s(){f.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.options.scrollviewOpts.clipSize=this.options.height,this.label=void 0,this.defaultMtx=void 0,this.closedMtx=void 0,this.arrowClosedPos=void 0,this.arrowOpenPos=void 0,this.labelTemplate=void 0,this.itemTemplate=void 0,this.itemOpts=void 0,this.sizeState=new v([0,0]),this.items=[],this._isOpen=!1,this.initialized=!1}function o(){this.label=new g({content:this._getLabelContent(this.options.defaultSelected),size:this.options.itemSize}),this.label.setProperties(this.options.labelProperties),this.labelTransform=new m,this.node.add(this.labelTransform).link(this.label),this.label.on("click",this.toggleMenu.bind(this))}function n(){this.arrow=new g({size:this.options.arrowSize,content:this.options.arrowContent}),this.arrowTransform=new m({transform:this.arrowClosedPos}),this.node.add(this.arrowTransform).link(this.arrow)}function r(){this.scrollviewContainer=new w({size:[this.options.itemSize[0],this.options.height],properties:{overflow:"hidden"}}),this.scrollview=new S(this.options.scrollviewOpts),this.scrollview.sequenceFrom(this.items),this.scrollviewTransform=new m({transform:this.closedMtx,opacity:0,size:[this.options.itemSize[0],this.options.itemSize[1]]}),this.node.add(this.scrollviewTransform).link(this.scrollviewContainer),this.scrollviewContainer.add(this.scrollview)}function a(){for(var t=0;t<this.options.items.length;t++){var i=this.options.items[t];this.addItem(i.name,i.value,i.content)}this.value=this.items[this.options.defaultSelected].value}function u(t){var i=t?this.arrowOpenPos:this.arrowClosedPos;this.arrowTransform.setTransform(i,this.options.defaultCurve)}function h(t){var i=t?1:1e-6,e=t?[this.options.itemSize[0],this.options.height]:[this.options.itemSize[0],this.options.itemSize[1]],s=t?this.defaultMtx:this.closedMtx;this.scrollviewTransform.setOpacity(i,this.options.defaultCurve),this.scrollviewTransform.setTransform(s,this.options.defaultCurve),this.sizeState.set(e,this.options.defaultCurve)}function c(t){var i=this.items.indexOf(t.origin),e=this.items[i];e&&this.set(e.value,i)}function p(t){for(var i=0;i<this.items.length;i++)this.items[i].setSelected(t==i?!0:!1)}function l(t){for(var i=0;i<this.items.length;i++)if(this.items[i].value==t)return i;return-1}var f=t("famous/View"),d=t("famous/Transform"),m=t("famous/Modifier"),v=t("famous-transitions/Transitionable"),g=t("famous/Surface"),y=t("famous-animation/Easing"),S=(t("famous-utils/Utils"),t("famous-views/Scrollview")),b=t("./DropdownItem"),w=t("famous-surfaces/ContainerSurface");s.prototype=Object.create(f.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={items:[{name:"Apples",value:"apples"},{name:"Oranges",value:"oranges"}],defaultSelected:0,itemSize:void 0,labelProperties:{color:"#ffffff","background-color":"#333",border:"1px solid #ccc"},itemClasses:[],itemProperties:{color:"#ccc","background-color":"#fff",border:"1px solid #ccc"},itemSelectedProperties:{border:"3px solid #33ccff"},scrollviewOpts:{direction:1,clipSize:void 0},height:125,defaultCurve:{curve:y.inOutBackNorm,duration:500},labelFadeCurve:{curve:y.inOutSineNorm,duration:200},arrowSize:[20,20],arrowPadding:[5,10,1],arrowContent:'<img src="js/famous-ui/img/arrowRight.svg"></img>',itemTemplate:function(t){return'<h4 style="line-height:'+this.options.itemSize[1]+'px; padding-left: 10px;">'+t+"</h4>"},labelTemplate:function(t){return'<h3 style="line-height:'+this.options.itemSize[1]+'px; padding-left: 10px;">'+t+"</h3>"},autoClose:!1},s.prototype.init=function(){this.defaultMtx=d.translate(0,this.options.itemSize[1],0),this.closedMtx=d.move(d.scale(1,.01),[0,this.options.itemSize[1],0]),this.arrowClosedPos=d.translate(this.options.itemSize[0]-this.options.arrowSize[0]-this.options.arrowPadding[0],this.options.arrowPadding[1],this.options.arrowPadding[2]),this.arrowOpenPos=d.move(d.rotateZ(.5*Math.PI),[this.options.itemSize[0]-.25*this.options.arrowSize[0]-this.options.arrowPadding[0],this.options.arrowPadding[1],this.options.arrowPadding[2]]),this.options.itemTemplate=this.options.itemTemplate.bind(this),this.options.labelTemplate=this.options.labelTemplate.bind(this),this.itemOpts={itemSize:this.options.itemSize,itemProperties:this.options.itemProperties,selectedProperties:this.options.itemSelectedProperties,template:this.options.itemTemplate,classes:this.options.itemClasses},n.call(this),r.call(this),a.call(this),o.call(this),this.sizeState.set(this.options.itemSize),this.initialized=!0},s.prototype.addItem=function(t,i,e){var s=this.itemOpts;s.name=t,e&&(s.itemContent=e);var o=new b(s,i,!1);o.setTemplate(this.itemTemplate),o.transform.setOpacity(0),o.transform.setOpacity(1,this.options.defaultCurve),this.items.push(o),o.pipe(this.scrollview),o.on("selection",c.bind(this)),this.options.autoClose&&o.on("selectionEnd",this.closeMenu.bind(this))},s.prototype.openMenu=function(){this._isOpen=!0,u.call(this,this._isOpen),h.call(this,this._isOpen)},s.prototype.closeMenu=function(){this._isOpen=!1,u.call(this,this._isOpen),h.call(this,this._isOpen)},s.prototype.toggleMenu=function(){this._isOpen?this.closeMenu():this.openMenu()},s.prototype.get=function(){return this.value},s.prototype._getLabelContent=function(t){var i=this.items[t],e=i.options.itemContent,s=this.options.labelTemplate.apply(this,e);return s},s.prototype.set=function(t){var i=l.call(this,t),e=this.items[i];this.value=e.value,p.call(this,i);var s=this._getLabelContent(i);this.updateLabel(s),this.emit("change",{value:this.value})},s.prototype.setHeight=function(t){this.options.height=t,this.options.scrollviewOpts.clipSize=t,this.scrollview.options.clipSize=t,this.scrollviewContainer.setSize(this.options.itemSize[0],t)},s.prototype.removeItem=function(t){var i;"string"==typeof t?i=l.call(this,t):"number"==typeof t&&(i=t),-1!==i&&this.items[i].transform.setOpacity(0,this.options.defaultCurve,function(t){this.items.splice(t,1)}.bind(this,i))},s.prototype.updateLabel=function(t){var i=function(t){this.label.setContent(t),this.labelTransform.setOpacity(1,this.options.labelFadeCurve)};this.labelTransform.setOpacity(0,this.options.labelFadeCurve,i.bind(this,t))},s.prototype.setSize=function(t){this.options.itemSize=[t[0],2*t[1]]},s.prototype.getSize=function(){return this.initialized?this.sizeState.get():void 0},e.exports=s}),define("famous-ui/Easing/EasingVisualizer",["require","exports","module","famous-animation/Easing","famous-surfaces/CanvasSurface","./CanvasDrawer"],function(t,i,e){function s(t){this.opts={size:[1e3,1e3],strokeColor:"#33ccff",fillColor:"#333",fn:n.inOutBackNorm,divisions:30},this.setOpts(t),this.opts.canvasSize=[2*this.opts.size[0],2*this.opts.size[1]],this.opts.gutter=Math.floor(.35*this.opts.size[0]),r.call(this,{size:this.opts.size,canvasSize:this.opts.canvasSize}),this.update()}function o(){var t=document.createElement("canvas");t.width=this.opts.canvasSize[0],t.height=this.opts.canvasSize[1];var i=t.getContext("2d");i.strokeStyle=this.opts.strokeColor,i.lineWidth=2,i.fillStyle=this.opts.fillColor,a.rect(i,0,0,this.opts.canvasSize[0],this.opts.canvasSize[1]);for(var e=1/this.opts.divisions,s=this.opts.canvasSize[0]-this.opts.gutter,o=this.opts.canvasSize[1]-this.opts.gutter,n=.5*this.opts.gutter,r=1;r<this.opts.divisions;r++){var u=e*(r-1),h=e*r,c=u*s+n,p=h*s+n,l=o-this.opts.fn(u)*(o-this.opts.gutter),f=o-this.opts.fn(h)*(o-this.opts.gutter);a.lineTo(i,c,l,p,f)}return t}var n=t("famous-animation/Easing"),r=t("famous-surfaces/CanvasSurface"),a=t("./CanvasDrawer");s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.setOpts=function(t,i){i||(i=this.opts);for(var e in t)i[e]=t[e]},s.prototype.setCurve=function(t){this.opts.fn=t,this.update()},s.prototype.update=function(){var t=o.call(this),i=this.getContext("2d");i.drawImage(t,0,0)},e.exports=s}),define("famous-ui/Easing/EasingBool",["require","exports","module","./EasingVisualizer","famous/EventHandler"],function(t,i,e){function s(t,i){this.easingOpts={value:!1,selectedProperties:{border:"3px solid #33ccff"},normalProperties:{border:"none"}},n.apply(this,arguments),this.setOptions(i,this.easingOpts),this.on("click",this.toggle.bind(this)),o.call(this)}function o(){var t=this.easingOpts.value?this.easingOpts.selectedProperties:this.easingOpts.normalProperties;this.setProperties(t)}{var n=t("./EasingVisualizer");t("famous/EventHandler")}s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.silentSet=function(t){this.easingOpts.value=t,o.call(this)},s.prototype.toggle=function(){this.set(!this.value)},s.prototype.set=function(t){this.easingOpts.value=t,this.emit("boolChange",{value:this.easingOpts.value}),o.call(this)},e.exports=s}),define("famous-ui/Easing/MultiEasingToggle",["require","exports","module","./EasingBool","famous-animation/Easing","famous/View","famous/Modifier","famous/Transform"],function(t,i,e){function s(){u.apply(this,arguments),this.value=this.options.easingFns[this.options.defaultSelected],this.height=0,this.bools=[],this.initialized=!1}function o(){for(var t=this.options.easingFns.length,i=[],e=0,s=-1,o=0;t>o;o++)s=o%this.options.columns,0===s&&0!==o&&e++,i.push(c.translate(s*this.options.easingBoolSize[0],e*this.options.easingBoolSize[1],0)),o==t-1&&(this.options.size[1]=(e+1)*this.options.easingBoolSize[1]);return i}function n(t,i){for(var e=!i,s=0;s<this.bools.length;s++)this.bools[s].silentSet(s==t?i:e);this.value=this.options.easingFns[t],this.eventOutput.emit("change",{value:this.value})}var r=t("./EasingBool"),a=t("famous-animation/Easing"),u=t("famous/View"),h=t("famous/Modifier"),c=t("famous/Transform");s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={easingFns:[a.inOutBackNorm,a.outBounceNorm,a.inOutBackNorm,a.outBounceNorm],columns:3,size:void 0,panelSize:216,easingAspect:[1.25,1],defaultSelected:0,easingBoolSize:[void 0,void 0],selectedProperties:void 0,normalProperties:void 0},s.prototype.init=function(){for(var t=o.call(this),i=0;i<this.options.easingFns.length;i++){value=i==this.options.defaultSelected?!0:!1;var e={value:value};this.options.selectedProperties&&(e.selectedProperties=this.options.selectedProperties),this.options.normalProperties&&(e.normalProperties=this.options.normalProperties);var s=new r({fn:this.options.easingFns[i],size:this.options.easingBoolSize},e);s.on("boolChange",n.bind(this,i)),s.pipe(this.eventOutput),this.node.add(new h(t[i])).link(s),this.bools.push(s)}this.initialized=!0},s.prototype.set=function(t){var i=this.options.easingFns.indexOf(t);n.call(this,i,!0)},s.prototype.get=function(){return this.value},s.prototype.setSize=function(t){this.options.easingBoolSize[0]=Math.floor(t[0]/this.options.columns),this.options.easingBoolSize[1]=Math.floor(this.options.easingBoolSize[0]/this.options.easingAspect[0]),this.options.size=[],this.options.size[0]=t[0]},s.prototype.getSize=function(){return this.initialized?this.options.size:void 0},e.exports=s}),define("famous-ui/Text/Label",["require","exports","module","famous/Surface","famous/Engine","famous/EventHandler"],function(t,i,e){function s(t){this.options={size:void 0,content:"",properties:{},classes:["ui-label"]};for(var i in t)this.options[i]=t[i];this._resizeDirty,this.surface,this._checkHeight=o.bind(this)}function o(){this._resizeDirty&&this.surface._currTarget&&(this.options.size=[this.options.size[0],this.surface._currTarget.firstChild.clientHeight],this.surface.setSize(this.options.size),this._resizeDirty=!1)}var n=t("famous/Surface"),r=t("famous/Engine"),a=t("famous/EventHandler");s.prototype.init=function(){this.surface=new n({size:this.options.size,content:"<div>"+this.options.content+"</div>",classes:this.options.classes,properties:this.options.properties}),a.setInputHandler(this,this.surface),a.setOutputHandler(this,this.surface),this._setDirty()},s.prototype.setContent=function(t){this.options.content=t,this.surface.setContent("<div>"+this.options.content+"</div>")},s.prototype.setSize=function(t){this.options.size=[t[0],0],this._setDirty()},s.prototype._setDirty=function(){this._resizeDirty=!0,r.on("postrender",this._checkHeight)},s.prototype.getSize=function(){return this.options.size?this.options.size:void 0},s.prototype.render=function(){return this.surface.render()},e.exports=s}),define("famous-ui/Toggles/BoolToggle",["require","exports","module","famous/Surface","famous/Transform","famous/EventHandler","famous/Modifier","famous/Modifier","famous-animation/Easing","famous/RenderNode","famous-utils/Utils","famous/View"],function(t,i,e){function s(t){c.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.value=t.value,this.name=t.name}function o(){this.toggle()}function n(){this.transform.halt();var t=this.value?a.scale(1,1,1):a.move(a.scale(1e-4,1e-4,1e-4),[.5*this.options.size[1],.5*this.options.size[1],0]),i=this.value?1:0;this.transform.setTransform(t,this.options.transition),this.transform.setOpacity(i,this.options.transition)}var r=t("famous/Surface"),a=t("famous/Transform"),u=(t("famous/EventHandler"),t("famous/Modifier"),t("famous/Modifier")),h=t("famous-animation/Easing"),c=(t("famous/RenderNode"),t("famous-utils/Utils"),t("famous/View"));s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:void 0,value:!0,name:"bool toggle",transition:{duration:250,curve:h.inOutBackNorm},padding:20},s.prototype.init=function(){void 0==this.options.size&&(this.options.size=[void 0,void 0]);var t=1==this.options.value?1:0;this.label=new r({size:this.options.size,content:'<div style="border: 1px solid #ffffff; width:'+(this.options.size[1]-1)+"px; height: "+(this.options.size[1]-1)+'px; float: left;"></div><div class="slider-label" style="float: left; margin-left:'+.5*this.options.size[1]+"px;margin-top:"+.1*this.options.size[1]+'px">'+this.name+"</div>",properties:{fontSize:.75*this.options.size[1]+"px"}}),this.fill=new r({size:[this.options.size[1],this.options.size[1]],properties:{backgroundColor:"#ffffff"}}),this.transform=new u({opacity:t,transform:a.translate(0,0,1),size:[this.options.size[1],this.options.size[1]]}),this.labelTransform=new u({transform:a.translate(0,0,1)}),this.fill.pipe(this),this.label.pipe(this),this.on("click",o.bind(this)),this.node.add(this.transform).link(this.fill),this.node.add(this.labelTransform).link(this.label),this.set(this.options.value)},s.prototype.silentSet=function(t){this.value=t,n.call(this)},s.prototype.toggle=function(){this.set(!this.value)},s.prototype.set=function(t){this.value!==t&&(this.value=t,this.emit("change",{value:this.value}),n.call(this))},s.prototype.get=function(){return this.value},s.prototype.getSize=function(){return this.options.size},s.prototype.setSize=function(t){this.options.size=t},e.exports=s}),define("famous-ui/Toggles/MultiBoolToggle",["require","exports","module","famous/Surface","famous/RenderNode","famous/Transform","famous/Modifier","famous-transitions/Transitionable","famous/EventHandler","famous/View","famous-animation/Easing","./BoolToggle"],function(t,i,e){function s(){p.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.value,this.label,this.labelTransform,this.usingLabel=!1,this.bools=[],this.boolValues=[],this.transforms=[]}function o(){void 0!==this.options.name&&(this.label=new a({size:this.options.size,content:'<div class="slider-label" style="margin-top:'+.1*this.options.size[1]+'px">'+this.options.name+"</div>"}),this.label.setProperties({"font-size":.75*this.options.size[1]+"px"}),this.labelTransform=new h,this.transforms.push(this.labelTransform),this.usingLabel=!0,this.node.add(this.labelTransform).link(this.label),r.call(this))}function n(){for(var t=0;t<this.options.values.length;t++){var i=t==this.options.defaultSelected?!0:!1;i&&(this.value=this.options.values[t]),this._addToggle(i,this.options.values[t],!0)}}function r(){this.sizeState.halt();var t=this.transforms.length,i=t*this.options.size[1]+(t-1)*this.options.padding;this.sizeState.set([this.options.size[0],i],this.options.sizeTransition)}var a=t("famous/Surface"),u=(t("famous/RenderNode"),t("famous/Transform")),h=t("famous/Modifier"),c=t("famous-transitions/Transitionable"),p=(t("famous/EventHandler"),t("famous/View")),l=t("famous-animation/Easing"),f=t("./BoolToggle");s.prototype=Object.create(p.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:void 0,values:[],defaultSelected:0,name:void 0,padding:20,sizeTransition:{curve:l.inOutBackNorm,duration:400},opacityTransition:{curve:l.inOutBackNorm,duration:400}},s.prototype.init=function(){void 0==this.options.size&&(this.options.size=[void 0,void 0]),this.sizeState=new c([this.options.size[0],0]),o.call(this),n.call(this)},s.prototype.setSelectedToggle=function(t){for(var i=0;i<this.bools.length;i++)i==t?(this.bools[i].silentSet(!0),this.boolValues[i]=!0,this.value=this.options.values[i],this.emit("change",{value:this.options.values[i]})):(this.bools[i].silentSet(!1),this.boolValues[i]=!1)},s.prototype.set=function(t){var i=this.options.values.indexOf(t);this.setSelectedToggle(i)},s.prototype.get=function(){return this.value},s.prototype._addToggle=function(t,i,e){var s=this.transforms.length,o=new f({size:this.options.size,value:t,name:i});o.init(),o.pipe(this),e||this.options.values.push(i);var n=new h({transform:u.translate(0,this.options.size[1]*s+this.options.padding*s),opacity:0});n.setOpacity(1,this.options.opacityTransition),this.bools.push(o),this.transforms.push(n),this.node.add(n).link(o),o.silentSet(t),this.boolValues.push(t),o.on("change",function(t){1==this.boolValues[t]?this.bools[t].silentSet(!0):this.setSelectedToggle(t)}.bind(this,this.usingLabel?s-1:s)),r.call(this)},s.prototype.getSize=function(){return this.sizeState?this.sizeState.get():void 0},s.prototype.setSize=function(t){this.options.size=t},s.prototype.removeToggle=function(t){var i,e;"number"==typeof t?i=t:"string"==typeof t&&(i=this.options.values.indexOf(t)),i>=0&&(e=this.usingLabel?i+1:i,this.transforms[e].setOpacity(0,this.options.sizeTransition,function(t,i){this.branches.splice(i,1),this.bools.splice(t,1),this.options.values.splice(t,1),this.transforms.splice(i,1),r.call(this)}.bind(this,i,e)))},e.exports=s}),define("famous-ui/PanelScrollview",["require","exports","module","famous-views/Scrollview"],function(t,i,e){function s(t){this.panelOpts=Object.create(s.DEFAULT_OPTIONS),t&&this.setPanelOptions(t),n.call(this,this.panelOpts.scrollviewOptions),this.uiItems=[],this._sequenced=!1}function o(t){this.uiItems.push(t),this._sequenced===!1&&(this.sequenceFrom(this.uiItems),this._sequenced=!0),void 0===t.getSize()&&t.setSize&&t.setSize([this.panelOpts.width,this.panelOpts.sliderHeight]),t.init&&t.init(),t.pipe&&t.pipe(this)}var n=t("famous-views/Scrollview");s.DEFAULT_OPTIONS={scrollviewOptions:{direction:"y",itemSpacing:8},width:256,sliderHeight:16},s.prototype=Object.create(n.prototype),s.prototype.setPanelOptions=function(t){for(var i in s.DEFAULT_OPTIONS)void 0!==t[i]&&(this.panelOpts[i]=t[i])
},s.prototype.reset=function(){this.uiItems=[],this._sequenced=!1},s.prototype.add=function(t){if(t instanceof Array)for(var i=0;i<t.length;i++)o.call(this,t[i]);else o.call(this,t)},e.exports=s}),define("famous-ui/Slider",["require","exports","module","famous/Surface","famous/Transform","famous/EventHandler","famous-utils/Utils","famous/Engine","famous/View"],function(t,i,e){function s(){S.apply(this,arguments),this.eventInput.pipe(this.eventOutput),void 0===this.options.defaultValue&&(this.options.defaultValue=.5*(this.options.range[0]+this.options.range[1])),this.pos=[],this.value=this.options.defaultValue,this._dirty=!0,this.currTouchId=null}function o(t){t.preventDefault(),t.stopPropagation()}function n(t){if(o(t),!this.currTouchId){var i=t.changedTouches[0];this.currTouchId=i.identifier,this._handleStart(i)}}function r(t){o(t),y.on("mousemove",this._mouseMove),y.on("mouseup",this._mouseUp),y.on("mouseout",this._mouseLeave),this._handleStart(t)}function a(t){this._dirty&&(this.pos=g.getSurfacePosition(this.back),this._dirty=!1),this.set(g.map((t.pageX-this.pos[0])/this.options.size[0],0,1,this.options.range[0],this.options.range[1],!0))}function u(t){o(t);for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i];if(e.identifier==this.currTouchId){this._handleMove(e);break}}}function h(t){o(t),this._handleMove(t)}function c(t){this.set(g.map((t.pageX-this.pos[0])/this.options.size[0],0,1,this.options.range[0],this.options.range[1],!0))}function p(t){o(t);for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier==this.currTouchId){this.currTouchId=void 0;break}}function l(t){o(t),this._endMouse()}function f(t){var i=t.relatedTarget||t.toElement;i&&"HTML"!=i.nodeName||this._endMouse()}function d(){return this.options.name+" <span class='slider-value' style='float:right'>"+this.value+"</span>"}var m=t("famous/Surface"),v=t("famous/Transform"),g=(t("famous/EventHandler"),t("famous-utils/Utils")),y=t("famous/Engine"),S=t("famous/View");s.prototype=Object.create(S.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:void 0,range:[0,10],defaultValue:void 0,precision:void 0,name:"Slider",backOpacity:1},s.prototype.init=function(){this.fill=new m({size:this.options.size,classes:["slider-fill","no-user-select"]}),this.back=new m({size:this.options.size,classes:["slider-back","no-user-select"]}),this.backTransform=v.translate(0,0,1),this.label=new m({size:this.options.size,classes:["slider-label","no-user-select"],properties:{fontSize:.75*this.options.size[1]+"px",lineHeight:this.options.size[1]+"px"},content:d.call(this)}),this.labelTransform=v.translate(0,this.options.size[1],1.2),this.back.pipe(this),this.label.pipe(this),this.fill.pipe(this),this.on("touchstart",n.bind(this)),this.on("touchmove",u.bind(this)),this.on("touchend",p.bind(this)),this.on("touchcancel",p.bind(this)),this.on("mousedown",r.bind(this)),this.on("mousedown",r.bind(this)),this._mouseMove=h.bind(this),this._mouseUp=l.bind(this),this._mouseLeave=f.bind(this),this._handleStart=a.bind(this),this._handleMove=c.bind(this),this._add(this.fill),this._add(this.back),this._add(this.label)},s.prototype._endMouse=function(){y.unbind("mousemove",this._mouseMove),y.unbind("mouseup",this._mouseUp),y.unbind("mouseout",this._mouseLeave)},s.prototype.get=function(){return this.value},s.prototype.getRange=function(){return this.options.range},s.prototype.setSize=function(t){this.options.size=t},s.prototype.getSize=function(){return this.options.size?[this.options.size[0],2*this.options.size[1]]:void 0},s.prototype.set=function(t){return void 0!==this.options.precision&&(t=parseFloat(t.toFixed(this.options.precision))),this.value=Math.min(Math.max(this.options.range[0],t),this.options.range[1]),this.setLabelContent(),this.emit("change",{value:this.get(),range:this.range}),this},s.prototype.setLabelContent=function(){this.label.setContent(d.call(this))},s.prototype.render=function(){var t=(this.get()-this.options.range[0])/(this.options.range[1]-this.options.range[0]);return[{transform:this.backTransform,opacity:this.options.backOpacity,target:this.back.render()},{transform:v.move(v.scale(t,1,1),[0,0,2]),target:this.fill.render()},{transform:this.labelTransform,target:this.label.render()}]},e.exports=s}),define("famous-ui/AutoUI",["require","exports","module","famous/View","famous/Transform","famous/Modifier","famous-animation/Easing","famous-ui/PanelScrollview","famous-ui/Toggles/BoolToggle","famous-ui/Toggles/MultiBoolToggle","famous-ui/Easing/MultiEasingToggle","famous-ui/Dropdown/Dropdown","famous-ui/Slider","famous-ui/ColorPicker/ColorPicker","famous-ui/Text/Label"],function(t,i,e){function s(){n.apply(this,arguments),this.eventInput.pipe(this.eventOutput),this.panel=new u(this.options.panelOptions),this.pipe(this.panel),this.autoUIElements=[],this.autoUIElementsMap={},this.panelModifier=new a({transform:this.options.defaultTransform}),this._add(this.panelModifier).link(this.panel),this.options.defaultSelected&&this.setCurrentObject(this.options.defaultSelected)}function o(t){for(var i=0;i<t.length;i++){var e=t[i];e.type&&this._optionToUI(e)}}var n=t("famous/View"),r=t("famous/Transform"),a=t("famous/Modifier"),u=(t("famous-animation/Easing"),t("famous-ui/PanelScrollview")),h=t("famous-ui/Toggles/BoolToggle"),c=t("famous-ui/Toggles/MultiBoolToggle"),p=t("famous-ui/Easing/MultiEasingToggle"),l=t("famous-ui/Dropdown/Dropdown"),f=t("famous-ui/Slider"),d=t("famous-ui/ColorPicker/ColorPicker"),m=t("famous-ui/Text/Label"),v=0;s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={saveValues:!1,panelOptions:{},defaultSelected:void 0,defaultTransform:r.translate(0,0)},s.UI_ELEMENTS={slider:f,dropdown:l,colorPicker:d,toggle:h,multiBoolToggle:c,easing:p,label:m},s.prototype.setCurrentObject=function(t,i){t!==this.currentObj&&(this.currentObject=t,i=i?i:t.autoUI,o.call(this,i))},s.prototype.setScrollviewOptions=function(t){return this.panel.setOptions(t)},s.prototype.toJSON=function(){for(var t=0;t<this.autoUIElements.length;t++);},s.prototype.reset=function(){this.panel.reset(),this.autoUIElements=[],this.autoUIElementsMap={}},s.prototype.getSize=function(){return[this.panel.panelOpts.width,void 0]},s.prototype.clear=function(t){this.reset(),t&&t()},s.prototype._optionToUI=function(t){var i=s.UI_ELEMENTS[t.type],e=new i(t.uiOptions);if(this.panel.add(e),this.autoUIElements.push(e),this.autoUIElementsMap[t.key]?this.autoUIElementsMap[t.key+v++]=e:this.autoUIElementsMap[t.key]=e,t.key){var o=t.object?t.object:this.currentObject;e.on("change",function(t,i,e){this.optionsManager?this.optionsManager.set(t,e.value):void 0!==this.setOptions?this.setOptions({key:e.value}):this.options[t]&&(this.options[t]=e.value),i&&i.call(this,e.value)}.bind(o,t.key,t.callback))}else t.callback&&e.on("change",function(t,i){t.call(this,i.value)}.bind(this.currentObject,t.callback))},s.prototype.getUIElementsMap=function(){return this.autoUIElementsMap},s.prototype.get=function(t){return this.autoUIElementsMap[t]},e.exports=s}),define("famous-utilities/Color",["require","exports","module"],function(t,i,e){function s(t,i,e,o){t instanceof s?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.hex=t.getHex()):"string"==typeof t?"#"==t[0]?this.setFromHex(t):this.setFromRGBAString(t):(this.r="undefined"==typeof t?255:t,this.g="undefined"==typeof i?255:i,this.b="undefined"==typeof e?255:e,this.a="undefined"==typeof o?1:o,this.hex=this.getHex())}function o(t,i,e){return 0>e&&(e+=1),e>1&&(e-=1),1/6>e?t+6*(i-t)*e:.5>e?i:2/3>e?t+(i-t)*(2/3-e)*6:t}s.prototype.getHue=function(){var t=this.r/255,i=this.g/255,e=this.b/255,s=Math.max(t,i,e),o=Math.min(t,i,e),n=0,r=s-o;switch(s){case t:n=(i-e)/r+(e>i?6:0);break;case i:n=(e-t)/r+2;break;case e:n=(t-i)/r+4}return n*=60,isNaN(n)&&(n=0),n},s.prototype.getSaturation=function(){var t,i=this.r/255,e=this.g/255,s=this.b/255,o=Math.max(i,e,s),n=Math.min(i,e,s),r=(o+n)/2;if(o==n)h=t=0;else{var a=o-n;switch(t=r>.5?a/(2-o-n):a/(o+n),o){case i:h=(e-s)/a+(s>e?6:0);break;case e:h=(s-i)/a+2;break;case s:h=(i-e)/a+4}h*=60}return 100*t},s.prototype.getBrightness=function(){var t=this.r/255,i=this.g/255,e=this.b/255;return 100*Math.max(t,i,e)},s.prototype.getLightness=function(){var t=this.r/255,i=this.g/255,e=this.b/255;return(Math.max(t,i,e)+Math.min(t,i,e))/2*100},s.prototype.getHex=function(){function t(t){var i=t.toString(16);return 1===i.length?"0"+i:i}return"#"+t(this.r)+t(this.g)+t(this.b)},s.prototype.getHSL=function(){var t,i,e=this.r/255,s=this.g/255,o=this.b/255,n=Math.max(e,s,o),r=Math.min(e,s,o),a=(n+r)/2;if(n==r)t=i=0;else{var u=n-r;switch(i=a>.5?u/(2-n-r):u/(n+r),n){case e:t=(s-o)/u+(o>s?6:0);break;case s:t=(o-e)/u+2;break;case o:t=(e-s)/u+4}t*=60}return[t,100*i,100*a]},s.prototype.setFromHSL=function(t,i,e){t/=360,i/=100,e/=100;var s,n,r;if(0===i)s=n=r=e;else{var a=.5>e?e*(1+i):e+i-e*i,u=2*e-a;s=o(u,a,t+1/3),n=o(u,a,t),r=o(u,a,t-1/3)}return this.r=Math.round(255*s),this.g=Math.round(255*n),this.b=Math.round(255*r),this.hex=this.getHex(),this},s.prototype.setFromHex=function(t){return t="#"===t.charAt(0)?t.substring(1,t.length):t,3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),this.hex="#"+t,this.r=parseInt(t.substring(0,2),16),this.g=parseInt(t.substring(2,4),16),this.b=parseInt(t.substring(4,6),16),void 0==this.a&&(this.a=1),this},s.prototype.setFromRGBA=function(t,i,e,s){return this.r=t,this.g=i,this.b=e,s&&(this.a=s),this.hex=this.getHex(),this},s.prototype.setHue=function(t){var i=this.getHSL();return this.setFromHSL(t,i[1],i[2])},s.prototype.setSaturation=function(t){var i=this.getHSL();return this.setFromHSL(i[0],t,i[2])},s.prototype.setLightness=function(t){var i=this.getHSL();return this.setFromHSL(i[0],i[1],t)},s.prototype.getCSSColor=function(){return"rgba("+Math.floor(this.r)+","+Math.floor(this.g)+","+Math.floor(this.b)+","+this.a+")"},s.prototype.get=function(){return this.getCSSColor()},s.prototype.setFromRGBAString=function(t){var i=t.match(/\(([^()]+)\)/g);if(i){i=i[0],i=i.substring(1,i.length-1);for(var e=i.split(","),s=0;s<e.length;s++)e[s]=parseFloat(e[s]);return this.setFromRGBA(e[0],e[1],e[2],e[3])}},s.prototype.clone=function(){return new s(this.r,this.g,this.b,this.a)},s.prototype.toNormalizeColorArray=function(){return[this.r/255,this.g/255,this.b/255,this.a]},s.prototype.lerp=function(t,i){var e=this.getHSL(),o=t.getHSL(),n=e[0]+(o[0]-e[0])*i,r=e[1]+(o[1]-e[1])*i,a=e[2]+(o[2]-e[2])*i,u=new s;return u.setFromHSL(n,r,a),u},e.exports=s}),define("famous-utilities/KeyCodes",["require","exports","module"],function(t,i,e){var s={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,ENTER:13,LEFT_ARROW:37,RIGHT_ARROW:39,UP_ARROW:38,DOWN_ARROW:40,SPACE:32,SHIFT:16,TAB:9};e.exports=s}),define("famous-utilities/Timer",["require","exports","module","famous/Engine"],function(t,i,e){function s(t){return c.on(p,t),t}function o(t,i){var e=l(),o=function(){var s=l();s-e>=i&&(t.apply(this,arguments),c.unbind(p,o))};return s(o)}function n(t,i){var e=l(),o=function(){var s=l();s-e>=i&&(t.apply(this,arguments),e=l())};return s(o)}function r(t,i){if(void 0!==i){var e=function(){i--,0>=i&&(t.apply(this,arguments),u(e))};return s(e)}}function a(t,i){i=i||1;var e=i,o=function(){i--,0>=i&&(t.apply(this,arguments),i=e)};return s(o)}function u(t){c.unbind(p,t)}function h(t,i){var e,s,n,r,a;return function(){s=this,a=arguments,n=l();var u=function(){var h=l-n;i>h?e=o(u,i-h):(e=null,r=t.apply(s,a))};return e||(e=o(u,i)),r}}var c=t("famous/Engine"),p="prerender",l=window.performance?function(){return performance.now()}:function(){return Date.now()};e.exports={setTimeout:o,setInterval:n,debounce:h,after:r,every:a,clear:u}}),define("famous-utils/FormatTime",["require","exports","module"],function(t,i,e){function s(t,i){var e=t.toString().match(/(\d+)/g),s=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5],0),r=new Date,a=.001*(r.getTime()-s.getTime()),u=parseInt(a/60,10),h=parseInt(u/60,10),c=parseInt(h/24,10),p=o(s),l=10,f="";return 720>u?60>u?2>u?(f="just now",l=1,[f,l]):30>u?(f=u+" minutes ago",l=2,[f,l]):40>u?(f="about a half hour ago",l=2,[f,l]):50>u?(f="about 45 minutes ago",l=3,[f,l]):(f="about an hour ago",l=4,[f,l]):(f=1==i?p[6]+":"+p[7]+p[8]:"earlier today at "+p[6]+":"+p[7]+p[8],l=5,[f,l]):1440>u?(f="yesterday at "+p[6]+":"+p[7]+p[8],l=6,[f,l]):c>=1&&2>=c?(f="yesterday at "+p[6]+":"+p[7]+p[8],l=7,[f,l]):6>c?(f=p[0]+" at "+p[6]+":"+p[7]+p[8],l=8,[f,l]):30>c?(f=1==i?p[3]+"/"+p[1]+" at "+p[6]+":"+p[7]+p[8]:p[4]+" "+p[1]+p[2]+" around "+p[6]+p[8],l=9,[f,l]):(f=n(p,r),l=10,[f,l])}function o(t){var i=t.getDate(),e=t.getDay(),s=t.getMonth()+1,o=t.getFullYear(),n=t.getHours(),r=t.getMinutes().toString(),a=12>n?"am":"pm";r.length<2&&(r="0"+r);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h={1:"st",2:"nd",3:"rd",4:"th",5:"th",6:"th",7:"th",8:"th",9:"th",10:"th",11:"th",12:"th",13:"th",14:"th",15:"th",16:"th",17:"th",18:"th",19:"th",20:"th",21:"st",22:"nd",23:"rd",24:"th",25:"th",26:"th",27:"th",28:"th",29:"th",30:"th",31:"st"},c={1:"Jan",2:"Feb",3:"Mar",4:"April",5:"May",6:"June",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};return 0===n&&(n=12),n>12&&(n-=12),[u[e],i,h[i],s,c[s],o,n,r,a]}function n(t,i){var e=(i?i:new Date,i.getFullYear()===t[5]?t[4]+" "+t[1]+t[2]:t[4]+" "+t[1]+t[2]+" "+t[5]);return e}e.exports=s}),define("famous-utils/KeyCodes",["require","exports","module"],function(t,i,e){var s={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,ENTER:13,LEFT_ARROW:37,RIGHT_ARROW:39,UP_ARROW:38,DOWN_ARROW:40,SPACE:32,SHIFT:16,TAB:9};e.exports=s}),define("famous-utils/NoiseImage",["require","exports","module"],function(t,i,e){function s(t,i,e){t||(t=[128,128]),i||(i=8),o.width=t[0],o.height=t[1];var s=i>>1,r=o.width/i,a=i*i>>1,u=1/s;h(e),n.fillRect(0,0,t[0],t[1]),h(e);for(var c,p,l=0;a>l;l++)Math.random()+.5>>0&&(p=l*u>>0,c=l-s*p,n.fillRect(c*r,p*r,r,r),n.fillRect((i-(c+1))*r,p*r,r,r));var f=o.toDataURL("image/png");return f}var o=document.createElement("canvas"),n=o.getContext("2d"),r=function(t){var i=361*Math.random()>>0,e=t?45*t-(46*Math.random()>>0):i;return e},a=function(){return 30+71*Math.random()>>0},u=function(){return 30+71*Math.random()>>0},h=function(t){n.fillStyle="hsl("+r(t)+","+a()+"%,"+u()+"%)"};e.exports={generate:s}}),define("famous-utils/TimeAgo",["require","exports","module"],function(t,i,e){function s(t){var i=Date.now(),e=i-t,s=6e4,o=60*s,n=24*o;if(s>e)return"Just Now";if(o>e){var r=~~(e/s);return r+"m"}if(n>e){var a=~~(e/o);return a+"h"}var u=~~(e/n);return u+"d"}e.exports={parse:s}}),define("famous-views/ControlSet",["require","exports","module","famous/EventHandler","famous/Transform"],function(t,i,e){function s(){this.eventOutput=new o,o.setOutputHandler(this,this.eventOutput),this.controls=[]}var o=t("famous/EventHandler"),n=t("famous/Transform");s.prototype.include=function(t,i){i.on("change",function(i){this.eventOutput.emit(t,{value:i.value})}.bind(this)),this.controls.push(i)},s.prototype.render=function(){for(var t=[],i=0,e=0,s=0;s<this.controls.length;s++){var o=this.controls[s],r=o.getSize();t.push({transform:n.translate(0,i),target:o.render()}),i+=r[1],e=Math.max(e,r[0])}return{size:[e,i],target:t}},e.exports=s}),define("famous-views/DragSort",["require","exports","module","famous/ViewSequence","famous-modifiers/Draggable","famous/Modifier","famous/EventHandler","famous/Transform","famous-utilities/Utility","famous/OptionsManager"],function(t,i,e){function s(t){m.apply(this,arguments),this.optionsManager=new b,this._optionsManager.patch(Object.create(s.DEFAULT_OPTIONS)),this._optionsManager.patch(t),this.modifier=new g,this.draggable=new v(this.options.draggable),this.eventInput.pipe(this.eventOutput),this.eventOutput.pipe(this.draggable),this.draggable.pipe(this.eventInput),n.call(this),this.size=this.options.size,this.projection="y"===this.options.draggable.projection?1:0,o.call(this),this.deactivate()}function o(){this.lastScroll=0,this.scrollOffset=0,this.dragging=!1,this.draggablePosition=0}function n(){this.eventInput.on("editmodeOn",this.activate.bind(this)),this.eventInput.on("editmodeOff",this.deactivate.bind(this)),this.eventInput.on("dragstart",r.bind(this)),this.eventInput.on("dragmove",a.bind(this)),this.eventInput.on("dragend",d.bind(this))}function r(){this.dragging=!0,this.projection="y"===this.options.draggable.projection?1:0,this.modifier.setTransform(S.transformInFrontTransform)}function a(){this.forwardsSwapBarrier=this.options.getForwardSwapThreshold.call(this),this.backwardsSwapBarrier=this.options.getPreviousSwapThreshold.call(this),this.draggablePosition=this.draggable.getPosition()[this.projection],this.draggablePosition>0?u.call(this):p.call(this)}function u(){this.forwardsSwapBarrier&&h.call(this)&&c.call(this)}function h(){return this.draggablePosition>this.forwardsSwapBarrier?!0:!1}function c(){this.eventOutput.emit("swap",{swapper:{index:this.index},swappee:{index:this.index+1}});var t=[0,0];t[this.projection]=-this.options.getForwardSwapThreshold.call(this),this.draggable.setPosition(t)}function p(){this.backwardsSwapBarrier&&l.call(this)&&f.call(this)}function l(){return this.draggablePosition<-this.backwardsSwapBarrier?!0:!1}function f(){this.eventOutput.emit("swap",{swapper:{index:this.index},swappee:{index:this.index-1}});var t=[0,0];t[this.projection]=this.options.getPreviousSwapThreshold.call(this),this.draggable.setPosition(t)}function d(){this.dragging=!1,this.modifier.setTransform(y.Identity),o.call(this)}var m=t("famous/ViewSequence"),v=t("famous-modifiers/Draggable"),g=t("famous/Modifier"),y=(t("famous/EventHandler"),t("famous/Transform")),S=t("famous-utilities/Utility"),b=t("famous/OptionsManager");s.DEFAULT_OPTIONS={draggable:{projection:"y"},getForwardSwapThreshold:function(){return this.getNext()?.5*this.getNext().getSize()[this.projection]:0},getPreviousSwapThreshold:function(){return this.getPrevious()?.5*this.getPrevious().getSize()[this.projection]:0}},s.prototype=Object.create(m.prototype),s.prototype.constructor=s,s.prototype.activate=function(){return this.eventInput.unpipe(this.eventOutput),this.activated=!0,this.draggable.activate(),this},s.prototype.deactivate=function(){return this.eventInput.pipe(this.eventOutput),this.activated=!1,this.draggable.deactivate(),this},s.prototype.isActive=function(){return this.activated},s.prototype.setPosition=function(t,i,e){return this.draggable.setPosition(t,i,e)},s.prototype.render=function(){var t=this.get();if(t){var i=t.render.apply(t,arguments),e={transform:this.modifier.getTransform(),target:this.draggable.modify(i)};return e}},e.exports=s}),define("famous-views/Flip",["require","exports","module","famous/Transform","famous-transitions/Transitionable","famous/RenderNode"],function(t,i,e){function s(t){this.options={transition:!0,cull:!0},t&&this.setOptions(t),this._side=0,this.state=new n(0),this.frontNode=new r,this.backNode=new r}var o=t("famous/Transform"),n=t("famous-transitions/Transitionable"),r=t("famous/RenderNode");s.prototype.setDefaultTransition=function(t){this.transition=t},s.prototype.flip=function(t,i){void 0===t&&(t=1===this._side?0:1),this._side=t,this.state.set(t,this.options.transition,i)},s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.transition&&(this.options.transition=t.transition),void 0!==t.cull&&(this.options.cull=t.cull)},s.prototype.linkFront=function(t){return this.frontNode.link(t)},s.prototype.linkBack=function(t){return this.backNode.link(t)},s.prototype.render=function(t){var i=this.state.get();return void 0!==t?{transform:o.rotateY(Math.PI*i),target:t}:this.options.cull&&!this.state.isActive()?i?this.backNode.render():this.frontNode.render():[{transform:o.rotateY(Math.PI*i),target:this.frontNode.render()},{transform:o.rotateY(Math.PI*(i+1)),target:this.backNode.render()}]},e.exports=s}),define("famous-views/LightBox",["require","exports","module","famous/Transform","famous/Modifier","famous/RenderNode","famous-utilities/Utility"],function(t,i,e){function s(t){this.options={inTransform:o.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],outTransform:o.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],showTransform:o.identity,showOpacity:1,showOrigin:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[]}var o=t("famous/Transform"),n=t("famous/Modifier"),r=t("famous/RenderNode"),a=t("famous-utilities/Utility");s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){void 0!==t.inTransform&&(this.options.inTransform=t.inTransform),void 0!==t.inOpacity&&(this.options.inOpacity=t.inOpacity),void 0!==t.inOrigin&&(this.options.inOrigin=t.inOrigin),void 0!==t.outTransform&&(this.options.outTransform=t.outTransform),void 0!==t.outOpacity&&(this.options.outOpacity=t.outOpacity),void 0!==t.outOrigin&&(this.options.outOrigin=t.outOrigin),void 0!==t.showTransform&&(this.options.showTransform=t.showTransform),void 0!==t.showOpacity&&(this.options.showOpacity=t.showOpacity),void 0!==t.showOrigin&&(this.options.showOrigin=t.showOrigin),void 0!==t.inTransition&&(this.options.inTransition=t.inTransition),void 0!==t.outTransition&&(this.options.outTransition=t.outTransition),void 0!==t.overlap&&(this.options.overlap=t.overlap)},s.prototype.show=function(t,i,e){if(!t)return this.hide(e);if(i instanceof Function&&(e=i,i=void 0),this._showing){if(!this.options.overlap)return void this.hide(this.show.bind(this,t,e));this.hide()}this._showing=!0;var s=new n({transform:this.options.inTransform,opacity:this.options.inOpacity,origin:this.options.inOrigin}),o=new r;o.add(s).add(t),this.nodes.push(o),this.transforms.push(s);var u=e?a.after(3,e):void 0;i||(i=this.options.inTransition),s.setTransform(this.options.showTransform,i,u),s.setOpacity(this.options.showOpacity,i,u),s.setOrigin(this.options.showOrigin,i,u)},s.prototype.hide=function(t,i){if(this._showing){this._showing=!1,t instanceof Function&&(i=t,t=void 0);var e=this.nodes[this.nodes.length-1],s=this.transforms[this.transforms.length-1],o=a.after(3,function(){this.nodes.splice(this.nodes.indexOf(e),1),this.transforms.splice(this.transforms.indexOf(s),1),i&&i.call(this)}.bind(this));t||(t=this.options.outTransition),s.setTransform(this.options.outTransform,t,o),s.setOpacity(this.options.outOpacity,t,o),s.setOrigin(this.options.outOrigin,t,o)}},s.prototype.render=function(){for(var t=[],i=0;i<this.nodes.length;i++)t.push(this.nodes[i].render());return t},e.exports=s}),define("famous-views/LinkedNode",["require","exports","module","famous/View","famous/EventHandler","famous/OptionsManager"],function(t,i,e){function s(){n.apply(this,arguments),o.call(this)}function o(){this.index=0,this._next=void 0,this._previous=void 0}{var n=t("famous/View");t("famous/EventHandler"),t("famous/OptionsManager")}s.prototype=Object.create(n.prototype),s.prototype.toString=function(){return this.index},s.prototype.setValue=function(t){this.node.set(t),this.getSize=t.getSize.bind(t)},s.prototype.getSize=function(){return[void 0,void 0]},s.prototype.getNext=function(){return this._next},s.prototype.setNext=function(t){return this._next=t,this._next},s.prototype.insertAfter=function(t){if(!t)return void this.setNext(void 0);t.splice();var i=this.getNext();return i&&i.setPrevious(t),t.setNext(i),t.setPrevious(this),t.setIndex(this.index+1),this.setNext(t),t},s.prototype.getPrevious=function(){return this._previous},s.prototype.setPrevious=function(t){return this._previous=t,this._previous},s.prototype.insertBefore=function(t){if(!t)return void this.setPrevious(void 0);t.splice();var i=this.getPrevious();return i&&i.setNext(t),t.setPrevious(i),t.setNext(this),t.setIndex(this.index-1),this.setPrevious(t),t},s.prototype.getAllLinkedNodes=function(){for(var t=this.find(0),i=[];t;)i.push(t),t=t.getNext();return i},s.prototype.splice=function(){var t=this.getNext(),i=this.getPrevious();return i&&i.setNext(t),t&&t.setPrevious(i),o.call(this),this},s.prototype.swap=function(t){var i=this.getIndex(),e=t.getIndex(),s=this.getNext(),o=t.getNext(),n=this.getPrevious(),r=t.getPrevious();1===Math.abs(i-e)?(e>i&&t.insertAfter(this),i>e&&this.insertAfter(t)):(n?n.insertAfter(t):s&&s.insertBefore(t),r?r.insertAfter(this):o&&o.insertBefore(this)),t.setIndex(i),this.setIndex(e)},s.prototype.find=function(t){for(var i=this,e=t>this.getIndex()?"getNext":"getPrevious";i.getIndex()!==t;){var s=i[e]();if(!s)return!1;i=s}return i},s.prototype.getIndex=function(){return this.index},s.prototype.setIndex=function(t){return this.index=t,this},e.exports=s}),define("famous-views/ScrollContainer",["require","exports","module","famous-surfaces/ContainerSurface","famous/EventHandler","./Scrollview","famous-utilities/Utility"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.surface=new o(this.options.look),this.scrollview=new r(this.options.feel),t&&this.setOptions(t),this.surface.link(this.scrollview),n.setInputHandler(this,this.surface),n.setOutputHandler(this,this.surface),this.pipe(this.scrollview)}var o=t("famous-surfaces/ContainerSurface"),n=t("famous/EventHandler"),r=t("./Scrollview"),a=t("famous-utilities/Utility");s.DEFAULT_OPTIONS={look:void 0,feel:{direction:a.Direction.X}},s.prototype.setOptions=function(t){void 0!==t.look&&(this.options.look=t.look,this.surface.setOptions(this.options.look)),void 0!==t.feel&&(this.options.feel=t.feel,this.scrollview.setOptions(this.options.feel))},s.prototype.sequenceFrom=function(){return this.scrollview.sequenceFrom.apply(this.scrollview,arguments)},s.prototype.render=function(){return this.surface.render.apply(this.surface,arguments)},e.exports=s}),define("famous-views/SequentialLayout",["require","exports","module","famous/OptionsManager","famous/Transform","famous-transitions/Transitionable","famous/ViewSequence","famous-utilities/Utility"],function(t,i,e){function s(t){this._items=null,this._size=null,this._outputFunction=s.DEFAULT_OUTPUT_FUNCTION,this.options=Object.create(this.constructor.DEFAULT_OPTIONS),this.optionsManager=new o(this.options),t&&this.setOptions(t)}var o=t("famous/OptionsManager"),n=t("famous/Transform"),r=(t("famous-transitions/Transitionable"),t("famous/ViewSequence")),a=t("famous-utilities/Utility");s.DEFAULT_OPTIONS={direction:a.Direction.X,defaultItemSize:[50,50],itemSpacing:0},s.DEFAULT_OUTPUT_FUNCTION=function(t,i){var e=this.options.direction===a.Direction.X?n.translate(i,0):n.translate(0,i);return{transform:e,target:t.render()}},s.prototype.getSize=function(){return this._size||this.render(),this._size},s.prototype.sequenceFrom=function(t){return t instanceof Array&&(t=new r(t)),this._items=t,this},s.prototype.setOptions=function(){return this.optionsManager.setOptions.apply(this.optionsManager,arguments),this},s.prototype.setOutputFunction=function(t){return this._outputFunction=t,this},s.prototype.render=function(){for(var t=0,i=0,e=this.options.direction===a.Direction.X?0:1,s=this.options.direction===a.Direction.X?1:0,o=this._items,n=[];o;){var r=o.get();t&&(t+=this.options.itemSpacing);var u;r&&r.getSize&&(u=r.getSize()),u||(u=this.options.defaultItemSize),u[s]!==!0&&(i=Math.max(i,u[s]));var h=this._outputFunction.call(this,r,t,n.length);n.push(h),u[e]&&u[e]!==!0&&(t+=u[e]),o=o.getNext()}return i||(i=void 0),this._size||(this._size=[0,0]),this._size[e]=t,this._size[s]=i,{size:this.getSize(),target:n}},e.exports=s}),define("famous-views/Shaper",["require","exports","module","famous/RenderNode","famous/Transform","famous/Modifier","famous-utilities/Utility"],function(t,i,e){function s(t){this.nodes=[],this.transforms=[],this.defaultTransition={duration:1e3,curve:"easeInOut"};for(var i in t)this.side(i).from(t[i])}var o=t("famous/RenderNode"),n=t("famous/Transform"),r=t("famous/Modifier"),a=t("famous-utilities/Utility");s.prototype.side=function(t){return this.nodes[t]||(this.transforms[t]=new r,this.transforms[t].setDefaultTransition(this.defaultTransition),this.nodes[t]=new o(this.transforms[t])),this.nodes[t]},s.prototype.halt=function(t){this.transforms[t].halt()},s.prototype.haltSet=function(t){for(var i=0;i<t.length;i++)this.halt(i)},s.prototype.haltAll=function(){this.haltSet(this.all())},s.prototype.set=function(t,i,e,s){return this.transforms[t]?void this.transforms[t].setTransform(i,e,s):void(s&&s())},s.prototype.setShape=function(t,i,e,s){for(var o="function"==typeof i?i:function(t){return i[t]},n=s?a.after(t.length,s):void 0,r=0;r<t.length;r++)this.set(t[r],o(r),e,n)},s.prototype.setShapeAll=function(t,i,e){this.setShape(this.all(),t,i,e)},s.prototype.modify=function(t,i,e,s){var o=n.multiply(this.transforms[t].getFinalTransform(),i);this.set(t,o,e,s)},s.prototype.modifySet=function(t,i,e,s){for(var o=s?a.after(t.length,s):void 0,n=0;n<t.length;n++)this.modify(t[n],i,e,o)},s.prototype.modifyAll=function(t,i,e){this.modify(this.all(),t,i,e)},s.prototype.setOpacity=function(t,i,e,s){this.transforms[t].setOpacity(i,e,s)},s.prototype.setOpacitySet=function(t,i,e,s){for(var o=s?a.after(t.length,s):void 0,n=0;n<t.length;n++)this.setOpacity(t[n],i,e,o)},s.prototype.setOpacityAll=function(t,i,e){this.setOpacitySet(this.all(),t,i,e)},s.prototype.all=function(){var t=[];for(var i in this.nodes)t.push(i);return t},s.prototype.getTransform=function(t){return this.transforms[t].getTransform()},s.prototype.getOpacity=function(t){return this.transforms[t].getOpacity()},s.prototype.isMoving=function(t){return this.transforms[t].isMoving()},s.prototype.render=function(){for(var t=[],i=0;i<this.nodes.length;i++)t[i]=this.nodes[i].execute();return t},e.exports=s}),define("famous-views/Swappable",["require","exports","module","famous/RenderNode","famous/Transform","famous/Modifier"],function(t,i,e){function s(t){this.options={initTransform:u.identity,initOpacity:0,finalTransform:u.identity,finalOpacity:0,inTransition:{duration:500,curve:"easeInOut"},outTransition:{duration:500,curve:"easeInOut"},async:!1},this.nodes={},this.transforms=[],this.currIndex=-1,this.prevIndex=-1,this.setOptions(t)}function o(t,i,e,s,o,n,r){if(t in this.nodes){var a=this.nodes[t].modifiers[0];console.log(this.nodes[t]),a.isMoving&&!a.isMoving()&&(i&&a.setTransform(i),void 0!==e&&a.setOpacity(e)),a.setTransform(s,n),a.setOpacity(o,n,r)}}function n(t,i){o.call(this,t,this.options.initTransform,this.options.initOpacity,u.identity,1,this.options.inTransition,i)}function r(t,i){o.call(this,t,void 0,void 0,this.options.finalTransform,this.options.finalOpacity,this.options.outTransition,i)}var a=t("famous/RenderNode"),u=t("famous/Transform"),h=t("famous/Modifier");s.prototype.item=function(t){var i=new a(new h(this.options.initTransform,this.options.initOpacity),!0);return this.nodes[t]=i,i},s.prototype.select=function(t,i){t!=this.currIndex&&(this.options.async?r.call(this,this.currIndex,function(){n.call(this,this.currIndex,i)}.bind(this)):(r.call(this,this.currIndex),n.call(this,t,i)),this.currIndex=t)},s.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},s.prototype.getOptions=function(){return this.options},s.prototype.render=function(){var t=[];for(var i in this.nodes)t.push(this.nodes[i].render());return t},e.exports=s}),define("famous-views/TableView",["require","exports","module","famous-views/Scrollview","famous/Engine"],function(t,i,e){function s(){a.apply(this,arguments),this.editMode=!1,o.call(this),this.currentlyVisible=[],this.lastVisibleItem=void 0}function o(){this.eventInput.on("swap",r.bind(this)),u.on("prerender",n.bind(this))}function n(){var t=this.getSize()[this.options.direction];for(var i in this._offsets){var e=parseInt(i,10);
if(!isNaN(e)){var s=this._offsets[i]+this.getPosition(),o=this.node.find(e),n=o.getSize()[this.options.direction];t>s&&s>-n&&!this.currentlyVisible[e]&&(this.eventOutput.emit("becameVisible",{node:e}),this.currentlyVisible[i]=!0),0>s+n&&this.currentlyVisible[e]&&(this.eventOutput.emit("noLongerVisible",{node:e}),this.currentlyVisible[i]=!1)}}var r=this.currentlyVisible.indexOf(!0);r!==this.firstVisibleItem&&r>=0&&(this.firstVisibleItem=r,this.eventOutput.emit("becameFirstVisibleItem",{node:r}))}function r(t){var i=t.swapper.index,e=t.swappee.index,s=this.node.find(i),o=this.node.find(e);i===this.node.index?this.node=o:e===this.node.index&&(this.node=s),s.swap(o),this.eventOutput.emit("swapped",{swapper:i,swappee:e})}var a=t("famous-views/Scrollview"),u=t("famous/Engine");s.prototype=Object.create(a.prototype),s.prototype.emit=function(t,i){"update"==t||"start"==t||"end"==t||"swap"==t?this.eventInput.emit(t,i):this.sync.emit(t,i)},s.prototype.enableEditMode=function(){return this.editMode=!0,this.eventOutput.emit("editmodeOn"),this},s.prototype.disableEditMode=function(){return this.editMode=!1,this.eventOutput.emit("editmodeOff"),this},s.prototype.toggleEditMode=function(){return this.editMode?this.disableEditMode():this.enableEditMode()},s.prototype.isEditMode=function(){return this.editMode},s.prototype.sequenceFrom=function(t){return this.node=t,this._lastFrameNode=t,this},e.exports=s}),define("main",["require","exports","module","app/views/Boring","app/views/Game","app/views/Main","app/views/Resume","app/widgets/BouncyPane","app/widgets/ButtonPane","app/widgets/SlideShow","app/widgets/SlideUpPane","app/Bird","app/Cloud","app/Floor","app/GameSounds","app/Overlap","app/Pipe","app/Score","app/Sounds","app/Util","famous/Context","famous/ElementAllocator","famous/Engine","famous/Entity","famous/EventArbiter","famous/EventHandler","famous/Group","famous/Modifier","famous/OptionsManager","famous/RenderNode","famous/Scene","famous/SpecParser","famous/Surface","famous/Transform","famous/View","famous/ViewSequence","famous-animation/Animation","famous-animation/AnimationEngine","famous-animation/CubicBezier","famous-animation/Easing","famous-animation/Idle","famous-animation/LayoutEngine","famous-animation/PiecewiseCubicBezier","famous-animation/RegisterEasing","famous-animation/Sequence","famous-animation/Timer","famous-audio/BufferLoader","famous-audio/SoundPlayer","famous-color/Color","famous-color/ColorPalette","famous-color/ColorPalettes","famous-math/Quaternion","famous-math/Random","famous-math/Vector","famous-modifiers/Camera","famous-modifiers/Draggable","famous-modifiers/Lift","famous-modifiers/ModifierChain","famous-performance/Profiler","famous-performance/ProfilerMetric","famous-performance/ProfilerMetricView","famous-performance/ProfilerView","famous-physics/bodies/Body","famous-physics/bodies/Circle","famous-physics/bodies/Particle","famous-physics/bodies/Rectangle","famous-physics/constraints/Collision","famous-physics/constraints/CollisionJacobian","famous-physics/constraints/Constraint","famous-physics/constraints/Curve","famous-physics/constraints/Distance","famous-physics/constraints/Distance1D","famous-physics/constraints/Joint","famous-physics/constraints/Rod","famous-physics/constraints/Rope","famous-physics/constraints/StiffSpring","famous-physics/constraints/Surface","famous-physics/constraints/Wall","famous-physics/constraints/Walls","famous-physics/forces/Drag","famous-physics/forces/Force","famous-physics/forces/Repulsion","famous-physics/forces/RotationDrag","famous-physics/forces/Spring","famous-physics/forces/TorqueSpring","famous-physics/forces/VectorField","famous-physics/integrator/SymplecticEuler","famous-physics/integrator/verlet","famous-physics/utils/GaussSeidel","famous-physics/utils/matrix","famous-physics/PhysicsEngine","famous-surfaces/CanvasSurface","famous-surfaces/ContainerSurface","famous-surfaces/ImageSurface","famous-surfaces/InputSurface","famous-surfaces/VideoSurface","famous-surfaces/WebGLSurface","famous-sync/FastClick","famous-sync/GenericSync","famous-sync/MouseSync","famous-sync/PinchSync","famous-sync/RotateSync","famous-sync/ScaleSync","famous-sync/ScrollSync","famous-sync/TouchSync","famous-sync/TouchTracker","famous-sync/TwoFingerSync","famous-transitions/DragTransition","famous-transitions/Easing","famous-transitions/MultipleTransition","famous-transitions/SpringTransition","famous-transitions/StiffSpringTransition","famous-transitions/Transitionable","famous-transitions/TweenTransition","famous-transitions/WallTransition","famous-ui/Buttons/ButtonBase","famous-ui/Buttons/RotateButton","famous-ui/Buttons/SpringButton","famous-ui/Buttons/SpringButton.ui","famous-ui/ColorPicker/AlphaPicker","famous-ui/ColorPicker/CanvasPicker","famous-ui/ColorPicker/ColorButton","famous-ui/ColorPicker/ColorPicker","famous-ui/ColorPicker/GradientPicker","famous-ui/ColorPicker/HuePicker","famous-ui/Dropdown/Dropdown","famous-ui/Dropdown/DropdownItem","famous-ui/Easing/CanvasDrawer","famous-ui/Easing/EasingBool","famous-ui/Easing/EasingVisualizer","famous-ui/Easing/MultiEasingToggle","famous-ui/Text/Label","famous-ui/Toggles/BoolToggle","famous-ui/Toggles/MultiBoolToggle","famous-ui/AutoUI","famous-ui/PanelScrollview","famous-ui/Slider","famous-utilities/Color","famous-utilities/KeyCodes","famous-utilities/Timer","famous-utilities/Utility","famous-utils/FormatTime","famous-utils/KeyCodes","famous-utils/NoiseImage","famous-utils/Time","famous-utils/TimeAgo","famous-utils/Utils","famous-views/ControlSet","famous-views/DragSort","famous-views/Flip","famous-views/LightBox","famous-views/LinkedNode","famous-views/ScrollContainer","famous-views/Scrollview","famous-views/SequentialLayout","famous-views/Shaper","famous-views/Swappable","famous-views/TableView"],function(t,i,e){var s=function(i){i.call(this,t)};s.App={},s.App.Views_Boring=t("app/views/Boring"),s.App.Views_Game=t("app/views/Game"),s.App.Views_Main=t("app/views/Main"),s.App.Views_Resume=t("app/views/Resume"),s.App.Widgets_BouncyPane=t("app/widgets/BouncyPane"),s.App.Widgets_ButtonPane=t("app/widgets/ButtonPane"),s.App.Widgets_SlideShow=t("app/widgets/SlideShow"),s.App.Widgets_SlideUpPane=t("app/widgets/SlideUpPane"),s.App.Bird=t("app/Bird"),s.App.Cloud=t("app/Cloud"),s.App.Floor=t("app/Floor"),s.App.GameSounds=t("app/GameSounds"),s.App.Overlap=t("app/Overlap"),s.App.Pipe=t("app/Pipe"),s.App.Score=t("app/Score"),s.App.Sounds=t("app/Sounds"),s.App.Util=t("app/Util"),s.Famous={},s.Famous.Context=t("famous/Context"),s.Famous.ElementAllocator=t("famous/ElementAllocator"),s.Famous.Engine=t("famous/Engine"),s.Famous.Entity=t("famous/Entity"),s.Famous.EventArbiter=t("famous/EventArbiter"),s.Famous.EventHandler=t("famous/EventHandler"),s.Famous.Group=t("famous/Group"),s.Famous.Modifier=t("famous/Modifier"),s.Famous.OptionsManager=t("famous/OptionsManager"),s.Famous.RenderNode=t("famous/RenderNode"),s.Famous.Scene=t("famous/Scene"),s.Famous.SpecParser=t("famous/SpecParser"),s.Famous.Surface=t("famous/Surface"),s.Famous.Transform=t("famous/Transform"),s.Famous.View=t("famous/View"),s.Famous.ViewSequence=t("famous/ViewSequence"),s.FamousAnimation={},s.FamousAnimation.Animation=t("famous-animation/Animation"),s.FamousAnimation.AnimationEngine=t("famous-animation/AnimationEngine"),s.FamousAnimation.CubicBezier=t("famous-animation/CubicBezier"),s.FamousAnimation.Easing=t("famous-animation/Easing"),s.FamousAnimation.Idle=t("famous-animation/Idle"),s.FamousAnimation.LayoutEngine=t("famous-animation/LayoutEngine"),s.FamousAnimation.PiecewiseCubicBezier=t("famous-animation/PiecewiseCubicBezier"),s.FamousAnimation.RegisterEasing=t("famous-animation/RegisterEasing"),s.FamousAnimation.Sequence=t("famous-animation/Sequence"),s.FamousAnimation.Timer=t("famous-animation/Timer"),s.FamousAudio={},s.FamousAudio.BufferLoader=t("famous-audio/BufferLoader"),s.FamousAudio.SoundPlayer=t("famous-audio/SoundPlayer"),s.FamousColor={},s.FamousColor.Color=t("famous-color/Color"),s.FamousColor.ColorPalette=t("famous-color/ColorPalette"),s.FamousColor.ColorPalettes=t("famous-color/ColorPalettes"),s.FamousMath={},s.FamousMath.Quaternion=t("famous-math/Quaternion"),s.FamousMath.Random=t("famous-math/Random"),s.FamousMath.Vector=t("famous-math/Vector"),s.FamousModifiers={},s.FamousModifiers.Camera=t("famous-modifiers/Camera"),s.FamousModifiers.Draggable=t("famous-modifiers/Draggable"),s.FamousModifiers.Lift=t("famous-modifiers/Lift"),s.FamousModifiers.ModifierChain=t("famous-modifiers/ModifierChain"),s.FamousPerformance={},s.FamousPerformance.Profiler=t("famous-performance/Profiler"),s.FamousPerformance.ProfilerMetric=t("famous-performance/ProfilerMetric"),s.FamousPerformance.ProfilerMetricView=t("famous-performance/ProfilerMetricView"),s.FamousPerformance.ProfilerView=t("famous-performance/ProfilerView"),s.FamousPhysics={},s.FamousPhysics.Bodies_Body=t("famous-physics/bodies/Body"),s.FamousPhysics.Bodies_Circle=t("famous-physics/bodies/Circle"),s.FamousPhysics.Bodies_Particle=t("famous-physics/bodies/Particle"),s.FamousPhysics.Bodies_Rectangle=t("famous-physics/bodies/Rectangle"),s.FamousPhysics.Constraints_Collision=t("famous-physics/constraints/Collision"),s.FamousPhysics.Constraints_CollisionJacobian=t("famous-physics/constraints/CollisionJacobian"),s.FamousPhysics.Constraints_Constraint=t("famous-physics/constraints/Constraint"),s.FamousPhysics.Constraints_Curve=t("famous-physics/constraints/Curve"),s.FamousPhysics.Constraints_Distance=t("famous-physics/constraints/Distance"),s.FamousPhysics.Constraints_Distance1D=t("famous-physics/constraints/Distance1D"),s.FamousPhysics.Constraints_Joint=t("famous-physics/constraints/Joint"),s.FamousPhysics.Constraints_Rod=t("famous-physics/constraints/Rod"),s.FamousPhysics.Constraints_Rope=t("famous-physics/constraints/Rope"),s.FamousPhysics.Constraints_StiffSpring=t("famous-physics/constraints/StiffSpring"),s.FamousPhysics.Constraints_Surface=t("famous-physics/constraints/Surface"),s.FamousPhysics.Constraints_Wall=t("famous-physics/constraints/Wall"),s.FamousPhysics.Constraints_Walls=t("famous-physics/constraints/Walls"),s.FamousPhysics.Forces_Drag=t("famous-physics/forces/Drag"),s.FamousPhysics.Forces_Force=t("famous-physics/forces/Force"),s.FamousPhysics.Forces_Repulsion=t("famous-physics/forces/Repulsion"),s.FamousPhysics.Forces_RotationDrag=t("famous-physics/forces/RotationDrag"),s.FamousPhysics.Forces_Spring=t("famous-physics/forces/Spring"),s.FamousPhysics.Forces_TorqueSpring=t("famous-physics/forces/TorqueSpring"),s.FamousPhysics.Forces_VectorField=t("famous-physics/forces/VectorField"),s.FamousPhysics.Integrator_SymplecticEuler=t("famous-physics/integrator/SymplecticEuler"),s.FamousPhysics.Integrator_verlet=t("famous-physics/integrator/verlet"),s.FamousPhysics.Utils_GaussSeidel=t("famous-physics/utils/GaussSeidel"),s.FamousPhysics.Utils_matrix=t("famous-physics/utils/matrix"),s.FamousPhysics.PhysicsEngine=t("famous-physics/PhysicsEngine"),s.FamousSurfaces={},s.FamousSurfaces.CanvasSurface=t("famous-surfaces/CanvasSurface"),s.FamousSurfaces.ContainerSurface=t("famous-surfaces/ContainerSurface"),s.FamousSurfaces.ImageSurface=t("famous-surfaces/ImageSurface"),s.FamousSurfaces.InputSurface=t("famous-surfaces/InputSurface"),s.FamousSurfaces.VideoSurface=t("famous-surfaces/VideoSurface"),s.FamousSurfaces.WebGLSurface=t("famous-surfaces/WebGLSurface"),s.FamousSync={},s.FamousSync.FastClick=t("famous-sync/FastClick"),s.FamousSync.GenericSync=t("famous-sync/GenericSync"),s.FamousSync.MouseSync=t("famous-sync/MouseSync"),s.FamousSync.PinchSync=t("famous-sync/PinchSync"),s.FamousSync.RotateSync=t("famous-sync/RotateSync"),s.FamousSync.ScaleSync=t("famous-sync/ScaleSync"),s.FamousSync.ScrollSync=t("famous-sync/ScrollSync"),s.FamousSync.TouchSync=t("famous-sync/TouchSync"),s.FamousSync.TouchTracker=t("famous-sync/TouchTracker"),s.FamousSync.TwoFingerSync=t("famous-sync/TwoFingerSync"),s.FamousTransitions={},s.FamousTransitions.DragTransition=t("famous-transitions/DragTransition"),s.FamousTransitions.Easing=t("famous-transitions/Easing"),s.FamousTransitions.MultipleTransition=t("famous-transitions/MultipleTransition"),s.FamousTransitions.SpringTransition=t("famous-transitions/SpringTransition"),s.FamousTransitions.StiffSpringTransition=t("famous-transitions/StiffSpringTransition"),s.FamousTransitions.Transitionable=t("famous-transitions/Transitionable"),s.FamousTransitions.TweenTransition=t("famous-transitions/TweenTransition"),s.FamousTransitions.WallTransition=t("famous-transitions/WallTransition"),s.FamousUi={},s.FamousUi.Buttons_ButtonBase=t("famous-ui/Buttons/ButtonBase"),s.FamousUi.Buttons_RotateButton=t("famous-ui/Buttons/RotateButton"),s.FamousUi.Buttons_SpringButton=t("famous-ui/Buttons/SpringButton"),s.FamousUi.Buttons_SpringButton.ui=t("famous-ui/Buttons/SpringButton.ui"),s.FamousUi.ColorPicker_AlphaPicker=t("famous-ui/ColorPicker/AlphaPicker"),s.FamousUi.ColorPicker_CanvasPicker=t("famous-ui/ColorPicker/CanvasPicker"),s.FamousUi.ColorPicker_ColorButton=t("famous-ui/ColorPicker/ColorButton"),s.FamousUi.ColorPicker_ColorPicker=t("famous-ui/ColorPicker/ColorPicker"),s.FamousUi.ColorPicker_GradientPicker=t("famous-ui/ColorPicker/GradientPicker"),s.FamousUi.ColorPicker_HuePicker=t("famous-ui/ColorPicker/HuePicker"),s.FamousUi.Dropdown_Dropdown=t("famous-ui/Dropdown/Dropdown"),s.FamousUi.Dropdown_DropdownItem=t("famous-ui/Dropdown/DropdownItem"),s.FamousUi.Easing_CanvasDrawer=t("famous-ui/Easing/CanvasDrawer"),s.FamousUi.Easing_EasingBool=t("famous-ui/Easing/EasingBool"),s.FamousUi.Easing_EasingVisualizer=t("famous-ui/Easing/EasingVisualizer"),s.FamousUi.Easing_MultiEasingToggle=t("famous-ui/Easing/MultiEasingToggle"),s.FamousUi.Text_Label=t("famous-ui/Text/Label"),s.FamousUi.Toggles_BoolToggle=t("famous-ui/Toggles/BoolToggle"),s.FamousUi.Toggles_MultiBoolToggle=t("famous-ui/Toggles/MultiBoolToggle"),s.FamousUi.AutoUI=t("famous-ui/AutoUI"),s.FamousUi.PanelScrollview=t("famous-ui/PanelScrollview"),s.FamousUi.Slider=t("famous-ui/Slider"),s.FamousUtilities={},s.FamousUtilities.Color=t("famous-utilities/Color"),s.FamousUtilities.KeyCodes=t("famous-utilities/KeyCodes"),s.FamousUtilities.Timer=t("famous-utilities/Timer"),s.FamousUtilities.Utility=t("famous-utilities/Utility"),s.FamousUtils={},s.FamousUtils.FormatTime=t("famous-utils/FormatTime"),s.FamousUtils.KeyCodes=t("famous-utils/KeyCodes"),s.FamousUtils.NoiseImage=t("famous-utils/NoiseImage"),s.FamousUtils.Time=t("famous-utils/Time"),s.FamousUtils.TimeAgo=t("famous-utils/TimeAgo"),s.FamousUtils.Utils=t("famous-utils/Utils"),s.FamousViews={},s.FamousViews.ControlSet=t("famous-views/ControlSet"),s.FamousViews.DragSort=t("famous-views/DragSort"),s.FamousViews.Flip=t("famous-views/Flip"),s.FamousViews.LightBox=t("famous-views/LightBox"),s.FamousViews.LinkedNode=t("famous-views/LinkedNode"),s.FamousViews.ScrollContainer=t("famous-views/ScrollContainer"),s.FamousViews.Scrollview=t("famous-views/Scrollview"),s.FamousViews.SequentialLayout=t("famous-views/SequentialLayout"),s.FamousViews.Shaper=t("famous-views/Shaper"),s.FamousViews.Swappable=t("famous-views/Swappable"),s.FamousViews.TableView=t("famous-views/TableView"),e.exports=s}),require(["lib/classList","lib/functionPrototypeBind","lib/requestAnimationFrame","lib/text","lib/Hogan","main"]),require("main")});